{"file_contents":{"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = []\n","size_bytes":143},"replit.md":{"content":"# Nigzsu Business Intelligence Dashboard\n\n## Overview\nNigzsu is a React and FastAPI business intelligence dashboard that converts CCTV-derived data into actionable insights. It features role-based access for administrators and clients. Clients access personalized dashboards with charts and analytics from Google Sheets CSV data, while administrators manage users and system configurations. The application includes advanced data filtering, search capabilities, and comprehensive user management.\n\n## User Preferences\nPreferred communication style: Simple, everyday language.\n\n## Recent Updates (October 2025)\n\n### Cloud SQL PostgreSQL Migration (October 5, 2025)\n- **Database Infrastructure**: Migrated from Google Sheets CSV to Google Cloud SQL PostgreSQL for faster, more reliable data access\n- **Cloud SQL Connector**: Implemented secure connection using Cloud SQL Python Connector with service account authentication\n- **Native Data Format**: Uses Cloud SQL data directly without transformation - age buckets (0-4, 5-13, 14-25, 26-45, 46-65, 66+) displayed as-is, ISO timestamps throughout\n- **User Management Update**: Changed from csv_url to table_name for client configuration - admins now assign Cloud SQL table names to clients\n- **SQL Aggregation Performance**: Replaced full table scans with targeted SQL aggregation queries (GROUP BY, COUNT, AVG) for 3-4x performance improvement\n- **Parameterized Queries**: All user inputs protected with SQLAlchemy text() parameter binding to prevent SQL injection attacks\n- **Occupancy-Based Dwell Time**: Redesigned dwell time calculation from individual track matching to occupancy-based method using SQL window functions - calculates area under occupancy curve (person-minutes ÷ entries) for accurate average visit duration (~24 minutes vs incorrect 38+ hours)\n- **Correct Total Traffic Display**: Frontend now displays actual total_records (881,726) from summary instead of limited data array length (10,000)\n- **Full Database Event Search**: New /api/search-events endpoint enables searching across entire 881k+ event database with server-side filtering (date, event type, gender, age, track ID) and pagination instead of limited client-side filtering\n- **Actual Event Records**: Returns up to 10,000 real event records with track_id, timestamp, sex, age_bucket fields for frontend chart compatibility\n- **Empty Dataset Handling**: Gracefully handles empty tables by returning empty datasets rather than errors\n- **Security**: Service account credentials managed as environment secrets, parameterized queries block SQL injection\n- **Result**: Scalable database infrastructure (~9 second API response for 880k+ records) with accurate calculations, correct KPI displays, and full database search capability\n\n### Landing Page & Interest Registration (October 4, 2025)\n- **Public Landing Page**: Created professional marketing landing page at root URL (/) with dark theme and cyan accents\n- **Hero Section**: Compelling headline \"Transform Your CCTV Footage Into Instant Business Insights\" with animated visual elements\n- **Value Proposition**: Multiple sections highlighting the problem (unused CCTV data), solution (Nigzsu's frictionless approach), and key features\n- **Register Interest Form**: Comprehensive form capturing name, email, company, phone, business type, and message with client-side validation\n- **Backend Endpoint**: New `/api/register-interest` endpoint stores submissions to `backend/data/interest_submissions.json` with UUID tracking\n- **Updated Routing**: Landing page at `/`, login at `/login`, protected routes for authenticated users only\n- **Navigation**: Clear separation between \"Get Started\" (scrolls to form) and \"Login\" (existing clients) buttons\n- **Form Validation**: Client-side validation for required fields and email format before submission\n- **Responsive Design**: Mobile-friendly layout adapting to different screen sizes\n- **Result**: Professional customer-facing entry point that captures leads while keeping the dashboard secure\n\n### Codebase Cleanup & Production Optimization (October 4, 2025)\n- **Removed Unnecessary Files**: Cleaned up 40+ files including attached_assets/, old prompts, screenshots, design docs\n- **Build Artifacts**: Removed committed frontend/build/ directory (3.3MB) and updated .gitignore to prevent future commits\n- **Dependency Consolidation**: Moved export-related dependencies (html2canvas, jspdf, papaparse, xlsx) from root to frontend/package.json\n- **Removed Unused Dependencies**: Eliminated google-cloud-storage and requests from backend requirements.txt\n- **Removed Test Files**: Deleted test_deployment.py and duplicate root package.json files\n- **Python Dependency Cleanup**: Removed unused root pyproject.toml and uv.lock (Dockerfile uses backend/requirements.txt)\n- **Environment File Cleanup**: Removed duplicate frontend/public/.env, kept frontend/.env and frontend/.env.production\n- **Documentation**: Created comprehensive README.md with local dev and Google Cloud Run deployment instructions\n- **Removed Legacy Config**: Eliminated GCS_BUCKET environment variable references (app uses Google Sheets CSV and local JSON)\n- **Result**: Leaner codebase, faster builds, production-ready structure with 100% functionality preserved\n\n## System Architecture\n\n### Frontend Architecture\nA modern React SPA built with TypeScript, featuring a professional dark theme. It utilizes React Router for navigation, ECharts and Recharts for data visualizations, and react-datepicker for date selections. State management is handled with React hooks, and the build process uses Create React App with Craco.\n\n### Backend Architecture\nA FastAPI-based REST API with a modular and secure design. The backend is organized into modules for authentication, database operations, data models, configuration, view token management, and data processing. It uses HTTP Basic Auth with SHA-256 password hashing and stores user data in JSON files with atomic write operations. Data processing leverages Pandas for CSV manipulation.\n\n### Data Storage Solutions\nThe application employs a hybrid storage approach. User data, including hashed passwords and last login times, is stored in a local JSON file (`users.json`). Client analytics data is stored in Google Cloud SQL PostgreSQL tables, with each client assigned a dedicated table name (e.g., client1, client2). The application uses the Cloud SQL Python Connector for secure, authenticated access with automatic connection pooling.\n\n### Authentication and Authorization\nA secure authentication model using HTTP Basic Auth with SHA-256 password hashing. It supports a two-tier role system (admin/client), tracks last login times, and enforces route-level access control.\n\n## External Dependencies\n\n### Data Sources\n- **Google Cloud SQL**: PostgreSQL database (nigzsu:europe-west2:nigzsutestdb) storing client analytics data with tables per client.\n\n### Python Backend Libraries\n- **FastAPI**: Web framework for the REST API.\n- **Uvicorn**: ASGI server.\n- **Pandas**: For data manipulation and analytics processing.\n- **cloud-sql-python-connector**: Secure connection to Google Cloud SQL with service account authentication.\n- **SQLAlchemy**: ORM and database toolkit for PostgreSQL queries.\n- **pg8000**: Pure-Python PostgreSQL database driver.\n- **python-multipart**: For form data handling.\n\n### React Frontend Libraries\n- **React**: Core UI framework.\n- **React Router**: For client-side navigation.\n- **react-datepicker**: For date selection UI.\n- **ECharts**: For interactive data visualizations.\n- **Recharts**: For additional chart components.\n- **TypeScript**: For type safety and enhanced development.\n\n### Deployment Infrastructure\n- **Target Platform**: Google Cloud Run.\n- **Containerization**: Docker with multi-stage builds.\n- **Web Server**: Nginx for serving the React SPA.","size_bytes":7843},"frontend/README.md":{"content":"# Getting Started with Create React App\n\nThis project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).\n\n## Available Scripts\n\nIn the project directory, you can run:\n\n### `npm start`\n\nRuns the app in the development mode.\\\nOpen [http://localhost:3000](http://localhost:3000) to view it in the browser.\n\nThe page will reload if you make edits.\\\nYou will also see any lint errors in the console.\n\n### `npm test`\n\nLaunches the test runner in the interactive watch mode.\\\nSee the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.\n\n### `npm run build`\n\nBuilds the app for production to the `build` folder.\\\nIt correctly bundles React in production mode and optimizes the build for the best performance.\n\nThe build is minified and the filenames include the hashes.\\\nYour app is ready to be deployed!\n\nSee the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.\n\n### `npm run eject`\n\n**Note: this is a one-way operation. Once you `eject`, you can’t go back!**\n\nIf you aren’t satisfied with the build tool and configuration choices, you can `eject` at any time. This command will remove the single build dependency from your project.\n\nInstead, it will copy all the configuration files and the transitive dependencies (webpack, Babel, ESLint, etc) right into your project so you have full control over them. All of the commands except `eject` will still work, but they will point to the copied scripts so you can tweak them. At this point you’re on your own.\n\nYou don’t have to ever use `eject`. The curated feature set is suitable for small and middle deployments, and you shouldn’t feel obligated to use this feature. However we understand that this tool wouldn’t be useful if you couldn’t customize it when you are ready for it.\n\n## Learn More\n\nYou can learn more in the [Create React App documentation](https://facebook.github.io/create-react-app/docs/getting-started).\n\nTo learn React, check out the [React documentation](https://reactjs.org/).\n","size_bytes":2117},"frontend/craco.config.js":{"content":"// Secure CRACO configuration for Replit deployment\nmodule.exports = {\n  devServer: {\n    allowedHosts: [\n      'localhost',\n      '.replit.dev', \n      '.replit.co',\n      '127.0.0.1',\n      '0.0.0.0'\n    ],\n    host: '0.0.0.0',\n    headers: {\n      'X-Frame-Options': 'SAMEORIGIN',\n      'X-Content-Type-Options': 'nosniff'\n    }\n  }\n};","size_bytes":338},"frontend/src/App.css":{"content":"/* Modern SaaS-style Dashboard CSS */\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  min-height: 100vh;\n}\n\n.App {\n  min-height: 100vh;\n}\n\n/* Loading States */\n.loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  color: white;\n}\n\n.spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid rgba(255, 255, 255, 0.3);\n  border-top: 4px solid white;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 20px;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Error States */\n.error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  color: white;\n  text-align: center;\n  padding: 20px;\n}\n\n.retry-btn {\n  background: #4CAF50;\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 16px;\n  margin-top: 20px;\n  transition: background 0.3s ease;\n}\n\n.retry-btn:hover {\n  background: #45a049;\n}\n\n/* Login Styles */\n.login-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  padding: 20px;\n}\n\n.login-card {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  padding: 40px;\n  border-radius: 16px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n  max-width: 400px;\n  width: 100%;\n  text-align: center;\n}\n\n.login-card h2 {\n  color: #333;\n  margin-bottom: 10px;\n  font-size: 28px;\n}\n\n.login-card p {\n  color: #666;\n  margin-bottom: 30px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n  text-align: left;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 8px;\n  color: #333;\n  font-weight: 500;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid #e1e5e9;\n  border-radius: 8px;\n  font-size: 16px;\n  transition: border-color 0.3s ease;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: #667eea;\n}\n\n.login-btn {\n  width: 100%;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  padding: 14px;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: transform 0.2s ease;\n}\n\n.login-btn:hover {\n  transform: translateY(-2px);\n}\n\n/* Dashboard Styles */\n.dashboard {\n  background: #f8fafc;\n  min-height: 100vh;\n  padding: 20px;\n}\n\n.dashboard-header {\n  text-align: center;\n  margin-bottom: 40px;\n  color: #1a202c;\n}\n\n.dashboard-header h1 {\n  font-size: 36px;\n  margin-bottom: 10px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.dashboard-header p {\n  font-size: 18px;\n  color: #4a5568;\n}\n\n/* Summary Cards */\n.summary-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 20px;\n  margin-bottom: 40px;\n}\n\n.card {\n  background: white;\n  padding: 24px;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e2e8f0;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n}\n\n.card h3 {\n  font-size: 14px;\n  color: #4a5568;\n  margin-bottom: 12px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  font-weight: 600;\n}\n\n.metric {\n  font-size: 32px;\n  font-weight: 700;\n  color: #1a202c;\n  margin-bottom: 8px;\n}\n\n.sub-metric {\n  font-size: 12px;\n  color: #718096;\n}\n\n/* Charts Grid */\n.charts-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 24px;\n  margin-bottom: 40px;\n}\n\n.chart-card {\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e2e8f0;\n  overflow: hidden;\n}\n\n.chart-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid #e2e8f0;\n  background: #f7fafc;\n}\n\n.chart-header h4 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1a202c;\n  margin: 0;\n}\n\n.chart-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.export-btn {\n  background: #e2e8f0;\n  color: #4a5568;\n  border: none;\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.export-btn:hover {\n  background: #cbd5e0;\n}\n\n.chart-placeholder {\n  padding: 40px 24px;\n  text-align: center;\n  color: #4a5568;\n  min-height: 250px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.chart-placeholder p:first-child {\n  font-size: 16px;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n/* Age/Event Breakdown */\n.age-breakdown, .event-breakdown {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 12px;\n  margin-top: 16px;\n}\n\n.age-item, .event-item {\n  background: #f7fafc;\n  padding: 8px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n}\n\n.age-label, .event-label {\n  font-weight: 600;\n  color: #4a5568;\n}\n\n.age-count, .event-count {\n  color: #1a202c;\n  margin-left: 4px;\n}\n\n/* Intelligence Panel */\n.intelligence-panel {\n  background: white;\n  padding: 24px;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e2e8f0;\n}\n\n.intelligence-panel h3 {\n  font-size: 20px;\n  color: #1a202c;\n  margin-bottom: 20px;\n}\n\n.insights-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 16px;\n}\n\n.insight {\n  background: #f7fafc;\n  padding: 16px;\n  border-radius: 8px;\n  border-left: 4px solid #667eea;\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n.insight strong {\n  color: #1a202c;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .dashboard {\n    padding: 16px;\n  }\n  \n  .summary-cards {\n    grid-template-columns: 1fr;\n  }\n  \n  .charts-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .chart-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n  }\n  \n  .insights-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .dashboard-header h1 {\n    font-size: 28px;\n  }\n}\n\n/* Professional Animations */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.card, .chart-card, .intelligence-panel {\n  animation: fadeIn 0.6s ease-out;\n}\n\n/* Focus States for Accessibility */\nbutton:focus,\ninput:focus {\n  outline: 2px solid #667eea;\n  outline-offset: 2px;\n}\n","size_bytes":6762},"frontend/src/App.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport VRMLayout from './components/VRMLayout';\nimport DashboardPage from './pages/DashboardPage';\nimport EventLogsPage from './pages/EventLogsPage';\nimport AlarmLogsPage from './pages/AlarmLogsPage';\nimport DeviceListPage from './pages/DeviceListPage';\nimport ReportsPage from './pages/ReportsPage';\nimport AnalyticsPage from './pages/AnalyticsPage';\nimport AdminPage from './pages/AdminPage';\nimport LandingPage from './pages/LandingPage';\nimport './styles/VRMTheme.css';\n\n// Login Component\nconst Login: React.FC<{onLogin: (username: string, password: string) => void}> = ({ onLogin }) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password }),\n      });\n\n      if (response.ok) {\n        await response.json();\n        onLogin(username, password);\n      } else if (response.status === 401) {\n        setError('Invalid username or password');\n      } else {\n        setError('Connection error. Please try again.');\n      }\n    } catch (err) {\n      setError('Unable to connect to server');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ \n      display: 'flex', \n      alignItems: 'center', \n      justifyContent: 'center', \n      minHeight: '100vh', \n      background: 'var(--vrm-bg-primary)',\n      padding: '20px' \n    }}>\n      <div style={{ \n        background: 'var(--vrm-bg-secondary)', \n        padding: '40px',\n        borderRadius: '12px',\n        border: '1px solid var(--vrm-border)',\n        maxWidth: '400px',\n        width: '100%',\n        textAlign: 'center'\n      }}>\n        <div style={{ marginBottom: '32px' }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            borderRadius: '8px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 16px',\n            overflow: 'hidden'\n          }}>\n            <img \n              src=\"/company-logo.png\" \n              alt=\"Company Logo\"\n              style={{\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover'\n              }}\n            />\n          </div>\n          <h2 style={{ color: 'var(--vrm-text-primary)', marginBottom: '8px', fontSize: '24px', fontWeight: '600' }}>\n            Nigzsu\n          </h2>\n        </div>\n\n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: '20px', textAlign: 'left' }}>\n            <label style={{ \n              display: 'block', \n              marginBottom: '6px', \n              color: 'var(--vrm-text-secondary)', \n              fontSize: '14px',\n              fontWeight: '500'\n            }}>\n              Username:\n            </label>\n            <input \n              type=\"text\" \n              value={username} \n              onChange={(e) => setUsername(e.target.value)}\n              placeholder=\"Enter username\"\n              autoComplete=\"username\"\n              required\n              style={{ \n                width: '100%',\n                padding: '12px 16px',\n                backgroundColor: 'var(--vrm-bg-tertiary)',\n                border: '1px solid var(--vrm-border)',\n                borderRadius: '6px',\n                color: 'var(--vrm-text-primary)',\n                fontSize: '14px'\n              }}\n            />\n          </div>\n          \n          <div style={{ marginBottom: '24px', textAlign: 'left' }}>\n            <label style={{ \n              display: 'block', \n              marginBottom: '6px', \n              color: 'var(--vrm-text-secondary)', \n              fontSize: '14px',\n              fontWeight: '500'\n            }}>\n              Password:\n            </label>\n            <input \n              type=\"password\" \n              value={password} \n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Enter password\"\n              autoComplete=\"current-password\"\n              required\n              style={{ \n                width: '100%',\n                padding: '12px 16px',\n                backgroundColor: 'var(--vrm-bg-tertiary)',\n                border: '1px solid var(--vrm-border)',\n                borderRadius: '6px',\n                color: 'var(--vrm-text-primary)',\n                fontSize: '14px'\n              }}\n            />\n          </div>\n\n          {error && (\n            <div style={{ \n              marginBottom: '20px',\n              padding: '12px',\n              backgroundColor: 'rgba(244, 67, 54, 0.1)',\n              border: '1px solid var(--vrm-accent-red)',\n              borderRadius: '6px',\n              color: 'var(--vrm-accent-red)',\n              fontSize: '14px'\n            }}>\n              {error}\n            </div>\n          )}\n\n          <button \n            type=\"submit\" \n            disabled={loading}\n            className=\"vrm-btn\"\n            style={{ \n              width: '100%',\n              padding: '14px',\n              fontSize: '16px',\n              fontWeight: '600'\n            }}\n          >\n            {loading ? 'Signing In...' : 'Sign In'}\n          </button>\n        </form>\n\n        <div style={{ \n          marginTop: '24px', \n          padding: '16px', \n          backgroundColor: 'var(--vrm-bg-tertiary)', \n          borderRadius: '6px',\n          fontSize: '12px',\n          color: 'var(--vrm-text-muted)'\n        }}>\n          <strong>Demo Credentials:</strong><br />\n          Client: client1 / client123<br />\n          Admin: admin / admin123\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Main App Component  \nconst App: React.FC = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [credentials, setCredentials] = useState({ username: '', password: '' });\n  const [userRole, setUserRole] = useState<'client' | 'admin'>('client');\n\n  // Restore session from sessionStorage on app load\n  useEffect(() => {\n    const savedCredentials = sessionStorage.getItem('nigzsu_credentials');\n    if (savedCredentials) {\n      try {\n        const { username, password } = JSON.parse(savedCredentials);\n        setCredentials({ username, password });\n        setUserRole(username === 'admin' ? 'admin' : 'client');\n        setIsLoggedIn(true);\n      } catch (error) {\n        console.error('Failed to restore session:', error);\n        sessionStorage.removeItem('nigzsu_credentials');\n      }\n    }\n  }, []);\n\n  const handleLogin = (username: string, password: string) => {\n    setCredentials({ username, password });\n    setUserRole(username === 'admin' ? 'admin' : 'client');\n    setIsLoggedIn(true);\n    \n    // Persist credentials to sessionStorage\n    sessionStorage.setItem('nigzsu_credentials', JSON.stringify({ username, password }));\n  };\n\n  const handleLogout = () => {\n    // Clear session storage\n    sessionStorage.removeItem('nigzsu_credentials');\n    \n    // Check if we're in a view token session\n    const hasViewToken = new URLSearchParams(window.location.search).has('view_token');\n    \n    if (hasViewToken) {\n      // If viewing via view token, close the tab or redirect to home without token\n      window.close();\n      // Fallback if window.close() doesn't work (some browsers block it)\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 100);\n    } else {\n      // Normal logout - clear state\n      setIsLoggedIn(false);\n      setCredentials({ username: '', password: '' });\n      setUserRole('client');\n    }\n  };\n\n  const hasViewToken = new URLSearchParams(window.location.search).has('view_token');\n\n  return (\n    <Router>\n      <Routes>\n        {/* Public routes */}\n        <Route path=\"/\" element={!isLoggedIn && !hasViewToken ? <LandingPage /> : <Navigate to={userRole === 'admin' ? '/admin' : '/dashboard'} replace />} />\n        <Route path=\"/login\" element={!isLoggedIn && !hasViewToken ? <Login onLogin={handleLogin} /> : <Navigate to={userRole === 'admin' ? '/admin' : '/dashboard'} replace />} />\n        \n        {/* Protected routes - require login */}\n        {(isLoggedIn || hasViewToken) && (\n          <>\n            <Route path=\"/dashboard\" element={\n              <VRMLayout userRole={hasViewToken ? 'client' : userRole} onLogout={handleLogout}>\n                {userRole === 'admin' && !hasViewToken ? \n                  <Navigate to=\"/admin\" replace /> : \n                  <DashboardPage credentials={credentials} />\n                }\n              </VRMLayout>\n            } />\n            <Route path=\"/event-logs\" element={\n              <VRMLayout userRole={hasViewToken ? 'client' : userRole} onLogout={handleLogout}>\n                {userRole === 'admin' && !hasViewToken ? \n                  <Navigate to=\"/admin\" replace /> : \n                  <EventLogsPage credentials={credentials} />\n                }\n              </VRMLayout>\n            } />\n            <Route path=\"/alarm-logs\" element={\n              <VRMLayout userRole={hasViewToken ? 'client' : userRole} onLogout={handleLogout}>\n                {userRole === 'admin' && !hasViewToken ? \n                  <Navigate to=\"/admin\" replace /> : \n                  <AlarmLogsPage credentials={credentials} />\n                }\n              </VRMLayout>\n            } />\n            <Route path=\"/device-list\" element={\n              <VRMLayout userRole={hasViewToken ? 'client' : userRole} onLogout={handleLogout}>\n                {userRole === 'admin' && !hasViewToken ? \n                  <Navigate to=\"/admin\" replace /> : \n                  <DeviceListPage credentials={credentials} />\n                }\n              </VRMLayout>\n            } />\n            <Route path=\"/analytics\" element={\n              <VRMLayout userRole={hasViewToken ? 'client' : userRole} onLogout={handleLogout}>\n                {userRole === 'admin' && !hasViewToken ? \n                  <Navigate to=\"/admin\" replace /> : \n                  <AnalyticsPage credentials={credentials} />\n                }\n              </VRMLayout>\n            } />\n            <Route path=\"/reports\" element={\n              <VRMLayout userRole={hasViewToken ? 'client' : userRole} onLogout={handleLogout}>\n                {userRole === 'admin' && !hasViewToken ? \n                  <Navigate to=\"/admin\" replace /> : \n                  <ReportsPage credentials={credentials} />\n                }\n              </VRMLayout>\n            } />\n            \n            {userRole === 'admin' && (\n              <Route path=\"/admin\" element={\n                <VRMLayout userRole={userRole} onLogout={handleLogout}>\n                  <AdminPage credentials={credentials} />\n                </VRMLayout>\n              } />\n            )}\n          </>\n        )}\n        \n        {/* Redirect all other routes */}\n        <Route path=\"*\" element={\n          !isLoggedIn && !hasViewToken ? \n            <Navigate to=\"/\" replace /> : \n            <Navigate to={userRole === 'admin' ? '/admin' : '/dashboard'} replace />\n        } />\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;","size_bytes":11517},"frontend/src/components/EChartsComponents.tsx":{"content":"import React from 'react';\nimport ReactECharts from 'echarts-for-react';\n\ninterface ChartData {\n  index: number;\n  track_number: number;\n  event: string;\n  timestamp: string;\n  sex: string;\n  age_estimate: string;\n  hour: number;\n  day_of_week: string;\n  date: string;\n}\n\ninterface Intelligence {\n  total_records: number;\n  date_span_days: number;\n  latest_timestamp: string | null;\n  optimal_granularity: string;\n  peak_hours: number[];\n  demographics_breakdown: Record<string, unknown>;\n  temporal_patterns: Record<string, unknown>;\n}\n\ninterface ChartProps {\n  data: ChartData[];\n  intelligence: Intelligence;\n}\n\n// Professional Live Occupancy Chart with ECharts\nexport const LiveOccupancyChart: React.FC<ChartProps> = ({ data, intelligence }) => {\n  const currentHour = new Date().getHours();\n  const currentData = data.filter(d => {\n    if (!d.timestamp) return false;\n    const hour = new Date(d.timestamp).getHours();\n    return !isNaN(hour) && hour === currentHour;\n  });\n\n  const maxCount = Math.max(currentData.length, 50);\n  const percentage = (currentData.length / maxCount) * 100;\n\n  const option = {\n    title: {\n      text: 'Live Occupancy',\n      textStyle: { color: '#ffffff', fontSize: 18 }\n    },\n    backgroundColor: 'transparent',\n    series: [{\n      type: 'gauge',\n      min: 0,\n      max: 100,\n      splitNumber: 10,\n      radius: '80%',\n      axisLine: {\n        lineStyle: {\n          width: 8,\n          color: [[0.3, '#67e0e3'], [0.7, '#37a2da'], [1, '#fd666d']]\n        }\n      },\n      pointer: {\n        itemStyle: { color: 'auto' }\n      },\n      axisTick: {\n        distance: -30,\n        length: 8,\n        lineStyle: { color: '#fff', width: 2 }\n      },\n      splitLine: {\n        distance: -30,\n        length: 30,\n        lineStyle: { color: '#fff', width: 4 }\n      },\n      axisLabel: {\n        color: 'auto',\n        distance: 40,\n        fontSize: 12\n      },\n      detail: {\n        valueAnimation: true,\n        formatter: '{value}%',\n        color: 'auto',\n        fontSize: 20\n      },\n      data: [{ value: percentage.toFixed(1) }]\n    }]\n  };\n\n  return (\n    <div style={{ background: '#1a1a1a', padding: '20px', borderRadius: '10px', margin: '10px' }}>\n      <ReactECharts option={option} style={{ height: '300px' }} />\n      <div style={{ color: '#ffffff', textAlign: 'center', marginTop: '10px' }}>\n        Current: {currentData.length} people | Peak: {intelligence.peak_hours?.length || 0} hours\n      </div>\n    </div>\n  );\n};\n\n// Professional Hourly Activity Chart with ECharts\nexport const HourlyActivityChart: React.FC<ChartProps> = ({ data, intelligence }) => {\n  const hourlyData = Array.from({ length: 24 }, (_, hour) => {\n    const count = data.filter(d => {\n      if (!d.timestamp) return false;\n      const h = new Date(d.timestamp).getHours();\n      return !isNaN(h) && h === hour;\n    }).length;\n    return { hour, count };\n  });\n\n  const option = {\n    title: {\n      text: 'Hourly Activity Pattern',\n      textStyle: { color: '#ffffff', fontSize: 18 }\n    },\n    backgroundColor: 'transparent',\n    grid: {\n      left: '3%',\n      right: '4%',\n      bottom: '3%',\n      containLabel: true\n    },\n    xAxis: {\n      type: 'category',\n      data: hourlyData.map(d => `${d.hour}:00`),\n      axisLabel: { color: '#ffffff' },\n      axisLine: { lineStyle: { color: '#ffffff' } }\n    },\n    yAxis: {\n      type: 'value',\n      axisLabel: { color: '#ffffff' },\n      axisLine: { lineStyle: { color: '#ffffff' } },\n      splitLine: { lineStyle: { color: '#333333' } }\n    },\n    series: [{\n      data: hourlyData.map(d => ({\n        value: d.count,\n        itemStyle: {\n          color: intelligence.peak_hours?.includes(d.hour) ? '#fd666d' : '#37a2da'\n        }\n      })),\n      type: 'bar',\n      itemStyle: {\n        borderRadius: [4, 4, 0, 0]\n      }\n    }],\n    tooltip: {\n      trigger: 'axis',\n      formatter: '{b}: {c} records'\n    }\n  };\n\n  return (\n    <div style={{ background: '#1a1a1a', padding: '20px', borderRadius: '10px', margin: '10px' }}>\n      <ReactECharts option={option} style={{ height: '300px' }} />\n    </div>\n  );\n};\n\n// Professional Age Distribution Chart with ECharts\nexport const AgeDistributionChart: React.FC<ChartProps> = ({ data, intelligence }) => {\n  const ageGroups = data.reduce((acc: Record<string, number>, d) => {\n    if (d.age_estimate) {\n      acc[d.age_estimate] = (acc[d.age_estimate] || 0) + 1;\n    }\n    return acc;\n  }, {});\n\n  const pieData = Object.entries(ageGroups).map(([age, count]) => ({\n    value: count,\n    name: age\n  }));\n\n  const option = {\n    title: {\n      text: 'Age Distribution',\n      textStyle: { color: '#ffffff', fontSize: 18 }\n    },\n    backgroundColor: 'transparent',\n    tooltip: {\n      trigger: 'item',\n      formatter: '{a} <br/>{b}: {c} ({d}%)'\n    },\n    legend: {\n      orient: 'vertical',\n      left: 'left',\n      textStyle: { color: '#ffffff' }\n    },\n    series: [{\n      name: 'Age Groups',\n      type: 'pie',\n      radius: '50%',\n      data: pieData,\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\n        }\n      }\n    }]\n  };\n\n  return (\n    <div style={{ background: '#1a1a1a', padding: '20px', borderRadius: '10px', margin: '10px' }}>\n      <ReactECharts option={option} style={{ height: '300px' }} />\n    </div>\n  );\n};\n\n// Professional Entry/Exit Flow Chart with ECharts\nexport const EntryExitChart: React.FC<ChartProps> = ({ data, intelligence }) => {\n  const entryData = data.filter(d => d.event === 'entry');\n  const exitData = data.filter(d => d.event === 'exit');\n  \n  const hourlyFlow = Array.from({ length: 24 }, (_, hour) => {\n    const entries = entryData.filter(d => {\n      if (!d.timestamp) return false;\n      const h = new Date(d.timestamp).getHours();\n      return !isNaN(h) && h === hour;\n    }).length;\n    \n    const exits = exitData.filter(d => {\n      if (!d.timestamp) return false;\n      const h = new Date(d.timestamp).getHours();\n      return !isNaN(h) && h === hour;\n    }).length;\n    \n    return { hour, entries, exits };\n  });\n\n  const option = {\n    title: {\n      text: 'Entry/Exit Flow Pattern',\n      textStyle: { color: '#ffffff', fontSize: 18 }\n    },\n    backgroundColor: 'transparent',\n    tooltip: {\n      trigger: 'axis',\n      axisPointer: { type: 'cross' }\n    },\n    legend: {\n      data: ['Entries', 'Exits'],\n      textStyle: { color: '#ffffff' }\n    },\n    grid: {\n      left: '3%',\n      right: '4%',\n      bottom: '3%',\n      containLabel: true\n    },\n    xAxis: {\n      type: 'category',\n      data: hourlyFlow.map(d => `${d.hour}:00`),\n      axisLabel: { color: '#ffffff' },\n      axisLine: { lineStyle: { color: '#ffffff' } }\n    },\n    yAxis: {\n      type: 'value',\n      axisLabel: { color: '#ffffff' },\n      axisLine: { lineStyle: { color: '#ffffff' } },\n      splitLine: { lineStyle: { color: '#333333' } }\n    },\n    series: [\n      {\n        name: 'Entries',\n        type: 'line',\n        stack: 'Total',\n        data: hourlyFlow.map(d => d.entries),\n        itemStyle: { color: '#67e0e3' },\n        areaStyle: { opacity: 0.6 }\n      },\n      {\n        name: 'Exits',\n        type: 'line',\n        stack: 'Total',\n        data: hourlyFlow.map(d => d.exits),\n        itemStyle: { color: '#fd666d' },\n        areaStyle: { opacity: 0.6 }\n      }\n    ]\n  };\n\n  return (\n    <div style={{ background: '#1a1a1a', padding: '20px', borderRadius: '10px', margin: '10px' }}>\n      <ReactECharts option={option} style={{ height: '300px' }} />\n      <div style={{ color: '#ffffff', textAlign: 'center', marginTop: '10px' }}>\n        Total Entries: {entryData.length} | Total Exits: {exitData.length}\n      </div>\n    </div>\n  );\n};","size_bytes":7714},"frontend/src/components/ProfessionalCharts.css":{"content":"/* Professional Chart Styles */\n\n.professional-chart {\n  height: 250px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n}\n\n.chart-visual {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n/* Live Occupancy Gauge */\n.occupancy-gauge {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  justify-content: center;\n}\n\n.gauge-background {\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  background: conic-gradient(from 0deg, #e2e8f0 0%, #e2e8f0 100%);\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 20px;\n}\n\n.gauge-fill {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background: conic-gradient(from 0deg, #667eea 0%, #764ba2 var(--percentage, 50%), #e2e8f0 var(--percentage, 50%));\n  transition: all 0.8s ease;\n}\n\n.gauge-center {\n  position: absolute;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n}\n\n.gauge-value {\n  font-size: 24px;\n  font-weight: 700;\n  color: #1a202c;\n}\n\n.gauge-label {\n  font-size: 12px;\n  color: #4a5568;\n  text-transform: uppercase;\n}\n\n.chart-stats {\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n}\n\n.stat-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.stat-value {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1a202c;\n}\n\n.stat-label {\n  font-size: 11px;\n  color: #4a5568;\n  text-transform: uppercase;\n  margin-top: 4px;\n}\n\n/* Bar Chart Styles */\n.bar-chart {\n  display: flex;\n  align-items: end;\n  height: 180px;\n  gap: 2px;\n  padding: 20px 0;\n}\n\n.bar-item {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n}\n\n.bar {\n  width: 100%;\n  min-height: 2px;\n  background: linear-gradient(to top, #667eea, #764ba2);\n  border-radius: 2px 2px 0 0;\n  transition: all 0.3s ease;\n  cursor: pointer;\n}\n\n.bar:hover {\n  opacity: 0.8;\n  transform: scaleY(1.05);\n}\n\n.bar-peak {\n  background: linear-gradient(to top, #f093fb, #f5576c);\n  box-shadow: 0 0 10px rgba(240, 147, 251, 0.3);\n}\n\n.bar-label {\n  font-size: 10px;\n  color: #4a5568;\n  margin-top: 8px;\n  text-align: center;\n}\n\n.chart-info {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n\n.granularity-badge {\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  color: white;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 10px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n/* Pie Chart Styles */\n.pie-chart-container {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  height: 100%;\n}\n\n.pie-chart {\n  position: relative;\n  width: 150px;\n  height: 150px;\n}\n\n.pie-svg {\n  width: 100%;\n  height: 100%;\n  transform: rotate(-90deg);\n}\n\n.pie-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  background: white;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.pie-total {\n  font-size: 18px;\n  font-weight: 700;\n  color: #1a202c;\n}\n\n.pie-label {\n  font-size: 10px;\n  color: #4a5568;\n  text-transform: uppercase;\n}\n\n.pie-legend {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  max-height: 150px;\n  overflow-y: auto;\n}\n\n.legend-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.legend-color {\n  width: 12px;\n  height: 12px;\n  border-radius: 2px;\n  flex-shrink: 0;\n}\n\n.legend-text {\n  font-size: 12px;\n  color: #4a5568;\n}\n\n/* Entry/Exit Flow Chart */\n.flow-chart {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.flow-legend {\n  display: flex;\n  gap: 20px;\n  margin-bottom: 20px;\n  justify-content: center;\n}\n\n.entry-color {\n  background: linear-gradient(135deg, #4facfe, #00f2fe);\n}\n\n.exit-color {\n  background: linear-gradient(135deg, #f093fb, #f5576c);\n}\n\n.stacked-bars {\n  display: flex;\n  align-items: end;\n  height: 150px;\n  gap: 1px;\n  flex: 1;\n}\n\n.stacked-bar-item {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n}\n\n.stacked-bar {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: end;\n  gap: 1px;\n}\n\n.bar-segment {\n  width: 100%;\n  min-height: 1px;\n  border-radius: 1px;\n  transition: all 0.3s ease;\n  cursor: pointer;\n}\n\n.entry-bar {\n  background: linear-gradient(to top, #4facfe, #00f2fe);\n}\n\n.exit-bar {\n  background: linear-gradient(to top, #f093fb, #f5576c);\n}\n\n.bar-segment:hover {\n  opacity: 0.8;\n  transform: scaleY(1.1);\n}\n\n/* Professional Animations */\n.professional-chart {\n  animation: chartFadeIn 0.8s ease-out;\n}\n\n@keyframes chartFadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.bar, .bar-segment {\n  animation: barGrow 1.2s ease-out;\n}\n\n@keyframes barGrow {\n  from {\n    height: 0;\n  }\n  to {\n    height: var(--final-height);\n  }\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .pie-chart-container {\n    flex-direction: column;\n    gap: 10px;\n  }\n  \n  .pie-chart {\n    width: 120px;\n    height: 120px;\n  }\n  \n  .gauge-background {\n    width: 100px;\n    height: 100px;\n  }\n  \n  .gauge-center {\n    width: 70px;\n    height: 70px;\n  }\n  \n  .gauge-value {\n    font-size: 20px;\n  }\n  \n  .chart-stats {\n    margin-top: 10px;\n  }\n}","size_bytes":5484},"frontend/src/components/ProfessionalCharts.tsx":{"content":"import React from 'react';\nimport './ProfessionalCharts.css';\n\ninterface ChartData {\n  index: number;\n  track_number: number;\n  event: string;\n  timestamp: string;\n  sex: string;\n  age_estimate: string;\n  hour: number;\n  day_of_week: string;\n  date: string;\n}\n\ninterface ChartProps {\n  data: ChartData[];\n  intelligence: any;\n}\n\n// Professional Live Occupancy Chart\nexport const LiveOccupancyChart: React.FC<ChartProps> = ({ data, intelligence }) => {\n  const currentHour = new Date().getHours();\n  const currentData = data.filter(d => {\n    if (!d.timestamp) return false;\n    const hour = new Date(d.timestamp).getHours();\n    return !isNaN(hour) && hour === currentHour;\n  });\n\n  const maxCount = Math.max(currentData.length, 50); // Scale for visual appeal\n  const percentage = (currentData.length / maxCount) * 100;\n\n  return (\n    <div className=\"professional-chart\">\n      <div className=\"chart-visual\">\n        <div className=\"occupancy-gauge\">\n          <div className=\"gauge-background\">\n            <div \n              className=\"gauge-fill\" \n              style={{ width: `${percentage}%` }}\n            ></div>\n          </div>\n          <div className=\"gauge-center\">\n            <div className=\"gauge-value\">{currentData.length}</div>\n            <div className=\"gauge-label\">Current</div>\n          </div>\n        </div>\n        <div className=\"chart-stats\">\n          <div className=\"stat-item\">\n            <span className=\"stat-value\">{data.length.toLocaleString()}</span>\n            <span className=\"stat-label\">Total Records</span>\n          </div>\n          <div className=\"stat-item\">\n            <span className=\"stat-value\">{intelligence.peak_hours[0] || 'N/A'}h</span>\n            <span className=\"stat-label\">Peak Hour</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Professional Traffic Over Time Chart\nexport const TrafficTimeChart: React.FC<ChartProps> = ({ data, intelligence }) => {\n  // Group data by hour\n  const hourlyData: { [key: number]: number } = {};\n  for (let i = 0; i < 24; i++) hourlyData[i] = 0;\n  \n  data.forEach(d => {\n    if (d.hour >= 0 && d.hour <= 23) {\n      hourlyData[d.hour]++;\n    }\n  });\n\n  const maxValue = Math.max(...Object.values(hourlyData));\n  const hours = Object.entries(hourlyData);\n\n  return (\n    <div className=\"professional-chart\">\n      <div className=\"chart-visual\">\n        <div className=\"bar-chart\">\n          {hours.map(([hour, count]) => {\n            const height = maxValue > 0 ? (count / maxValue) * 100 : 0;\n            const isPeak = intelligence.peak_hours.includes(parseInt(hour));\n            \n            return (\n              <div key={hour} className=\"bar-item\">\n                <div \n                  className={`bar ${isPeak ? 'bar-peak' : ''}`}\n                  style={{ height: `${height}%` }}\n                  title={`${hour}:00 - ${count} records`}\n                ></div>\n                <div className=\"bar-label\">{parseInt(hour) % 6 === 0 ? `${hour}h` : ''}</div>\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"chart-info\">\n          <div className=\"granularity-badge\">\n            {intelligence.optimal_granularity} view\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Professional Age Distribution Pie Chart\nexport const AgeDistributionChart: React.FC<ChartProps> = ({ data }) => {\n  const ageGroups = data.reduce((acc: { [key: string]: number }, item) => {\n    acc[item.age_estimate] = (acc[item.age_estimate] || 0) + 1;\n    return acc;\n  }, {});\n\n  const total = Object.values(ageGroups).reduce((sum, count) => sum + count, 0);\n  const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe', '#00f2fe'];\n  \n  let currentAngle = 0;\n  const segments = Object.entries(ageGroups).map(([age, count], index) => {\n    const percentage = (count / total) * 100;\n    const angle = (count / total) * 360;\n    const startAngle = currentAngle;\n    currentAngle += angle;\n    \n    return {\n      age,\n      count,\n      percentage,\n      startAngle,\n      endAngle: currentAngle,\n      color: colors[index % colors.length]\n    };\n  });\n\n  return (\n    <div className=\"professional-chart\">\n      <div className=\"chart-visual\">\n        <div className=\"pie-chart-container\">\n          <div className=\"pie-chart\">\n            <svg viewBox=\"0 0 100 100\" className=\"pie-svg\">\n              {segments.map((segment, index) => {\n                const startAngleRad = (segment.startAngle - 90) * (Math.PI / 180);\n                const endAngleRad = (segment.endAngle - 90) * (Math.PI / 180);\n                const largeArcFlag = segment.endAngle - segment.startAngle <= 180 ? \"0\" : \"1\";\n                \n                const x1 = 50 + 40 * Math.cos(startAngleRad);\n                const y1 = 50 + 40 * Math.sin(startAngleRad);\n                const x2 = 50 + 40 * Math.cos(endAngleRad);\n                const y2 = 50 + 40 * Math.sin(endAngleRad);\n                \n                const pathData = [\n                  `M 50 50`,\n                  `L ${x1} ${y1}`,\n                  `A 40 40 0 ${largeArcFlag} 1 ${x2} ${y2}`,\n                  `Z`\n                ].join(' ');\n                \n                return (\n                  <path\n                    key={index}\n                    d={pathData}\n                    fill={segment.color}\n                    stroke=\"#fff\"\n                    strokeWidth=\"0.5\"\n                  />\n                );\n              })}\n            </svg>\n            <div className=\"pie-center\">\n              <div className=\"pie-total\">{total}</div>\n              <div className=\"pie-label\">Total</div>\n            </div>\n          </div>\n          <div className=\"pie-legend\">\n            {segments.map((segment, index) => (\n              <div key={index} className=\"legend-item\">\n                <div \n                  className=\"legend-color\" \n                  style={{ backgroundColor: segment.color }}\n                ></div>\n                <span className=\"legend-text\">\n                  {segment.age} ({segment.percentage.toFixed(1)}%)\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Professional Entry/Exit Flow Chart\nexport const EntryExitChart: React.FC<ChartProps> = ({ data }) => {\n  const entryData = data.filter(d => d.event === 'entry');\n  const exitData = data.filter(d => d.event === 'exit');\n  \n  const entryByHour: { [key: number]: number } = {};\n  const exitByHour: { [key: number]: number } = {};\n  \n  for (let i = 0; i < 24; i++) {\n    entryByHour[i] = 0;\n    exitByHour[i] = 0;\n  }\n  \n  entryData.forEach(d => {\n    if (d.hour >= 0 && d.hour <= 23) entryByHour[d.hour]++;\n  });\n  \n  exitData.forEach(d => {\n    if (d.hour >= 0 && d.hour <= 23) exitByHour[d.hour]++;\n  });\n  \n  const maxValue = Math.max(\n    ...Object.values(entryByHour),\n    ...Object.values(exitByHour)\n  );\n\n  return (\n    <div className=\"professional-chart\">\n      <div className=\"chart-visual\">\n        <div className=\"flow-chart\">\n          <div className=\"flow-legend\">\n            <div className=\"legend-item\">\n              <div className=\"legend-color entry-color\"></div>\n              <span>Entry ({entryData.length})</span>\n            </div>\n            <div className=\"legend-item\">\n              <div className=\"legend-color exit-color\"></div>\n              <span>Exit ({exitData.length})</span>\n            </div>\n          </div>\n          <div className=\"stacked-bars\">\n            {Array.from({ length: 24 }, (_, hour) => {\n              const entryHeight = maxValue > 0 ? (entryByHour[hour] / maxValue) * 100 : 0;\n              const exitHeight = maxValue > 0 ? (exitByHour[hour] / maxValue) * 100 : 0;\n              \n              return (\n                <div key={hour} className=\"stacked-bar-item\">\n                  <div className=\"stacked-bar\">\n                    <div \n                      className=\"bar-segment entry-bar\"\n                      style={{ height: `${entryHeight}%` }}\n                      title={`${hour}:00 Entry: ${entryByHour[hour]}`}\n                    ></div>\n                    <div \n                      className=\"bar-segment exit-bar\"\n                      style={{ height: `${exitHeight}%` }}\n                      title={`${hour}:00 Exit: ${exitByHour[hour]}`}\n                    ></div>\n                  </div>\n                  <div className=\"bar-label\">{hour % 4 === 0 ? `${hour}h` : ''}</div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};","size_bytes":8577},"frontend/src/config.ts":{"content":"// API Configuration\nconst getApiBaseUrl = (): string => {\n  // Use environment variable if explicitly set\n  const envUrl = process.env.REACT_APP_API_URL;\n  \n  if (envUrl) {\n    return envUrl;\n  }\n  \n  // Production environment (Cloud Run with nginx proxy)\n  if (process.env.REACT_APP_ENVIRONMENT === 'production') {\n    // In production, nginx proxies API calls, so use same origin\n    return window.location.origin;\n  }\n  \n  // Development environments (localhost and Replit)\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    return 'http://localhost:8000';  // FastAPI dev server\n  }\n  \n  // Replit environment - frontend on port 5000, backend on port 8000\n  // Use the proxy configured in package.json by using relative URLs\n  return '';\n};\n\nexport const API_BASE_URL = getApiBaseUrl();\nexport const API_ENDPOINTS = {\n  CHART_DATA: `${API_BASE_URL}/api/chart-data`,\n  SEARCH_EVENTS: `${API_BASE_URL}/api/search-events`,\n  USERS: `${API_BASE_URL}/api/users`,\n} as const;","size_bytes":1021},"frontend/src/index.css":{"content":"body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n","size_bytes":366},"frontend/src/index.tsx":{"content":"import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","size_bytes":560},"frontend/src/components/VRMLayout.tsx":{"content":"import React, { useState } from 'react';\nimport { Link, useLocation, Outlet } from 'react-router-dom';\nimport '../styles/VRMTheme.css';\n\ninterface VRMLayoutProps {\n  userRole?: 'client' | 'admin';\n  onLogout?: () => void;\n  children?: React.ReactNode;\n}\n\nconst VRMLayout: React.FC<VRMLayoutProps> = ({ userRole = 'client', onLogout, children }) => {\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const location = useLocation();\n\n  const viewToken = new URLSearchParams(location.search).get('view_token');\n  const getNavigationPath = (path: string) => {\n    return viewToken ? `${path}?view_token=${viewToken}` : path;\n  };\n\n  const clientNavigationItems = [\n    {\n      path: '/dashboard',\n      label: 'Dashboard',\n      icon: '',\n      description: 'System Overview'\n    },\n    {\n      path: '/analytics',\n      label: 'Analytics',\n      icon: '',\n      description: 'Advanced Analytics'\n    },\n    {\n      path: '/event-logs',\n      label: 'Event logs',\n      icon: '',\n      description: 'Activity Events'\n    },\n    {\n      path: '/alarm-logs', \n      label: 'Alarm logs',\n      icon: '',\n      description: 'System Alerts'\n    },\n    {\n      path: '/device-list',\n      label: 'Device list',\n      icon: '',\n      description: 'Data Sources'\n    },\n    {\n      path: '/reports',\n      label: 'Reports',\n      icon: '',\n      description: 'Analytics Reports'\n    }\n  ];\n\n  const adminNavigationItems = [\n    {\n      path: '/admin',\n      label: 'Admin',\n      icon: '',\n      description: 'Admin Panel'\n    }\n  ];\n\n  // Show only admin navigation for admin users, client navigation for clients\n  const navigationItems = userRole === 'admin' ? adminNavigationItems : clientNavigationItems;\n\n  const isActiveRoute = (path: string) => {\n    return location.pathname === path || location.pathname.startsWith(path + '/');\n  };\n\n  return (\n    <div className=\"vrm-layout\">\n      {/* Sidebar Navigation */}\n      <nav className={`vrm-sidebar ${sidebarCollapsed ? 'collapsed' : ''}`}>\n        {/* Sidebar Header */}\n        <div className=\"vrm-sidebar-header\">\n          <div className=\"vrm-logo\" style={{ overflow: 'hidden', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n            <img \n              src=\"/company-logo.png\" \n              alt=\"Company Logo\"\n              style={{\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover'\n              }}\n            />\n          </div>\n          <div className=\"vrm-logo-text\">Nigzsu</div>\n        </div>\n\n        {/* Collapse Toggle */}\n        <button\n          className=\"vrm-collapse-btn\"\n          onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n          title={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n        >\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            {sidebarCollapsed ? (\n              <path d=\"M3 10h14M3 5h14M3 15h14\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n            ) : (\n              <path d=\"M6 10h8M6 5h8M6 15h8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n            )}\n          </svg>\n        </button>\n\n        {/* Navigation Menu */}\n        <div className=\"vrm-nav\">\n          {navigationItems.map((item) => (\n            <Link\n              key={item.path}\n              to={getNavigationPath(item.path)}\n              className={`vrm-nav-item ${isActiveRoute(item.path) ? 'active' : ''}`}\n              title={sidebarCollapsed ? item.description : ''}\n            >\n              <div className=\"vrm-nav-icon\">{item.icon}</div>\n              <div className=\"vrm-nav-text\">{item.label}</div>\n            </Link>\n          ))}\n        </div>\n      </nav>\n\n      {/* Main Content Area */}\n      <main className=\"vrm-main\">\n        {/* Top Header */}\n        <header className=\"vrm-header\">\n          <div className=\"vrm-header-left\">\n            {/* Search Bar */}\n            <div className=\"vrm-search\">\n              <div className=\"vrm-search-icon\"></div>\n              <input \n                type=\"text\" \n                placeholder=\"Search...\" \n                aria-label=\"Search\"\n              />\n            </div>\n          </div>\n\n          <div className=\"vrm-header-right\">\n            {/* User Info */}\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n              <span className=\"vrm-status vrm-status-online\">\n                <div className=\"vrm-status-dot\"></div>\n                {userRole === 'admin' ? 'Administrator' : 'Client'}\n              </span>\n              {onLogout && (\n                <button \n                  className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                  onClick={onLogout}\n                  title=\"Logout\"\n                >\n                  Logout\n                </button>\n              )}\n            </div>\n          </div>\n        </header>\n\n        {/* Page Content */}\n        <div className=\"vrm-content\">\n          {children || <Outlet />}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default VRMLayout;","size_bytes":5118},"frontend/src/pages/AlarmLogsPage.tsx":{"content":"import React, { useState, useEffect, useCallback } from 'react';\nimport { API_BASE_URL } from '../config';\n\ninterface AlarmEvent {\n  id: string;\n  instance: string;\n  device: string;\n  description: string;\n  alarmStartedAt: string;\n  alarmClearedAfter: string | null;\n  severity: 'high' | 'medium' | 'low';\n}\n\ninterface User {\n  role: 'admin' | 'client';\n  name: string;\n  csv_url?: string;\n}\n\ninterface AlarmLogsPageProps {\n  credentials: { username: string; password: string };\n}\n\nconst AlarmLogsPage: React.FC<AlarmLogsPageProps> = ({ credentials }) => {\n  const [alarms, setAlarms] = useState<AlarmEvent[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [users, setUsers] = useState<{ [key: string]: User }>({});\n  const [selectedClient, setSelectedClient] = useState<string>('');\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  // Fetch users list (for admin only)\n  const fetchUsers = useCallback(async () => {\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/users`, {\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setUsers(data);\n        setIsAdmin(credentials.username === 'admin' || data[credentials.username]?.role === 'admin');\n        \n        // Set default selected client to first client user\n        const clientUsers = Object.entries(data).filter(([_, user]) => (user as User).role === 'client');\n        if (clientUsers.length > 0) {\n          setSelectedClient(clientUsers[0][0]);\n        }\n      }\n    } catch (err) {\n      console.error('Failed to fetch users:', err);\n    }\n  }, [credentials.username, credentials.password]);\n\n  const fetchAlarmLogs = useCallback(async (clientId?: string) => {\n    try {\n      setLoading(true);\n      \n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      \n      let apiUrl = `${API_BASE_URL}/api/alarm-logs`;\n      const headers: HeadersInit = {\n        'Content-Type': 'application/json',\n      };\n      \n      if (viewToken) {\n        apiUrl += `?view_token=${encodeURIComponent(viewToken)}`;\n      } else {\n        const auth = btoa(`${credentials.username}:${credentials.password}`);\n        headers['Authorization'] = `Basic ${auth}`;\n        \n        // Add client_id if admin and client is selected\n        if (isAdmin && clientId) {\n          apiUrl += `?client_id=${encodeURIComponent(clientId)}`;\n        }\n      }\n      \n      const response = await fetch(apiUrl, { headers });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      setAlarms(result.alarms || []);\n      setError(null);\n    } catch (err) {\n      setError(`Failed to load alarm logs: ${err instanceof Error ? err.message : 'Unknown error'}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [credentials.username, credentials.password, isAdmin]);\n\n  // Initial load: fetch users first (only if not using view token), then alarms\n  useEffect(() => {\n    const initialize = async () => {\n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      \n      // Only fetch users if not using view token (view tokens can't access admin endpoints)\n      if (!viewToken) {\n        await fetchUsers();\n      }\n    };\n    initialize();\n  }, [fetchUsers]);\n\n  // Fetch alarms when selected client changes\n  useEffect(() => {\n    if (isAdmin && selectedClient) {\n      fetchAlarmLogs(selectedClient);\n    } else if (!isAdmin) {\n      fetchAlarmLogs();\n    }\n  }, [selectedClient, isAdmin, fetchAlarmLogs]);\n\n  const getSeverityClass = (severity: string) => {\n    switch (severity) {\n      case 'high': return 'vrm-status-offline'; // Red\n      case 'medium': return 'vrm-status-warning'; // Orange\n      case 'low': return 'vrm-status-online'; // Green\n      default: return 'vrm-status-offline';\n    }\n  };\n\n  const getSeverityText = (severity: string) => {\n    switch (severity) {\n      case 'high': return 'High';\n      case 'medium': return 'Medium';\n      case 'low': return 'Low';\n      default: return 'Unknown';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '400px' }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ \n            width: '40px', \n            height: '40px', \n            border: '4px solid #333', \n            borderTop: '4px solid #1976d2', \n            borderRadius: '50%', \n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 16px'\n          }}></div>\n          <p style={{ color: 'var(--vrm-text-secondary)' }}>Loading alarm data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"vrm-card\">\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Connection Error</h3>\n        </div>\n        <div className=\"vrm-card-body\">\n          <p style={{ color: 'var(--vrm-accent-red)', marginBottom: '16px' }}>{error}</p>\n          <button className=\"vrm-btn\" onClick={() => fetchAlarmLogs(isAdmin ? selectedClient : undefined)}>Retry Connection</button>\n        </div>\n      </div>\n    );\n  }\n\n  const activeAlarms = alarms.filter(a => !a.alarmClearedAfter);\n  const clearedAlarms = alarms.filter(a => a.alarmClearedAfter);\n  const highSeverityAlarms = alarms.filter(a => a.severity === 'high').length;\n  const mediumSeverityAlarms = alarms.filter(a => a.severity === 'medium').length;\n\n  const clientUsers = Object.entries(users).filter(([_, user]) => user.role === 'client');\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <h1 style={{ color: 'var(--vrm-text-primary)', fontSize: '24px', fontWeight: '600', marginBottom: '8px' }}>\n          Alarm logs\n        </h1>\n        <div className=\"vrm-breadcrumb\">\n          <span>Dashboard</span>\n          <span>›</span>\n          <span>Alarm logs</span>\n        </div>\n      </div>\n\n      {/* Client Selector (Admin Only) */}\n      {isAdmin && clientUsers.length > 0 && (\n        <div style={{ marginBottom: '24px' }}>\n          <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)', fontWeight: '500' }}>\n            Select Client\n          </label>\n          <select\n            value={selectedClient}\n            onChange={(e) => setSelectedClient(e.target.value)}\n            style={{\n              padding: '10px 12px',\n              backgroundColor: 'var(--vrm-bg-tertiary)',\n              border: '1px solid var(--vrm-border-color)',\n              borderRadius: '4px',\n              color: 'var(--vrm-text-primary)',\n              fontSize: '14px',\n              minWidth: '250px',\n              cursor: 'pointer'\n            }}\n          >\n            {clientUsers.map(([username, user]) => (\n              <option key={username} value={username}>\n                {user.name} ({username})\n              </option>\n            ))}\n          </select>\n        </div>\n      )}\n\n      {/* Alarm Summary */}\n      <div className=\"vrm-grid vrm-grid-4\" style={{ marginBottom: '24px' }}>\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '36px', fontWeight: '700', color: 'var(--vrm-accent-red)', marginBottom: '8px' }}>\n              {activeAlarms.length}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Active Alarms</p>\n          </div>\n        </div>\n\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '36px', fontWeight: '700', color: 'var(--vrm-accent-red)', marginBottom: '8px' }}>\n              {highSeverityAlarms}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>High Severity</p>\n          </div>\n        </div>\n\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '36px', fontWeight: '700', color: 'var(--vrm-accent-orange)', marginBottom: '8px' }}>\n              {mediumSeverityAlarms}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Medium Severity</p>\n          </div>\n        </div>\n\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '36px', fontWeight: '700', color: 'var(--vrm-accent-green)', marginBottom: '8px' }}>\n              {clearedAlarms.length}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Cleared Alarms</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Active Alarms */}\n      {activeAlarms.length > 0 && (\n        <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n          <div className=\"vrm-card-header\">\n            <h3 className=\"vrm-card-title\">Active Alarms ({activeAlarms.length})</h3>\n            <div className=\"vrm-card-actions\">\n              <button className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\">Clear All</button>\n              <button className=\"vrm-btn vrm-btn-sm\" onClick={() => fetchAlarmLogs(isAdmin ? selectedClient : undefined)}>Refresh</button>\n            </div>\n          </div>\n          <div className=\"vrm-card-body\" style={{ padding: 0 }}>\n            <div style={{ overflowX: 'auto' }}>\n              <table className=\"vrm-table\">\n                <thead>\n                  <tr>\n                    <th>Instance</th>\n                    <th>Device</th>\n                    <th>Description</th>\n                    <th>Alarm Started At</th>\n                    <th>Severity</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {activeAlarms.map((alarm) => (\n                    <tr key={alarm.id}>\n                      <td>\n                        <code style={{ \n                          backgroundColor: 'var(--vrm-bg-tertiary)', \n                          padding: '2px 6px', \n                          borderRadius: '3px',\n                          fontSize: '12px'\n                        }}>\n                          {alarm.instance}\n                        </code>\n                      </td>\n                      <td>{alarm.device}</td>\n                      <td>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                          <span>{alarm.description}</span>\n                        </div>\n                      </td>\n                      <td>{alarm.alarmStartedAt}</td>\n                      <td>\n                        <div className={`vrm-status ${getSeverityClass(alarm.severity)}`}>\n                          <div className=\"vrm-status-dot\"></div>\n                          {getSeverityText(alarm.severity)}\n                        </div>\n                      </td>\n                      <td>\n                        <div style={{ display: 'flex', gap: '8px' }}>\n                          <button className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\">\n                            Clear\n                          </button>\n                          <button className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\">\n                            Details\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* All Alarms History */}\n      <div className=\"vrm-card\">\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">\n            Alarm History ({alarms.length} total)\n          </h3>\n          <div className=\"vrm-card-actions\">\n            <button className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\">Export CSV</button>\n            <button className=\"vrm-btn vrm-btn-sm\" onClick={() => fetchAlarmLogs(isAdmin ? selectedClient : undefined)}>Refresh</button>\n          </div>\n        </div>\n        <div className=\"vrm-card-body\" style={{ padding: 0 }}>\n          {alarms.length > 0 ? (\n            <div style={{ overflowX: 'auto' }}>\n              <table className=\"vrm-table\">\n                <thead>\n                  <tr>\n                    <th>Instance</th>\n                    <th>Device</th>\n                    <th>Description</th>\n                    <th>Alarm Started At</th>\n                    <th>Alarm Cleared After</th>\n                    <th>Severity</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {alarms.map((alarm) => (\n                    <tr key={alarm.id}>\n                      <td>\n                        <code style={{ \n                          backgroundColor: 'var(--vrm-bg-tertiary)', \n                          padding: '2px 6px', \n                          borderRadius: '3px',\n                          fontSize: '12px'\n                        }}>\n                          {alarm.instance}\n                        </code>\n                      </td>\n                      <td>{alarm.device}</td>\n                      <td>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                          <span>{alarm.description}</span>\n                        </div>\n                      </td>\n                      <td>{alarm.alarmStartedAt}</td>\n                      <td>\n                        {alarm.alarmClearedAfter ? (\n                          <span style={{ color: 'var(--vrm-accent-green)' }}>{alarm.alarmClearedAfter}</span>\n                        ) : (\n                          <span style={{ color: 'var(--vrm-accent-red)' }}>Still active</span>\n                        )}\n                      </td>\n                      <td>\n                        <div className={`vrm-status ${getSeverityClass(alarm.severity)}`}>\n                          <div className=\"vrm-status-dot\"></div>\n                          {getSeverityText(alarm.severity)}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div style={{ textAlign: 'center', padding: '40px', color: 'var(--vrm-text-secondary)' }}>\n              No alarms found\n            </div>\n          )}\n        </div>\n      </div>\n\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default AlarmLogsPage;","size_bytes":15085},"frontend/src/pages/DashboardPage.tsx":{"content":"import React, { useState, useEffect, useCallback } from 'react';\nimport ConfigurableChart from '../components/ConfigurableChart';\nimport { API_ENDPOINTS } from '../config';\nimport TimeFilterDropdown, { TimeFilterValue } from '../components/TimeFilterDropdown';\nimport { calculateAverageDwellTime, formatDuration, filterDataByTime, calculateCurrentOccupancy } from '../utils/dataProcessing';\n\ninterface ChartData {\n  index: number;\n  track_number: number;\n  event: string;\n  timestamp: string;\n  sex: string;\n  age_estimate: string;\n  hour: number;\n  day_of_week: string;\n  date: string;\n}\n\ninterface ApiResponse {\n  data: ChartData[];\n  summary: {\n    total_records: number;\n    filtered_from: number;\n    date_range: {\n      start: string | null;\n      end: string | null;\n    };\n    latest_timestamp: string | null;\n  };\n  intelligence: {\n    total_records: number;\n    date_span_days: number;\n    latest_timestamp: string | null;\n    optimal_granularity: string;\n    peak_hours: number[];\n    demographics_breakdown: any;\n    temporal_patterns: any;\n  };\n}\n\ninterface DashboardPageProps {\n  credentials: { username: string; password: string };\n}\n\nconst DashboardPage: React.FC<DashboardPageProps> = ({ credentials }) => {\n  const [data, setData] = useState<ApiResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  // Independent time filters for dashboard components\n  const [kpiTimeFilter, setKpiTimeFilter] = useState<TimeFilterValue>({ option: 'last7days' });\n  const [chartTimeFilter, setChartTimeFilter] = useState<TimeFilterValue>({ option: 'last7days' });\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      \n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      const clientId = urlParams.get('client_id');\n      \n      let apiUrl = API_ENDPOINTS.CHART_DATA;\n      const headers: HeadersInit = {\n        'Content-Type': 'application/json',\n      };\n      \n      if (viewToken) {\n        apiUrl += `?view_token=${encodeURIComponent(viewToken)}`;\n      } else {\n        const auth = btoa(`${credentials.username}:${credentials.password}`);\n        headers['Authorization'] = `Basic ${auth}`;\n        \n        if (clientId) {\n          apiUrl += `?client_id=${encodeURIComponent(clientId)}`;\n        }\n      }\n      \n      const response = await fetch(apiUrl, { headers });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result: ApiResponse = await response.json();\n      setData(result);\n      setError(null);\n    } catch (err) {\n      setError(`Failed to fetch data: ${err instanceof Error ? err.message : 'Unknown error'}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [credentials.username, credentials.password]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  if (loading) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '400px' }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ \n            width: '40px', \n            height: '40px', \n            border: '4px solid #333', \n            borderTop: '4px solid #1976d2', \n            borderRadius: '50%', \n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 16px'\n          }}></div>\n          <p style={{ color: 'var(--vrm-text-secondary)' }}>Loading system data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"vrm-card\">\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">⚠️ Connection Error</h3>\n        </div>\n        <div className=\"vrm-card-body\">\n          <p style={{ color: 'var(--vrm-accent-red)', marginBottom: '16px' }}>{error}</p>\n          <button className=\"vrm-btn\" onClick={fetchData}>Retry Connection</button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!data) {\n    return null;\n  }\n\n  // Filter data independently for KPIs and chart\n  const kpiFilteredData = filterDataByTime(data.data, kpiTimeFilter);\n  const chartFilteredData = filterDataByTime(data.data, chartTimeFilter);\n  \n  // Calculate KPI metrics from KPI filtered data\n  const liveOccupancy = calculateCurrentOccupancy(kpiFilteredData);\n  // Use total_records from summary instead of filtered array length\n  const totalTraffic = data.summary?.total_records || kpiFilteredData.length;\n\n  // Calculate peak activity time from KPI filtered data\n  const hourlyActivity = Array.from({ length: 24 }, (_, hour) => ({ hour, count: 0 }));\n  kpiFilteredData.forEach(item => {\n    if (item.hour >= 0 && item.hour < 24) {\n      hourlyActivity[item.hour].count++;\n    }\n  });\n  const peakHour = hourlyActivity.reduce((max, current) => \n    current.count > max.count ? current : max\n  ).hour;\n\n  // Use dwell time from backend intelligence (occupancy-based calculation)\n  const avgDwellTime: number = (data.intelligence && 'avg_dwell_minutes' in data.intelligence) \n    ? (data.intelligence.avg_dwell_minutes as number)\n    : calculateAverageDwellTime(kpiFilteredData);\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <div>\n          <h1 style={{ color: 'var(--vrm-text-primary)', fontSize: '24px', fontWeight: '600', marginBottom: '8px' }}>\n            System Overview\n          </h1>\n          <div className=\"vrm-breadcrumb\">\n            <span>Dashboard</span>\n            <span>›</span>\n            <span>Overview</span>\n          </div>\n        </div>\n      </div>\n\n      {/* KPI Section with Independent Time Filter */}\n      <div style={{ marginBottom: '24px' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n          <h2 style={{ color: 'var(--vrm-text-primary)', fontSize: '18px', fontWeight: '600', margin: 0 }}>Key Metrics</h2>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <span style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Time Period:</span>\n            <TimeFilterDropdown \n              value={kpiTimeFilter} \n              onChange={setKpiTimeFilter}\n            />\n          </div>\n        </div>\n        <div className=\"vrm-grid vrm-grid-4\">\n        {/* Live Occupancy */}\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-header\">\n            <h3 className=\"vrm-card-title\">Current Occupancy</h3>\n          </div>\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '48px', fontWeight: '700', color: 'var(--vrm-accent-blue)', marginBottom: '8px' }}>\n              {liveOccupancy}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Current occupancy</p>\n          </div>\n        </div>\n\n        {/* Total Activity */}\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-header\">\n            <h3 className=\"vrm-card-title\">Total Traffic</h3>\n          </div>\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '48px', fontWeight: '700', color: 'var(--vrm-accent-teal)', marginBottom: '8px' }}>\n              {totalTraffic.toLocaleString()}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Events in period</p>\n          </div>\n        </div>\n\n        {/* Peak Hour */}\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-header\">\n            <h3 className=\"vrm-card-title\">Peak Activity Time</h3>\n          </div>\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '48px', fontWeight: '700', color: 'var(--vrm-accent-orange)', marginBottom: '8px' }}>\n              {peakHour !== undefined ? `${peakHour.toString().padStart(2, '0')}:00` : 'N/A'}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Peak time</p>\n          </div>\n        </div>\n\n        {/* Average Dwell Time */}\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-header\">\n            <h3 className=\"vrm-card-title\">Avg. Dwell Time</h3>\n          </div>\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '36px', fontWeight: '700', color: 'var(--vrm-accent-red)', marginBottom: '8px' }}>\n              {formatDuration(avgDwellTime)}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Average visit duration</p>\n          </div>\n        </div>\n      </div>\n      </div>\n\n      {/* Chart Section with Independent Time Filter */}\n      <div style={{ marginBottom: '24px' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n          <h2 style={{ color: 'var(--vrm-text-primary)', fontSize: '18px', fontWeight: '600', margin: 0 }}>Activity Chart</h2>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <span style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Time Period:</span>\n            <TimeFilterDropdown \n              value={chartTimeFilter} \n              onChange={setChartTimeFilter}\n            />\n          </div>\n        </div>\n        <ConfigurableChart data={chartFilteredData} intelligence={data.intelligence} />\n      </div>\n\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default DashboardPage;","size_bytes":9755},"frontend/src/pages/DeviceListPage.tsx":{"content":"import React, { useState, useEffect, useCallback } from 'react';\nimport { API_BASE_URL } from '../config';\n\ninterface DeviceInfo {\n  id: string;\n  name: string;\n  type: 'Camera' | 'Sensor' | 'Gateway';\n  status: 'online' | 'offline' | 'maintenance';\n  lastSeen: string;\n  dataSource?: string;\n  location?: string;\n  recordCount?: number;\n}\n\ninterface DataSource {\n  id: string;\n  title: string;\n  url: string;\n  type: string;\n  active?: boolean;\n}\n\ninterface User {\n  role: 'admin' | 'client';\n  name: string;\n  csv_url?: string;\n  data_sources?: DataSource[];\n}\n\ninterface DeviceListPageProps {\n  credentials: { username: string; password: string };\n}\n\nconst DeviceListPage: React.FC<DeviceListPageProps> = ({ credentials }) => {\n  const [devices, setDevices] = useState<DeviceInfo[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [users, setUsers] = useState<{ [key: string]: User }>({});\n  const [selectedClient, setSelectedClient] = useState<string>('');\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [dataSources, setDataSources] = useState<DataSource[]>([]);\n\n  // Fetch users list (for admin only)\n  const fetchUsers = useCallback(async () => {\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/users`, {\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        const usersData = data.users || data;\n        setUsers(usersData);\n        setIsAdmin(credentials.username === 'admin' || usersData[credentials.username]?.role === 'admin');\n        \n        // Set default selected client to first client user\n        const clientUsers = Object.entries(usersData).filter(([_, user]) => (user as User).role === 'client');\n        if (clientUsers.length > 0) {\n          setSelectedClient(clientUsers[0][0]);\n        }\n      }\n    } catch (err) {\n      console.error('Failed to fetch users:', err);\n    }\n  }, [credentials.username, credentials.password]);\n\n  const fetchDeviceList = useCallback(async (clientId?: string) => {\n    try {\n      setLoading(true);\n      \n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      \n      let apiUrl = `${API_BASE_URL}/api/device-list`;\n      const headers: HeadersInit = {\n        'Content-Type': 'application/json',\n      };\n      \n      if (viewToken) {\n        apiUrl += `?view_token=${encodeURIComponent(viewToken)}`;\n      } else {\n        const auth = btoa(`${credentials.username}:${credentials.password}`);\n        headers['Authorization'] = `Basic ${auth}`;\n        \n        // Add client_id if admin and client is selected\n        if (isAdmin && clientId) {\n          apiUrl += `?client_id=${encodeURIComponent(clientId)}`;\n        }\n      }\n      \n      const response = await fetch(apiUrl, { headers });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      setDevices(result.devices || []);\n      setDataSources(result.data_sources || []);\n      setError(null);\n    } catch (err) {\n      setError(`Failed to load device information: ${err instanceof Error ? err.message : 'Unknown error'}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [credentials.username, credentials.password, isAdmin]);\n\n  // Fetch data sources for current user or selected client\n  const fetchDataSources = useCallback(async () => {\n    try {\n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      \n      // Determine which client's data sources to load\n      let clientToLoad = isAdmin ? selectedClient : credentials.username;\n      \n      // If using view token, try to get from users state\n      if (viewToken && users && Object.keys(users).length > 0) {\n        const clientUsers = Object.entries(users).filter(([_, user]) => user.role === 'client');\n        if (clientUsers.length > 0) {\n          clientToLoad = clientUsers[0][0];\n        }\n      }\n      \n      if (!clientToLoad) return;\n      \n      // Check if we have users data first\n      if (users && users[clientToLoad] && users[clientToLoad].data_sources) {\n        setDataSources(users[clientToLoad].data_sources || []);\n      } else {\n        // Fallback: fetch from API if admin\n        if (isAdmin && !viewToken) {\n          const auth = btoa(`${credentials.username}:${credentials.password}`);\n          const response = await fetch(`${API_BASE_URL}/api/admin/data-sources/${clientToLoad}`, {\n            headers: {\n              'Authorization': `Basic ${auth}`,\n              'Content-Type': 'application/json',\n            },\n          });\n          \n          if (response.ok) {\n            const data = await response.json();\n            setDataSources(data.data_sources || []);\n          }\n        }\n      }\n    } catch (err) {\n      console.error('Failed to fetch data sources:', err);\n      setDataSources([]);\n    }\n  }, [credentials.username, credentials.password, isAdmin, selectedClient, users]);\n\n  // Initial load: fetch users first (only if not using view token), then devices\n  useEffect(() => {\n    const initialize = async () => {\n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      \n      // Only fetch users if not using view token (view tokens can't access admin endpoints)\n      if (!viewToken) {\n        await fetchUsers();\n      }\n    };\n    initialize();\n  }, [fetchUsers]);\n\n  // Fetch devices when selected client changes\n  useEffect(() => {\n    if (isAdmin && selectedClient) {\n      fetchDeviceList(selectedClient);\n    } else if (!isAdmin) {\n      fetchDeviceList();\n    }\n  }, [selectedClient, isAdmin, fetchDeviceList]);\n\n  // Fetch data sources when user data changes\n  useEffect(() => {\n    fetchDataSources();\n  }, [fetchDataSources, users, selectedClient]);\n\n  const getStatusClass = (status: string) => {\n    switch (status) {\n      case 'online': return 'vrm-status-online';\n      case 'offline': return 'vrm-status-offline';\n      case 'maintenance': return 'vrm-status-warning';\n      default: return 'vrm-status-offline';\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'online': return 'Online';\n      case 'offline': return 'Offline';\n      case 'maintenance': return 'Maintenance';\n      default: return 'Unknown';\n    }\n  };\n\n  // Download CSV data for a specific data source\n  const handleDownloadDataSource = async (sourceUrl: string, sourceName: string) => {\n    try {\n      const response = await fetch(sourceUrl);\n      if (!response.ok) {\n        throw new Error('Failed to download data');\n      }\n      \n      const csvData = await response.text();\n      const blob = new Blob([csvData], { type: 'text/csv' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${sourceName.replace(/[^a-z0-9]/gi, '_')}_data.csv`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error('Download failed:', err);\n      alert('Failed to download data source');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '400px' }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ \n            width: '40px', \n            height: '40px', \n            border: '4px solid #333', \n            borderTop: '4px solid #1976d2', \n            borderRadius: '50%', \n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 16px'\n          }}></div>\n          <p style={{ color: 'var(--vrm-text-secondary)' }}>Loading device information...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const onlineDevices = devices.filter(d => d.status === 'online').length;\n  const offlineDevices = devices.filter(d => d.status === 'offline').length;\n  const clientUsers = Object.entries(users).filter(([_, user]) => user.role === 'client');\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <h1 style={{ color: 'var(--vrm-text-primary)', fontSize: '24px', fontWeight: '600', marginBottom: '8px' }}>\n          Device List\n        </h1>\n        <div className=\"vrm-breadcrumb\">\n          <span>Dashboard</span>\n          <span>›</span>\n          <span>Device List</span>\n        </div>\n      </div>\n\n      {/* Client Selector (Admin Only) */}\n      {isAdmin && clientUsers.length > 0 && (\n        <div style={{ marginBottom: '24px' }}>\n          <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)', fontWeight: '500' }}>\n            Select Client\n          </label>\n          <select\n            value={selectedClient}\n            onChange={(e) => setSelectedClient(e.target.value)}\n            style={{\n              padding: '10px 12px',\n              backgroundColor: 'var(--vrm-bg-tertiary)',\n              border: '1px solid var(--vrm-border-color)',\n              borderRadius: '4px',\n              color: 'var(--vrm-text-primary)',\n              fontSize: '14px',\n              minWidth: '250px',\n              cursor: 'pointer'\n            }}\n          >\n            {clientUsers.map(([username, user]) => (\n              <option key={username} value={username}>\n                {user.name} ({username})\n              </option>\n            ))}\n          </select>\n        </div>\n      )}\n\n      {error && (\n        <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n          <div className=\"vrm-card-body\">\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', color: 'var(--vrm-accent-orange)' }}>\n              <span>⚠️</span>\n              <span>{error}</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Device Summary */}\n      <div className=\"vrm-grid vrm-grid-3\" style={{ marginBottom: '24px' }}>\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '36px', fontWeight: '700', color: 'var(--vrm-accent-blue)', marginBottom: '8px' }}>\n              {devices.length}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Total Devices</p>\n          </div>\n        </div>\n\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '36px', fontWeight: '700', color: 'var(--vrm-accent-green)', marginBottom: '8px' }}>\n              {onlineDevices}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Online</p>\n          </div>\n        </div>\n\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-body\" style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '36px', fontWeight: '700', color: 'var(--vrm-accent-orange)', marginBottom: '8px' }}>\n              {offlineDevices}\n            </div>\n            <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>Offline</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Devices List */}\n      <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Devices</h3>\n          <div className=\"vrm-card-actions\">\n            <button className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\" onClick={() => fetchDeviceList(isAdmin ? selectedClient : undefined)}>Refresh</button>\n          </div>\n        </div>\n        <div className=\"vrm-card-body\" style={{ padding: 0 }}>\n          {devices.length > 0 ? (\n            <div style={{ overflowX: 'auto' }}>\n              <table className=\"vrm-table\">\n                <thead>\n                  <tr>\n                    <th>Device Name</th>\n                    <th>Type</th>\n                    <th>Status</th>\n                    <th>Location</th>\n                    <th>Last Seen</th>\n                    <th>Records</th>\n                    <th>Data Source</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {devices.map((device) => (\n                    <tr key={device.id}>\n                      <td>\n                        <div>\n                          <div style={{ fontWeight: '600' }}>{device.name}</div>\n                          <div style={{ fontSize: '12px', color: 'var(--vrm-text-muted)' }}>\n                            {device.id}\n                          </div>\n                        </div>\n                      </td>\n                      <td>\n                        <span className={`vrm-status ${\n                          device.type === 'Camera' ? 'vrm-status-online' : \n                          device.type === 'Sensor' ? 'vrm-status-warning' : \n                          'vrm-status-offline'\n                        }`}>\n                          {device.type}\n                        </span>\n                      </td>\n                      <td>\n                        <div className={`vrm-status ${getStatusClass(device.status)}`}>\n                          <div className=\"vrm-status-dot\"></div>\n                          {getStatusText(device.status)}\n                        </div>\n                      </td>\n                      <td>{device.location || '-'}</td>\n                      <td style={{ fontSize: '13px', color: 'var(--vrm-text-secondary)' }}>\n                        {new Date(device.lastSeen).toLocaleString()}\n                      </td>\n                      <td style={{ textAlign: 'center' }}>{device.recordCount || '-'}</td>\n                      <td style={{ maxWidth: '200px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                        {device.dataSource ? (\n                          <code style={{ fontSize: '11px', color: 'var(--vrm-text-muted)' }}>\n                            {device.dataSource}\n                          </code>\n                        ) : '-'}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div style={{ \n              textAlign: 'center', \n              padding: '60px 20px',\n              color: 'var(--vrm-text-muted)'\n            }}>\n              <div style={{ fontSize: '48px', marginBottom: '16px' }}>📱</div>\n              <p style={{ fontSize: '16px', marginBottom: '8px' }}>No devices found</p>\n              <p style={{ fontSize: '14px' }}>\n                {isAdmin ? 'Add devices from the Admin panel.' : 'Contact your administrator to configure devices.'}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Data Sources List */}\n      <div className=\"vrm-card\">\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Data Sources</h3>\n          <div className=\"vrm-card-actions\">\n            <button className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\" onClick={() => fetchDataSources()}>Refresh</button>\n          </div>\n        </div>\n        <div className=\"vrm-card-body\" style={{ padding: 0 }}>\n          {dataSources.length > 0 ? (\n            <div style={{ overflowX: 'auto' }}>\n              <table className=\"vrm-table\">\n                <thead>\n                  <tr>\n                    <th>Source Name</th>\n                    <th>Type</th>\n                    <th>Status</th>\n                    <th>Data URL</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {dataSources.map((source) => (\n                    <tr key={source.id}>\n                      <td>\n                        <div>\n                          <div style={{ fontWeight: '600' }}>{source.title}</div>\n                          <div style={{ fontSize: '12px', color: 'var(--vrm-text-muted)' }}>\n                            {source.id}\n                          </div>\n                        </div>\n                      </td>\n                      <td>\n                        <span className={`vrm-status ${\n                          source.type === 'Camera' ? 'vrm-status-online' : \n                          source.type === 'Sensor' ? 'vrm-status-warning' : \n                          'vrm-status-offline'\n                        }`}>\n                          {source.type}\n                        </span>\n                      </td>\n                      <td>\n                        <div className={`vrm-status ${source.active ? 'vrm-status-online' : 'vrm-status-offline'}`}>\n                          <div className=\"vrm-status-dot\"></div>\n                          {source.active ? 'Active' : 'Inactive'}\n                        </div>\n                      </td>\n                      <td style={{ maxWidth: '300px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                        <code style={{ fontSize: '11px', color: 'var(--vrm-text-muted)' }}>\n                          {source.url}\n                        </code>\n                      </td>\n                      <td>\n                        <button \n                          className=\"vrm-btn vrm-btn-primary vrm-btn-sm\"\n                          onClick={() => handleDownloadDataSource(source.url, source.title)}\n                        >\n                          Download CSV\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div style={{ \n              textAlign: 'center', \n              padding: '60px 20px',\n              color: 'var(--vrm-text-muted)'\n            }}>\n              <div style={{ fontSize: '48px', marginBottom: '16px' }}>📁</div>\n              <p style={{ fontSize: '16px', marginBottom: '8px' }}>No data sources configured</p>\n              <p style={{ fontSize: '14px' }}>\n                {isAdmin ? 'Add data sources from the Admin panel.' : 'Contact your administrator to configure data sources.'}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default DeviceListPage;","size_bytes":18794},"frontend/src/pages/EventLogsPage.tsx":{"content":"import React, { useState, useEffect, useCallback } from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { API_ENDPOINTS } from '../config';\n\ninterface EventData {\n  index: number;\n  track_number: number;\n  event: string;\n  timestamp: string;\n  sex: string;\n  age_estimate: string;\n  hour: number;\n  day_of_week: string;\n  date: string;\n}\n\ninterface EventLogsPageProps {\n  credentials: { username: string; password: string };\n}\n\nconst EventLogsPage: React.FC<EventLogsPageProps> = ({ credentials }) => {\n  const [events, setEvents] = useState<EventData[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [filter, setFilter] = useState({\n    event: '',\n    sex: '',\n    age: '',\n    trackId: ''\n  });\n  const [startDate, setStartDate] = useState<Date | null>(null);\n  const [endDate, setEndDate] = useState<Date | null>(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [totalEvents, setTotalEvents] = useState(0);\n  const eventsPerPage = 20;\n\n  const fetchEvents = useCallback(async () => {\n    try {\n      setLoading(true);\n      \n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      const clientId = urlParams.get('client_id');\n      \n      // Build search query parameters\n      const searchParams = new URLSearchParams();\n      searchParams.append('page', currentPage.toString());\n      searchParams.append('per_page', eventsPerPage.toString());\n      \n      if (startDate) {\n        searchParams.append('start_date', startDate.toISOString().split('T')[0]);\n      }\n      if (endDate) {\n        searchParams.append('end_date', endDate.toISOString().split('T')[0]);\n      }\n      if (filter.event) {\n        searchParams.append('event_type', filter.event);\n      }\n      if (filter.sex) {\n        searchParams.append('sex', filter.sex);\n      }\n      if (filter.age) {\n        searchParams.append('age', filter.age);\n      }\n      if (filter.trackId) {\n        searchParams.append('track_id', filter.trackId);\n      }\n      \n      const headers: HeadersInit = {\n        'Content-Type': 'application/json',\n      };\n      \n      let apiUrl = `${API_ENDPOINTS.SEARCH_EVENTS}?${searchParams.toString()}`;\n      \n      if (viewToken) {\n        apiUrl += `&view_token=${encodeURIComponent(viewToken)}`;\n      } else {\n        const auth = btoa(`${credentials.username}:${credentials.password}`);\n        headers['Authorization'] = `Basic ${auth}`;\n        \n        if (clientId) {\n          apiUrl += `&client_id=${encodeURIComponent(clientId)}`;\n        }\n      }\n      \n      const response = await fetch(apiUrl, { headers });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      setEvents(result.events || []);\n      setTotalPages(result.total_pages || 1);\n      setTotalEvents(result.total || 0);\n      setError(null);\n    } catch (err) {\n      setError(`Failed to fetch events: ${err instanceof Error ? err.message : 'Unknown error'}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [credentials.username, credentials.password, currentPage, startDate, endDate, filter]);\n\n  useEffect(() => {\n    fetchEvents();\n  }, [fetchEvents]);\n\n  // Server-side filtering and pagination - no client-side filtering needed\n  const uniqueAges = ['0-4', '5-13', '14-25', '26-45', '46-65', '66+'];\n\n  const formatTimestamp = (timestamp: string) => {\n    try {\n      const date = new Date(timestamp);\n      if (isNaN(date.getTime())) {\n        return timestamp;\n      }\n      return date.toLocaleString();\n    } catch {\n      return timestamp;\n    }\n  };\n\n  const getEventIcon = (event: string) => {\n    switch (event.toLowerCase()) {\n      case 'entry': return '';\n      case 'exit': return '';\n      default: return '';\n    }\n  };\n\n  const getEventStatus = (event: string) => {\n    switch (event.toLowerCase()) {\n      case 'entry': return 'vrm-status-online';\n      case 'exit': return 'vrm-status-warning';\n      default: return 'vrm-status-offline';\n    }\n  };\n\n  const clearAllFilters = () => {\n    setFilter({ event: '', sex: '', age: '', trackId: '' });\n    setStartDate(null);\n    setEndDate(null);\n    setCurrentPage(1);\n  };\n\n  if (loading) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '400px' }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ \n            width: '40px', \n            height: '40px', \n            border: '4px solid #333', \n            borderTop: '4px solid #1976d2', \n            borderRadius: '50%', \n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 16px'\n          }}></div>\n          <p style={{ color: 'var(--vrm-text-secondary)' }}>Loading event logs...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"vrm-card\">\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Connection Error</h3>\n        </div>\n        <div className=\"vrm-card-body\">\n          <p style={{ color: 'var(--vrm-accent-red)', marginBottom: '16px' }}>{error}</p>\n          <button className=\"vrm-btn\" onClick={fetchEvents}>Retry Connection</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <h1 style={{ color: 'var(--vrm-text-primary)', fontSize: '24px', fontWeight: '600', marginBottom: '8px' }}>\n          Event logs\n        </h1>\n        <div className=\"vrm-breadcrumb\">\n          <span>Dashboard</span>\n          <span>›</span>\n          <span>Event logs</span>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Filters</h3>\n          <div className=\"vrm-card-actions\">\n            <button \n              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n              onClick={clearAllFilters}\n            >\n              Clear All\n            </button>\n          </div>\n        </div>\n        <div className=\"vrm-card-body\">\n          {/* First Row: Date Pickers, Track ID, Event Type */}\n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n            gap: '16px',\n            marginBottom: '16px'\n          }}>\n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Start Date\n              </label>\n              <DatePicker\n                selected={startDate}\n                onChange={(date: Date | null) => setStartDate(date)}\n                placeholderText=\"Select start date\"\n                dateFormat=\"yyyy-MM-dd\"\n                className=\"vrm-date-picker\"\n                maxDate={endDate || undefined}\n              />\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                End Date\n              </label>\n              <DatePicker\n                selected={endDate}\n                onChange={(date: Date | null) => setEndDate(date)}\n                placeholderText=\"Select end date\"\n                dateFormat=\"yyyy-MM-dd\"\n                className=\"vrm-date-picker\"\n                minDate={startDate || undefined}\n              />\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Track ID\n              </label>\n              <input \n                type=\"text\"\n                value={filter.trackId}\n                onChange={(e) => setFilter(prev => ({ ...prev, trackId: e.target.value }))}\n                placeholder=\"Search by track number\"\n                style={{ \n                  width: '100%', \n                  padding: '8px 12px', \n                  backgroundColor: 'var(--vrm-bg-tertiary)', \n                  border: '1px solid var(--vrm-border)', \n                  borderRadius: '6px', \n                  color: 'var(--vrm-text-primary)'\n                }}\n              />\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Event Type\n              </label>\n              <select \n                value={filter.event}\n                onChange={(e) => setFilter(prev => ({ ...prev, event: e.target.value }))}\n                style={{ \n                  width: '100%', \n                  padding: '8px 12px', \n                  backgroundColor: 'var(--vrm-bg-tertiary)', \n                  border: '1px solid var(--vrm-border)', \n                  borderRadius: '6px', \n                  color: 'var(--vrm-text-primary)'\n                }}\n              >\n                <option value=\"\">All Events</option>\n                <option value=\"entry\">Entry</option>\n                <option value=\"exit\">Exit</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Second Row: Gender, Age Group */}\n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n            gap: '16px'\n          }}>\n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Gender\n              </label>\n              <select \n                value={filter.sex}\n                onChange={(e) => setFilter(prev => ({ ...prev, sex: e.target.value }))}\n                style={{ \n                  width: '100%', \n                  padding: '8px 12px', \n                  backgroundColor: 'var(--vrm-bg-tertiary)', \n                  border: '1px solid var(--vrm-border)', \n                  borderRadius: '6px', \n                  color: 'var(--vrm-text-primary)'\n                }}\n              >\n                <option value=\"\">All Genders</option>\n                <option value=\"M\">Male</option>\n                <option value=\"F\">Female</option>\n              </select>\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Age Group\n              </label>\n              <select \n                value={filter.age}\n                onChange={(e) => setFilter(prev => ({ ...prev, age: e.target.value }))}\n                style={{ \n                  width: '100%', \n                  padding: '8px 12px', \n                  backgroundColor: 'var(--vrm-bg-tertiary)', \n                  border: '1px solid var(--vrm-border)', \n                  borderRadius: '6px', \n                  color: 'var(--vrm-text-primary)'\n                }}\n              >\n                <option value=\"\">All Ages</option>\n                {uniqueAges.map(age => (\n                  <option key={age} value={age}>{age}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Events Table */}\n      <div className=\"vrm-card\">\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">\n            Activity Events ({totalEvents.toLocaleString()} total)\n          </h3>\n          <div className=\"vrm-card-actions\">\n            <button className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\">Export CSV</button>\n            <button className=\"vrm-btn vrm-btn-sm\" onClick={fetchEvents}>Refresh</button>\n          </div>\n        </div>\n        <div className=\"vrm-card-body\" style={{ padding: 0 }}>\n          {events.length > 0 ? (\n            <div style={{ overflowX: 'auto' }}>\n              <table className=\"vrm-table\">\n                <thead>\n                  <tr>\n                    <th>Event</th>\n                    <th>Track ID</th>\n                    <th>Timestamp</th>\n                    <th>Demographics</th>\n                    <th>Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {events.map((event, index) => (\n                    <tr key={`${event.index}-${index}`}>\n                      <td>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                          <span>{getEventIcon(event.event)}</span>\n                          <span style={{ textTransform: 'capitalize' }}>{event.event}</span>\n                        </div>\n                      </td>\n                      <td>\n                        <code style={{ \n                          backgroundColor: 'var(--vrm-bg-tertiary)', \n                          padding: '2px 6px', \n                          borderRadius: '3px',\n                          fontSize: '12px'\n                        }}>\n                          #{event.track_number}\n                        </code>\n                      </td>\n                      <td>{formatTimestamp(event.timestamp)}</td>\n                      <td>\n                        <div style={{ fontSize: '13px' }}>\n                          <div>{event.sex === 'M' ? 'Male' : 'Female'}</div>\n                          <div style={{ color: 'var(--vrm-text-muted)', marginTop: '2px' }}>\n                            Age: {event.age_estimate}\n                          </div>\n                        </div>\n                      </td>\n                      <td>\n                        <div className={`vrm-status ${getEventStatus(event.event)}`}>\n                          <div className=\"vrm-status-dot\"></div>\n                          {event.event === 'entry' ? 'Entered' : event.event === 'exit' ? 'Exited' : 'Unknown'}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div style={{ textAlign: 'center', padding: '40px', color: 'var(--vrm-text-secondary)' }}>\n              No events found matching current filters\n            </div>\n          )}\n        </div>\n        \n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"vrm-card-body\" style={{ borderTop: '1px solid var(--vrm-border)' }}>\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', gap: '16px' }}>\n              <div style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Showing {((currentPage - 1) * eventsPerPage) + 1} to {Math.min(currentPage * eventsPerPage, totalEvents)} of {totalEvents.toLocaleString()} events\n              </div>\n              <div style={{ display: 'flex', gap: '8px' }}>\n                <button \n                  className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                  onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n                  disabled={currentPage === 1}\n                >\n                  Previous\n                </button>\n                <span style={{ \n                  padding: '6px 12px', \n                  backgroundColor: 'var(--vrm-bg-tertiary)', \n                  borderRadius: '6px',\n                  fontSize: '14px'\n                }}>\n                  Page {currentPage} of {totalPages}\n                </span>\n                <button \n                  className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                  onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\n                  disabled={currentPage === totalPages}\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .vrm-date-picker {\n          width: 100%;\n          padding: 8px 12px;\n          background-color: var(--vrm-bg-tertiary);\n          border: 1px solid var(--vrm-border);\n          border-radius: 6px;\n          color: var(--vrm-text-primary);\n          font-size: 14px;\n        }\n\n        .vrm-date-picker:focus {\n          outline: none;\n          border-color: var(--vrm-accent-blue);\n        }\n\n        .react-datepicker-wrapper {\n          width: 100%;\n        }\n\n        .react-datepicker__input-container {\n          width: 100%;\n        }\n\n        .react-datepicker {\n          background-color: var(--vrm-bg-secondary);\n          border: 1px solid var(--vrm-border);\n          border-radius: 8px;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n        }\n\n        .react-datepicker__header {\n          background-color: var(--vrm-bg-tertiary);\n          border-bottom: 1px solid var(--vrm-border);\n          border-radius: 8px 8px 0 0;\n        }\n\n        .react-datepicker__current-month,\n        .react-datepicker__day-name {\n          color: var(--vrm-text-primary);\n        }\n\n        .react-datepicker__day {\n          color: var(--vrm-text-secondary);\n        }\n\n        .react-datepicker__day:hover {\n          background-color: var(--vrm-hover);\n          color: var(--vrm-text-primary);\n        }\n\n        .react-datepicker__day--selected,\n        .react-datepicker__day--keyboard-selected {\n          background-color: var(--vrm-accent-blue);\n          color: white;\n        }\n\n        .react-datepicker__day--disabled {\n          color: var(--vrm-text-muted);\n          opacity: 0.5;\n        }\n\n        .react-datepicker__navigation-icon::before {\n          border-color: var(--vrm-text-secondary);\n        }\n\n        .react-datepicker__navigation:hover .react-datepicker__navigation-icon::before {\n          border-color: var(--vrm-text-primary);\n        }\n\n        .react-datepicker__day--in-range,\n        .react-datepicker__day--in-selecting-range {\n          background-color: rgba(25, 118, 210, 0.2);\n          color: var(--vrm-text-primary);\n        }\n\n        .react-datepicker__day--range-start,\n        .react-datepicker__day--range-end {\n          background-color: var(--vrm-accent-blue);\n          color: white;\n        }\n\n        .react-datepicker__triangle {\n          display: none;\n        }\n\n        .react-datepicker-popper {\n          z-index: 1000;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default EventLogsPage;\n","size_bytes":18719},"frontend/src/pages/ReportsPage.tsx":{"content":"import React, { useState, useEffect, useCallback } from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport jsPDF from 'jspdf';\nimport * as XLSX from 'xlsx';\nimport { API_ENDPOINTS } from '../config';\n\ninterface EventData {\n  index: number;\n  track_number: number;\n  event: string;\n  timestamp: string;\n  sex: string;\n  age_estimate: string;\n  hour: number;\n  day_of_week: string;\n  date: string;\n}\n\ninterface ReportsPageProps {\n  credentials?: { username: string; password: string };\n}\n\nconst ReportsPage: React.FC<ReportsPageProps> = ({ credentials }) => {\n  const [reportType, setReportType] = useState('occupancy-summary');\n  const [timePeriod, setTimePeriod] = useState('last-7-days');\n  const [format, setFormat] = useState('pdf');\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [startDate, setStartDate] = useState<Date | null>(null);\n  const [endDate, setEndDate] = useState<Date | null>(null);\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const [events, setEvents] = useState<EventData[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchEvents = useCallback(async () => {\n    if (!credentials) {\n      setLoading(false);\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      \n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      const clientId = urlParams.get('client_id');\n      \n      let apiUrl = API_ENDPOINTS.CHART_DATA;\n      const headers: HeadersInit = {\n        'Content-Type': 'application/json',\n      };\n      \n      if (viewToken) {\n        apiUrl += `?view_token=${encodeURIComponent(viewToken)}`;\n      } else {\n        const auth = btoa(`${credentials.username}:${credentials.password}`);\n        headers['Authorization'] = `Basic ${auth}`;\n        \n        if (clientId) {\n          apiUrl += `?client_id=${encodeURIComponent(clientId)}`;\n        }\n      }\n      \n      const response = await fetch(apiUrl, { headers });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      setEvents(result.data || []);\n    } catch (err) {\n      console.error('Failed to fetch events:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [credentials]);\n\n  useEffect(() => {\n    fetchEvents();\n  }, [fetchEvents]);\n\n  useEffect(() => {\n    if (timePeriod === 'custom-range') {\n      setShowDatePicker(true);\n    } else {\n      setShowDatePicker(false);\n    }\n  }, [timePeriod]);\n\n  const reportTemplates = [\n    {\n      id: 'occupancy-summary',\n      name: 'Occupancy Summary Report',\n      description: 'Daily, weekly, and monthly occupancy patterns with peak hours analysis',\n      type: 'Standard Report'\n    },\n    {\n      id: 'traffic-analysis',\n      name: 'Traffic Flow Analysis',\n      description: 'Entry/exit patterns, flow rates, and demographic breakdowns',\n      type: 'Analytics Report'\n    },\n    {\n      id: 'demographics-report', \n      name: 'Demographics Report',\n      description: 'Age and gender distribution analysis with trend comparisons',\n      type: 'Demographics Report'\n    },\n    {\n      id: 'device-performance',\n      name: 'Device Performance Report',\n      description: 'Camera and sensor status, uptime, and data quality metrics',\n      type: 'Technical Report'\n    }\n  ];\n\n  const getFilteredEvents = () => {\n    let filtered = [...events];\n    \n    if (timePeriod === 'all-time') {\n      return filtered;\n    }\n    \n    if (timePeriod !== 'custom-range') {\n      const now = new Date();\n      let startDate = new Date();\n      \n      if (timePeriod === 'last-7-days') {\n        startDate.setDate(now.getDate() - 7);\n      } else if (timePeriod === 'last-30-days') {\n        startDate.setDate(now.getDate() - 30);\n      } else if (timePeriod === 'past-year') {\n        startDate.setDate(now.getDate() - 365);\n      } else if (timePeriod === 'this-month') {\n        startDate = new Date(now.getFullYear(), now.getMonth(), 1);\n      } else if (timePeriod === 'last-month') {\n        startDate = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n        const endOfLastMonth = new Date(now.getFullYear(), now.getMonth(), 0);\n        filtered = filtered.filter(e => {\n          const eventDate = new Date(e.timestamp);\n          return eventDate >= startDate && eventDate <= endOfLastMonth;\n        });\n        return filtered;\n      }\n      \n      filtered = filtered.filter(e => new Date(e.timestamp) >= startDate);\n    } else if (startDate && endDate) {\n      filtered = filtered.filter(e => {\n        const eventDate = new Date(e.timestamp);\n        const eventDateOnly = new Date(eventDate.getFullYear(), eventDate.getMonth(), eventDate.getDate());\n        const startDateOnly = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n        const endDateOnly = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n        return eventDateOnly >= startDateOnly && eventDateOnly <= endDateOnly;\n      });\n    }\n    \n    return filtered;\n  };\n\n  const generateOccupancyData = () => {\n    const filtered = getFilteredEvents();\n    const entries = filtered.filter(e => e.event.toLowerCase() === 'entry').length;\n    const exits = filtered.filter(e => e.event.toLowerCase() === 'exit').length;\n    const currentOccupancy = Math.max(0, entries - exits);\n    \n    const trackMap: {[key: number]: Date[]} = {};\n    filtered.forEach(e => {\n      if (!trackMap[e.track_number]) trackMap[e.track_number] = [];\n      trackMap[e.track_number].push(new Date(e.timestamp));\n    });\n    \n    const dwellTimes: number[] = [];\n    Object.values(trackMap).forEach(timestamps => {\n      if (timestamps.length >= 2) {\n        const sorted = timestamps.sort((a, b) => a.getTime() - b.getTime());\n        const dwellMinutes = (sorted[sorted.length - 1].getTime() - sorted[0].getTime()) / 60000;\n        if (dwellMinutes > 0 && dwellMinutes < 1440) {\n          dwellTimes.push(dwellMinutes);\n        }\n      }\n    });\n    \n    const avgDwellTime = dwellTimes.length > 0 \n      ? Math.round(dwellTimes.reduce((a, b) => a + b, 0) / dwellTimes.length)\n      : 0;\n    \n    const sortedEvents = [...filtered].sort((a, b) => \n      new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n    );\n    \n    const hourlyOccupancy: {[key: number]: number} = {};\n    let runningOccupancy = 0;\n    let lastTimestamp: Date | null = null;\n    \n    sortedEvents.forEach(e => {\n      const currentTimestamp = new Date(e.timestamp);\n      \n      if (lastTimestamp) {\n        let tempTime = new Date(lastTimestamp);\n        tempTime.setMinutes(0, 0, 0);\n        tempTime.setHours(tempTime.getHours() + 1);\n        \n        while (tempTime <= currentTimestamp) {\n          const tempHour = tempTime.getHours();\n          hourlyOccupancy[tempHour] = Math.max(hourlyOccupancy[tempHour] || 0, runningOccupancy);\n          tempTime.setHours(tempTime.getHours() + 1);\n        }\n      }\n      \n      const currentHour = currentTimestamp.getHours();\n      hourlyOccupancy[currentHour] = Math.max(hourlyOccupancy[currentHour] || 0, runningOccupancy);\n      \n      if (e.event.toLowerCase() === 'entry') {\n        runningOccupancy++;\n      } else if (e.event.toLowerCase() === 'exit') {\n        runningOccupancy = Math.max(0, runningOccupancy - 1);\n      }\n      \n      hourlyOccupancy[currentHour] = Math.max(hourlyOccupancy[currentHour] || 0, runningOccupancy);\n      \n      lastTimestamp = currentTimestamp;\n    });\n    \n    if (lastTimestamp && runningOccupancy > 0) {\n      let windowEnd = new Date();\n      \n      if (timePeriod === 'last-month') {\n        const now = new Date();\n        windowEnd = new Date(now.getFullYear(), now.getMonth(), 0, 23, 59, 59);\n      } else if (timePeriod === 'custom-range' && endDate) {\n        windowEnd = new Date(endDate);\n        windowEnd.setHours(23, 59, 59, 999);\n      }\n      \n      const lastTime = lastTimestamp as Date;\n      let tempTime = new Date(lastTime);\n      tempTime.setMinutes(0, 0, 0);\n      tempTime.setHours(tempTime.getHours() + 1);\n      \n      while (tempTime <= windowEnd && tempTime.getTime() - lastTime.getTime() < 24 * 60 * 60 * 1000) {\n        const tempHour = tempTime.getHours();\n        hourlyOccupancy[tempHour] = Math.max(hourlyOccupancy[tempHour] || 0, runningOccupancy);\n        tempTime.setHours(tempTime.getHours() + 1);\n      }\n    }\n    \n    let peakHour = 0;\n    let peakCount = 0;\n    Object.entries(hourlyOccupancy).forEach(([hour, count]) => {\n      if (count > peakCount) {\n        peakCount = count;\n        peakHour = parseInt(hour);\n      }\n    });\n    \n    return {\n      currentOccupancy,\n      totalEntries: entries,\n      totalExits: exits,\n      occupancyRate: entries > 0 ? ((currentOccupancy / entries) * 100).toFixed(1) + '%' : '0%',\n      averageDwellTime: avgDwellTime,\n      peakOccupancyTime: `${peakHour.toString().padStart(2, '0')}:00`,\n      peakOccupancyCount: peakCount,\n      hourlyOccupancy: Object.entries(hourlyOccupancy).map(([hour, count]) => ({\n        hour: `${hour.toString().padStart(2, '0')}:00`,\n        count\n      })).sort((a, b) => parseInt(a.hour) - parseInt(b.hour))\n    };\n  };\n\n  const generateTrafficData = () => {\n    const filtered = getFilteredEvents();\n    const entries = filtered.filter(e => e.event.toLowerCase() === 'entry');\n    const exits = filtered.filter(e => e.event.toLowerCase() === 'exit');\n    \n    const hourCounts: {[key: number]: {entries: number, exits: number}} = {};\n    filtered.forEach(e => {\n      const hour = e.hour;\n      if (!hourCounts[hour]) hourCounts[hour] = {entries: 0, exits: 0};\n      if (e.event.toLowerCase() === 'entry') hourCounts[hour].entries++;\n      if (e.event.toLowerCase() === 'exit') hourCounts[hour].exits++;\n    });\n    \n    let peakHour = 0;\n    let peakRate = 0;\n    Object.entries(hourCounts).forEach(([hour, counts]) => {\n      const rate = counts.entries + counts.exits;\n      if (rate > peakRate) {\n        peakRate = rate;\n        peakHour = parseInt(hour);\n      }\n    });\n    \n    const totalFlow = entries.length + exits.length;\n    const hours = Object.keys(hourCounts).length || 1;\n    const avgFlowRate = Math.round(totalFlow / hours);\n    \n    return {\n      totalEntries: entries.length,\n      totalExits: exits.length,\n      peakFlowTime: `${peakHour.toString().padStart(2, '0')}:00`,\n      peakFlowRate: peakRate,\n      averageFlowRate: avgFlowRate,\n      flowByHour: Object.entries(hourCounts).map(([hour, counts]) => ({\n        hour: `${hour.toString().padStart(2, '0')}:00`,\n        entries: counts.entries,\n        exits: counts.exits\n      })).sort((a, b) => parseInt(a.hour) - parseInt(b.hour))\n    };\n  };\n\n  const generateDemographicsData = () => {\n    const filtered = getFilteredEvents();\n    const totalVisitors = new Set(filtered.map(e => e.track_number)).size;\n    \n    const genderCounts = { male: 0, female: 0, unidentified: 0 };\n    const ageCounts: {[key: string]: number} = {\n      '0-8': 0,\n      '9-16': 0,\n      '17-25': 0,\n      '25-40': 0,\n      '40-60': 0,\n      '60+': 0\n    };\n    const genderAgeCounts: {[key: string]: number} = {};\n    \n    filtered.forEach(e => {\n      const sex = e.sex.toLowerCase();\n      let gender = 'unidentified';\n      if (sex === 'm' || sex === 'male') {\n        genderCounts.male++;\n        gender = 'male';\n      } else if (sex === 'f' || sex === 'female') {\n        genderCounts.female++;\n        gender = 'female';\n      } else {\n        genderCounts.unidentified++;\n      }\n      \n      const ageStr = e.age_estimate.toString().toLowerCase();\n      let ageGroup = '';\n      if (ageStr.includes('0,8')) {\n        ageCounts['0-8']++;\n        ageGroup = '0-8';\n      } else if (ageStr.includes('9,16')) {\n        ageCounts['9-16']++;\n        ageGroup = '9-16';\n      } else if (ageStr.includes('17,25')) {\n        ageCounts['17-25']++;\n        ageGroup = '17-25';\n      } else if (ageStr.includes('25,40')) {\n        ageCounts['25-40']++;\n        ageGroup = '25-40';\n      } else if (ageStr.includes('40,60')) {\n        ageCounts['40-60']++;\n        ageGroup = '40-60';\n      } else if (ageStr.includes('60+') || ageStr.includes('60)')) {\n        ageCounts['60+']++;\n        ageGroup = '60+';\n      }\n      \n      if (ageGroup && gender !== 'unidentified') {\n        const key = `${gender}_${ageGroup}`;\n        genderAgeCounts[key] = (genderAgeCounts[key] || 0) + 1;\n      }\n    });\n    \n    const totalGender = genderCounts.male + genderCounts.female + genderCounts.unidentified;\n    const genderPcts = totalGender > 0 ? {\n      male: ((genderCounts.male / totalGender) * 100).toFixed(1),\n      female: ((genderCounts.female / totalGender) * 100).toFixed(1),\n      unidentified: ((genderCounts.unidentified / totalGender) * 100).toFixed(1)\n    } : {\n      male: '0.0',\n      female: '0.0',\n      unidentified: '0.0'\n    };\n    \n    const totalAge = Object.values(ageCounts).reduce((a, b) => a + b, 0);\n    const agePcts: {[key: string]: string} = {};\n    Object.entries(ageCounts).forEach(([age, count]) => {\n      agePcts[age] = totalAge > 0 ? ((count / totalAge) * 100).toFixed(1) : '0.0';\n    });\n    \n    let peakDemographic = 'Male 25-40 age group';\n    let maxCount = 0;\n    Object.entries(genderAgeCounts).forEach(([key, count]) => {\n      if (count > maxCount) {\n        maxCount = count;\n        const [gender, age] = key.split('_');\n        const genderLabel = gender.charAt(0).toUpperCase() + gender.slice(1);\n        peakDemographic = `${genderLabel} ${age} age group`;\n      }\n    });\n    \n    return {\n      totalVisitors,\n      genderDistribution: {\n        male: genderPcts.male + '%',\n        female: genderPcts.female + '%',\n        unidentified: genderPcts.unidentified + '%'\n      },\n      ageDistribution: {\n        '0-8': agePcts['0-8'] + '%',\n        '9-16': agePcts['9-16'] + '%',\n        '17-25': agePcts['17-25'] + '%',\n        '25-40': agePcts['25-40'] + '%',\n        '40-60': agePcts['40-60'] + '%',\n        '60+': agePcts['60+'] + '%'\n      },\n      peakDemographic\n    };\n  };\n\n  const generateDeviceData = () => {\n    return {\n      message: 'Device performance data is not available in the current data source. This report requires camera/sensor metadata that is not present in the CSV data.'\n    };\n  };\n\n  const getReportData = (reportTypeId: string) => {\n    switch (reportTypeId) {\n      case 'occupancy-summary':\n        return generateOccupancyData();\n      case 'traffic-analysis':\n        return generateTrafficData();\n      case 'demographics-report':\n        return generateDemographicsData();\n      case 'device-performance':\n        return generateDeviceData();\n      default:\n        return {};\n    }\n  };\n\n  const generatePDFReport = () => {\n    setIsGenerating(true);\n\n    try {\n      const doc = new jsPDF();\n      const data = getReportData(reportType);\n      const template = reportTemplates.find(t => t.id === reportType);\n      \n      // Header\n      doc.setFontSize(24);\n      doc.setTextColor(33, 150, 243);\n      doc.text('Nigzsu', 105, 20, { align: 'center' });\n      \n      // Report Title\n      doc.setFontSize(18);\n      doc.setTextColor(0, 0, 0);\n      doc.text(template?.name || 'Report', 105, 35, { align: 'center' });\n      \n      // Date\n      doc.setFontSize(10);\n      doc.setTextColor(100, 100, 100);\n      doc.text(`Generated: ${new Date().toLocaleString()}`, 105, 42, { align: 'center' });\n      doc.text(`Period: ${timePeriod.replace('-', ' ').toUpperCase()}`, 105, 48, { align: 'center' });\n      \n      // Divider\n      doc.setDrawColor(200, 200, 200);\n      doc.line(20, 52, 190, 52);\n      \n      let yPos = 62;\n      \n      // Report-specific content\n      doc.setFontSize(14);\n      doc.setTextColor(0, 0, 0);\n      doc.text('Key Metrics', 20, yPos);\n      yPos += 10;\n      \n      doc.setFontSize(10);\n      doc.setTextColor(0, 0, 0);\n\n      if (reportType === 'occupancy-summary') {\n        const d: any = data;\n        doc.text(`Current Occupancy: ${d.currentOccupancy} (${d.occupancyRate})`, 25, yPos);\n        yPos += 6;\n        doc.text(`Total Entries: ${d.totalEntries.toLocaleString()}`, 25, yPos);\n        yPos += 6;\n        doc.text(`Total Exits: ${d.totalExits.toLocaleString()}`, 25, yPos);\n        yPos += 6;\n        doc.text(`Average Dwell Time: ${d.averageDwellTime} minutes`, 25, yPos);\n        yPos += 6;\n        doc.text(`Peak Occupancy Time: ${d.peakOccupancyTime} (${d.peakOccupancyCount} occupancy)`, 25, yPos);\n        yPos += 10;\n        \n        if (d.hourlyOccupancy && d.hourlyOccupancy.length > 0) {\n          doc.text('Hourly Occupancy Patterns:', 25, yPos);\n          yPos += 6;\n          d.hourlyOccupancy.slice(0, 15).forEach((item: any) => {\n            doc.text(`  ${item.hour}: ${item.count} occupancy`, 30, yPos);\n            yPos += 5;\n          });\n        }\n      } else if (reportType === 'traffic-analysis') {\n        const d: any = data;\n        doc.text(`Total Entries: ${d.totalEntries.toLocaleString()}`, 25, yPos);\n        yPos += 6;\n        doc.text(`Total Exits: ${d.totalExits.toLocaleString()}`, 25, yPos);\n        yPos += 6;\n        doc.text(`Peak Flow Time: ${d.peakFlowTime} (${d.peakFlowRate} events/hour)`, 25, yPos);\n        yPos += 6;\n        doc.text(`Average Flow Rate: ${d.averageFlowRate} events/hour`, 25, yPos);\n        yPos += 10;\n        \n        if (d.flowByHour && d.flowByHour.length > 0) {\n          doc.text('Flow by Hour:', 25, yPos);\n          yPos += 6;\n          d.flowByHour.slice(0, 15).forEach((item: any) => {\n            doc.text(`  ${item.hour}: ${item.entries} entries, ${item.exits} exits`, 30, yPos);\n            yPos += 5;\n          });\n        }\n      } else if (reportType === 'demographics-report') {\n        const d: any = data;\n        doc.text(`Total Visitors: ${d.totalVisitors.toLocaleString()}`, 25, yPos);\n        yPos += 6;\n        doc.text(`Peak Demographic: ${d.peakDemographic}`, 25, yPos);\n        yPos += 10;\n        \n        doc.text('Gender Distribution:', 25, yPos);\n        yPos += 6;\n        doc.text(`  Male: ${d.genderDistribution.male}`, 30, yPos);\n        yPos += 5;\n        doc.text(`  Female: ${d.genderDistribution.female}`, 30, yPos);\n        yPos += 5;\n        doc.text(`  Unidentified: ${d.genderDistribution.unidentified}`, 30, yPos);\n        yPos += 10;\n        \n        doc.text('Age Distribution:', 25, yPos);\n        yPos += 6;\n        Object.entries(d.ageDistribution).forEach(([age, pct]) => {\n          doc.text(`  ${age}: ${pct}`, 30, yPos);\n          yPos += 5;\n        });\n        yPos += 5;\n      } else if (reportType === 'device-performance') {\n        const d: any = data;\n        if (d.message) {\n          doc.text(d.message, 25, yPos, { maxWidth: 160 });\n        }\n      }\n      \n      // Footer\n      const pageCount = doc.internal.pages.length - 1;\n      for (let i = 1; i <= pageCount; i++) {\n        doc.setPage(i);\n        doc.setFontSize(8);\n        doc.setTextColor(150, 150, 150);\n        doc.text(`Page ${i} of ${pageCount}`, 105, 290, { align: 'center' });\n        doc.text('Confidential - Nigzsu Business Intelligence', 105, 285, { align: 'center' });\n      }\n      \n      // Save the PDF\n      const filename = `${template?.name.replace(/\\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.pdf`;\n      doc.save(filename);\n      \n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      alert('Failed to generate PDF report');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const generateExcelReport = () => {\n    setIsGenerating(true);\n\n    try {\n      const data = getReportData(reportType);\n      const template = reportTemplates.find(t => t.id === reportType);\n      \n      let worksheetData: any[] = [];\n\n      if (reportType === 'occupancy-summary') {\n        const d: any = data;\n        worksheetData = [\n          ['Occupancy Summary Report'],\n          ['Generated:', new Date().toLocaleString()],\n          ['Period:', timePeriod.replace('-', ' ').toUpperCase()],\n          [],\n          ['Metric', 'Value'],\n          ['Current Occupancy', d.currentOccupancy],\n          ['Total Entries', d.totalEntries],\n          ['Total Exits', d.totalExits],\n          ['Occupancy Rate', d.occupancyRate],\n          ['Average Dwell Time', `${d.averageDwellTime} minutes`],\n          ['Peak Occupancy Time', d.peakOccupancyTime],\n          ['Peak Occupancy Count', d.peakOccupancyCount],\n          [],\n          ['Hourly Occupancy'],\n          ['Hour', 'Occupancy'],\n          ...d.hourlyOccupancy.map((item: any) => [item.hour, item.count])\n        ];\n      } else if (reportType === 'traffic-analysis') {\n        const d: any = data;\n        worksheetData = [\n          ['Traffic Flow Analysis Report'],\n          ['Generated:', new Date().toLocaleString()],\n          ['Period:', timePeriod.replace('-', ' ').toUpperCase()],\n          [],\n          ['Metric', 'Value'],\n          ['Total Entries', d.totalEntries],\n          ['Total Exits', d.totalExits],\n          ['Peak Flow Time', d.peakFlowTime],\n          ['Peak Flow Rate', `${d.peakFlowRate} events/hour`],\n          ['Average Flow Rate', `${d.averageFlowRate} events/hour`],\n          [],\n          ['Flow by Hour'],\n          ['Hour', 'Entries', 'Exits'],\n          ...d.flowByHour.map((item: any) => [item.hour, item.entries, item.exits])\n        ];\n      } else if (reportType === 'demographics-report') {\n        const d: any = data;\n        worksheetData = [\n          ['Demographics Report'],\n          ['Generated:', new Date().toLocaleString()],\n          ['Period:', timePeriod.replace('-', ' ').toUpperCase()],\n          [],\n          ['Metric', 'Value'],\n          ['Total Visitors', d.totalVisitors],\n          ['Peak Demographic', d.peakDemographic],\n          [],\n          ['Gender Distribution'],\n          ['Male', d.genderDistribution.male],\n          ['Female', d.genderDistribution.female],\n          ['Unidentified', d.genderDistribution.unidentified],\n          [],\n          ['Age Distribution'],\n          ...Object.entries(d.ageDistribution).map(([age, pct]) => [age, pct])\n        ];\n      } else if (reportType === 'device-performance') {\n        const d: any = data;\n        worksheetData = [\n          ['Device Performance Report'],\n          ['Generated:', new Date().toLocaleString()],\n          ['Period:', timePeriod.replace('-', ' ').toUpperCase()],\n          [],\n          [d.message || 'No data available']\n        ];\n      }\n\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Report');\n\n      const filename = `${template?.name.replace(/\\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.xlsx`;\n      XLSX.writeFile(workbook, filename);\n\n    } catch (error) {\n      console.error('Error generating Excel:', error);\n      alert('Failed to generate Excel report');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const generateCSVReport = () => {\n    setIsGenerating(true);\n\n    try {\n      const data = getReportData(reportType);\n      const template = reportTemplates.find(t => t.id === reportType);\n      \n      let csvContent = '';\n\n      if (reportType === 'occupancy-summary') {\n        const d: any = data;\n        csvContent = `Occupancy Summary Report\\n`;\n        csvContent += `Generated,${new Date().toLocaleString()}\\n`;\n        csvContent += `Period,${timePeriod.replace('-', ' ').toUpperCase()}\\n\\n`;\n        csvContent += `Metric,Value\\n`;\n        csvContent += `Current Occupancy,${d.currentOccupancy}\\n`;\n        csvContent += `Total Entries,${d.totalEntries}\\n`;\n        csvContent += `Total Exits,${d.totalExits}\\n`;\n        csvContent += `Occupancy Rate,${d.occupancyRate}\\n`;\n        csvContent += `Average Dwell Time,${d.averageDwellTime} minutes\\n`;\n        csvContent += `Peak Occupancy Time,${d.peakOccupancyTime}\\n`;\n        csvContent += `Peak Occupancy Count,${d.peakOccupancyCount}\\n\\n`;\n        csvContent += `Hourly Occupancy\\nHour,Occupancy\\n`;\n        d.hourlyOccupancy.forEach((item: any) => {\n          csvContent += `${item.hour},${item.count}\\n`;\n        });\n      } else if (reportType === 'traffic-analysis') {\n        const d: any = data;\n        csvContent = `Traffic Flow Analysis Report\\n`;\n        csvContent += `Generated,${new Date().toLocaleString()}\\n`;\n        csvContent += `Period,${timePeriod.replace('-', ' ').toUpperCase()}\\n\\n`;\n        csvContent += `Metric,Value\\n`;\n        csvContent += `Total Entries,${d.totalEntries}\\n`;\n        csvContent += `Total Exits,${d.totalExits}\\n`;\n        csvContent += `Peak Flow Time,${d.peakFlowTime}\\n`;\n        csvContent += `Peak Flow Rate,${d.peakFlowRate} events/hour\\n`;\n        csvContent += `Average Flow Rate,${d.averageFlowRate} events/hour\\n\\n`;\n        csvContent += `Flow by Hour\\nHour,Entries,Exits\\n`;\n        d.flowByHour.forEach((item: any) => {\n          csvContent += `${item.hour},${item.entries},${item.exits}\\n`;\n        });\n      } else if (reportType === 'demographics-report') {\n        const d: any = data;\n        csvContent = `Demographics Report\\n`;\n        csvContent += `Generated,${new Date().toLocaleString()}\\n`;\n        csvContent += `Period,${timePeriod.replace('-', ' ').toUpperCase()}\\n\\n`;\n        csvContent += `Metric,Value\\n`;\n        csvContent += `Total Visitors,${d.totalVisitors}\\n`;\n        csvContent += `Peak Demographic,${d.peakDemographic}\\n\\n`;\n        csvContent += `Gender Distribution\\n`;\n        csvContent += `Male,${d.genderDistribution.male}\\n`;\n        csvContent += `Female,${d.genderDistribution.female}\\n`;\n        csvContent += `Unidentified,${d.genderDistribution.unidentified}\\n\\n`;\n        csvContent += `Age Distribution\\nAge Group,Percentage\\n`;\n        Object.entries(d.ageDistribution).forEach(([age, pct]) => {\n          csvContent += `${age},${pct}\\n`;\n        });\n      } else if (reportType === 'device-performance') {\n        const d: any = data;\n        csvContent = `Device Performance Report\\n`;\n        csvContent += `Generated,${new Date().toLocaleString()}\\n`;\n        csvContent += `Period,${timePeriod.replace('-', ' ').toUpperCase()}\\n\\n`;\n        csvContent += `${d.message || 'No data available'}\\n`;\n      }\n\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `${template?.name.replace(/\\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.csv`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n    } catch (error) {\n      console.error('Error generating CSV:', error);\n      alert('Failed to generate CSV report');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const handleGenerateReport = () => {\n    if (reportType === 'device-performance') {\n      alert('Not available');\n      return;\n    }\n    \n    if (format === 'pdf') {\n      generatePDFReport();\n    } else if (format === 'excel') {\n      generateExcelReport();\n    } else if (format === 'csv') {\n      generateCSVReport();\n    }\n  };\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <h1 style={{ color: 'var(--vrm-text-primary)', fontSize: '24px', fontWeight: '600', marginBottom: '8px' }}>\n          Reports\n        </h1>\n        <div className=\"vrm-breadcrumb\">\n          <span>Dashboard</span>\n          <span>›</span>\n          <span>Reports</span>\n        </div>\n      </div>\n\n      {/* Report Configuration */}\n      <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Report Configuration</h3>\n        </div>\n        <div className=\"vrm-card-body\">\n          <div className=\"vrm-grid vrm-grid-3\">\n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Report Type\n              </label>\n              <select \n                value={reportType}\n                onChange={(e) => setReportType(e.target.value)}\n                style={{ \n                  width: '100%', \n                  padding: '8px 12px', \n                  backgroundColor: 'var(--vrm-bg-tertiary)', \n                  border: '1px solid var(--vrm-border)', \n                  borderRadius: '6px', \n                  color: 'var(--vrm-text-primary)'\n                }}\n              >\n                {reportTemplates.map(template => (\n                  <option key={template.id} value={template.id}>{template.name}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Time Period\n              </label>\n              <select \n                value={timePeriod}\n                onChange={(e) => setTimePeriod(e.target.value)}\n                style={{ \n                  width: '100%', \n                  padding: '8px 12px', \n                  backgroundColor: 'var(--vrm-bg-tertiary)', \n                  border: '1px solid var(--vrm-border)', \n                  borderRadius: '6px', \n                  color: 'var(--vrm-text-primary)'\n                }}\n              >\n                <option value=\"last-7-days\">Last 7 Days</option>\n                <option value=\"last-30-days\">Last 30 Days</option>\n                <option value=\"past-year\">Past Year</option>\n                <option value=\"this-month\">This Month</option>\n                <option value=\"last-month\">Last Month</option>\n                <option value=\"all-time\">All Time</option>\n                <option value=\"custom-range\">Custom Range</option>\n              </select>\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                Format\n              </label>\n              <select \n                value={format}\n                onChange={(e) => setFormat(e.target.value)}\n                style={{ \n                  width: '100%', \n                  padding: '8px 12px', \n                  backgroundColor: 'var(--vrm-bg-tertiary)', \n                  border: '1px solid var(--vrm-border)', \n                  borderRadius: '6px', \n                  color: 'var(--vrm-text-primary)'\n                }}\n              >\n                <option value=\"pdf\">PDF Report</option>\n                <option value=\"excel\">Excel Spreadsheet</option>\n                <option value=\"csv\">CSV Data</option>\n              </select>\n            </div>\n          </div>\n          \n          {showDatePicker && (\n            <div style={{ marginTop: '20px', padding: '16px', backgroundColor: 'var(--vrm-bg-secondary)', borderRadius: '6px', border: '1px solid var(--vrm-border)' }}>\n              <div style={{ display: 'flex', gap: '16px', alignItems: 'center', flexWrap: 'wrap' }}>\n                <div>\n                  <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                    Start Date\n                  </label>\n                  <DatePicker\n                    selected={startDate}\n                    onChange={(date) => setStartDate(date)}\n                    selectsStart\n                    startDate={startDate}\n                    endDate={endDate}\n                    dateFormat=\"yyyy-MM-dd\"\n                    className=\"vrm-date-picker\"\n                    placeholderText=\"Select start date\"\n                  />\n                </div>\n                <div>\n                  <label style={{ display: 'block', marginBottom: '6px', color: 'var(--vrm-text-secondary)', fontSize: '14px' }}>\n                    End Date\n                  </label>\n                  <DatePicker\n                    selected={endDate}\n                    onChange={(date) => setEndDate(date)}\n                    selectsEnd\n                    startDate={startDate}\n                    endDate={endDate}\n                    minDate={startDate || undefined}\n                    dateFormat=\"yyyy-MM-dd\"\n                    className=\"vrm-date-picker\"\n                    placeholderText=\"Select end date\"\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n          \n          <div style={{ marginTop: '20px', display: 'flex', gap: '12px' }}>\n            <button \n              className=\"vrm-btn\" \n              style={{ flex: 1 }}\n              onClick={handleGenerateReport}\n              disabled={isGenerating || loading}\n            >\n              {isGenerating ? 'Generating...' : 'Generate & Download Report'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Report Templates */}\n      <div className=\"vrm-card\">\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Reports</h3>\n        </div>\n        <div className=\"vrm-card-body\">\n          <div className=\"vrm-grid vrm-grid-2\">\n            {reportTemplates.map((template) => (\n              <div key={template.id} style={{ \n                padding: '20px', \n                backgroundColor: reportType === template.id ? 'rgba(33, 150, 243, 0.1)' : 'var(--vrm-bg-tertiary)', \n                borderRadius: '8px',\n                border: `1px solid ${reportType === template.id ? 'var(--vrm-accent-blue)' : 'var(--vrm-border)'}`,\n                transition: 'all 0.2s ease',\n                cursor: 'pointer'\n              }}\n              onClick={() => setReportType(template.id)}\n              onMouseEnter={(e) => {\n                if (reportType !== template.id) {\n                  e.currentTarget.style.borderColor = 'var(--vrm-accent-blue)';\n                  e.currentTarget.style.transform = 'translateY(-2px)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (reportType !== template.id) {\n                  e.currentTarget.style.borderColor = 'var(--vrm-border)';\n                  e.currentTarget.style.transform = 'translateY(0)';\n                }\n              }}>\n                <div style={{ marginBottom: '12px' }}>\n                  <h4 style={{ color: 'var(--vrm-text-primary)', margin: 0, fontSize: '16px', fontWeight: '600' }}>\n                    {template.name}\n                  </h4>\n                  <span className=\"vrm-status vrm-status-online\" style={{ fontSize: '11px', marginTop: '4px' }}>\n                    {template.type}\n                  </span>\n                </div>\n                \n                <p style={{ color: 'var(--vrm-text-secondary)', fontSize: '14px', marginBottom: '0', lineHeight: '1.5' }}>\n                  {template.description}\n                </p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReportsPage;\n","size_bytes":35178},"frontend/src/styles/VRMTheme.css":{"content":"/* VRM Victron Remote Monitoring Theme */\n/* Exact color palette and styling matching VRM portal */\n\n:root {\n  /* VRM Dark Theme Colors */\n  --vrm-bg-primary: #1e1e1e;\n  --vrm-bg-secondary: #2b2b2b;\n  --vrm-bg-tertiary: #333333;\n  --vrm-text-primary: #ffffff;\n  --vrm-text-secondary: #cccccc;\n  --vrm-text-muted: #888888;\n  --vrm-accent-blue: #1976d2;\n  --vrm-accent-teal: #00bcd4;\n  --vrm-accent-purple: #9c27b0;\n  --vrm-accent-green: #4caf50;\n  --vrm-accent-orange: #ff9800;\n  --vrm-accent-red: #f44336;\n  --vrm-border: #404040;\n  --vrm-hover: #333333;\n  --vrm-active: #404040;\n}\n\n/* Global Reset and Base */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n  background-color: var(--vrm-bg-primary);\n  color: var(--vrm-text-primary);\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n/* VRM Layout Structure */\n.vrm-layout {\n  display: flex;\n  min-height: 100vh;\n  background-color: var(--vrm-bg-primary);\n}\n\n/* Sidebar Navigation */\n.vrm-sidebar {\n  width: 250px;\n  background-color: var(--vrm-bg-secondary);\n  border-right: 1px solid var(--vrm-border);\n  display: flex;\n  flex-direction: column;\n  transition: width 0.3s ease;\n}\n\n.vrm-sidebar.collapsed {\n  width: 60px;\n}\n\n.vrm-sidebar-header {\n  padding: 16px;\n  border-bottom: 1px solid var(--vrm-border);\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.vrm-logo {\n  width: 28px;\n  height: 28px;\n  background: linear-gradient(135deg, var(--vrm-accent-blue), var(--vrm-accent-teal));\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.vrm-logo-text {\n  font-weight: 600;\n  font-size: 16px;\n  color: var(--vrm-text-primary);\n}\n\n.vrm-sidebar.collapsed .vrm-logo-text {\n  display: none;\n}\n\n/* Navigation Menu */\n.vrm-nav {\n  flex: 1;\n  padding: 8px 0;\n  overflow-y: auto;\n  min-height: 0;\n}\n\n.vrm-nav-section {\n  margin-bottom: 8px;\n}\n\n.vrm-nav-item {\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  color: var(--vrm-text-secondary);\n  text-decoration: none;\n  transition: all 0.2s ease;\n  border-left: 3px solid transparent;\n  gap: 12px;\n  cursor: pointer;\n}\n\n.vrm-nav-item:hover {\n  background-color: var(--vrm-hover);\n  color: var(--vrm-text-primary);\n}\n\n.vrm-nav-item.active {\n  background-color: var(--vrm-accent-blue);\n  color: white;\n  border-left-color: var(--vrm-accent-teal);\n}\n\n.vrm-nav-icon {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.vrm-nav-text {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.vrm-sidebar.collapsed .vrm-nav-text {\n  display: none;\n}\n\n.vrm-sidebar.collapsed .vrm-nav-item {\n  padding: 12px;\n  justify-content: center;\n}\n\n/* Main Content Area */\n.vrm-main {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--vrm-bg-primary);\n}\n\n/* Top Header Bar */\n.vrm-header {\n  background-color: var(--vrm-bg-secondary);\n  border-bottom: 1px solid var(--vrm-border);\n  padding: 12px 24px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  min-height: 60px;\n}\n\n.vrm-header-left {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.vrm-breadcrumb {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: var(--vrm-text-secondary);\n  font-size: 14px;\n}\n\n.vrm-search {\n  position: relative;\n}\n\n.vrm-search input {\n  background-color: var(--vrm-bg-tertiary);\n  border: 1px solid var(--vrm-border);\n  border-radius: 6px;\n  padding: 8px 12px 8px 36px;\n  color: var(--vrm-text-primary);\n  font-size: 14px;\n  width: 240px;\n  transition: border-color 0.2s ease;\n}\n\n.vrm-search input:focus {\n  outline: none;\n  border-color: var(--vrm-accent-blue);\n}\n\n.vrm-search-icon {\n  position: absolute;\n  left: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--vrm-text-muted);\n  width: 16px;\n  height: 16px;\n}\n\n.vrm-header-right {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n/* Content Area */\n.vrm-content {\n  flex: 1;\n  padding: 24px;\n  overflow-y: auto;\n}\n\n/* VRM Cards */\n.vrm-card {\n  background-color: var(--vrm-bg-secondary);\n  border: 1px solid var(--vrm-border);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.2s ease;\n}\n\n.vrm-card:hover {\n  border-color: var(--vrm-accent-blue);\n}\n\n.vrm-card-header {\n  padding: 16px 20px;\n  border-bottom: 1px solid var(--vrm-border);\n  background-color: var(--vrm-bg-tertiary);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.vrm-card-title {\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--vrm-text-primary);\n  margin: 0;\n}\n\n.vrm-card-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.vrm-card-body {\n  padding: 20px;\n}\n\n/* VRM Tables */\n.vrm-table {\n  width: 100%;\n  border-collapse: collapse;\n  background-color: var(--vrm-bg-secondary);\n}\n\n.vrm-table th,\n.vrm-table td {\n  padding: 12px 16px;\n  text-align: left;\n  border-bottom: 1px solid var(--vrm-border);\n}\n\n.vrm-table th {\n  background-color: var(--vrm-bg-tertiary);\n  color: var(--vrm-text-secondary);\n  font-weight: 600;\n  font-size: 13px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.vrm-table td {\n  color: var(--vrm-text-primary);\n  font-size: 14px;\n}\n\n.vrm-table tr:hover {\n  background-color: var(--vrm-hover);\n}\n\n/* VRM Buttons */\n.vrm-btn {\n  background-color: var(--vrm-accent-blue);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 8px 16px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-decoration: none;\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.vrm-btn:hover {\n  background-color: #1565c0;\n  transform: translateY(-1px);\n}\n\n.vrm-btn-secondary {\n  background-color: var(--vrm-bg-tertiary);\n  color: var(--vrm-text-primary);\n  border: 1px solid var(--vrm-border);\n}\n\n.vrm-btn-secondary:hover {\n  background-color: var(--vrm-hover);\n  border-color: var(--vrm-accent-blue);\n}\n\n.vrm-btn-sm {\n  padding: 6px 12px;\n  font-size: 12px;\n}\n\n/* VRM Status Indicators */\n.vrm-status {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.vrm-status-online {\n  background-color: rgba(76, 175, 80, 0.2);\n  color: var(--vrm-accent-green);\n}\n\n.vrm-status-offline {\n  background-color: rgba(244, 67, 54, 0.2);\n  color: var(--vrm-accent-red);\n}\n\n.vrm-status-warning {\n  background-color: rgba(255, 152, 0, 0.2);\n  color: var(--vrm-accent-orange);\n}\n\n.vrm-status-dot {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background-color: currentColor;\n}\n\n/* VRM Grid System */\n.vrm-grid {\n  display: grid;\n  gap: 24px;\n}\n\n.vrm-grid-2 {\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n}\n\n.vrm-grid-3 {\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n}\n\n.vrm-grid-4 {\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n}\n\n.vrm-grid-5 {\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n}\n\n/* VRM Collapse Button */\n.vrm-collapse-btn {\n  width: 40px;\n  height: 40px;\n  background-color: var(--vrm-bg-tertiary);\n  border: 1px solid var(--vrm-border);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: var(--vrm-text-secondary);\n  transition: all 0.2s ease;\n  margin: 12px auto;\n  position: relative;\n  flex-shrink: 0;\n}\n\n.vrm-collapse-btn:hover {\n  background-color: var(--vrm-hover);\n  color: var(--vrm-text-primary);\n  border-color: var(--vrm-accent-blue);\n}\n\n.vrm-sidebar.collapsed .vrm-collapse-btn {\n  width: 36px;\n  height: 36px;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .vrm-sidebar {\n    width: 60px;\n  }\n  \n  .vrm-sidebar .vrm-nav-text,\n  .vrm-sidebar .vrm-logo-text {\n    display: none;\n  }\n  \n  .vrm-search input {\n    width: 180px;\n  }\n  \n  .vrm-content {\n    padding: 16px;\n  }\n  \n  .vrm-grid-2,\n  .vrm-grid-3,\n  .vrm-grid-4 {\n    grid-template-columns: 1fr;\n  }\n}\n\n@media (max-width: 480px) {\n  .vrm-header {\n    padding: 12px 16px;\n  }\n  \n  .vrm-search {\n    display: none;\n  }\n  \n  .vrm-content {\n    padding: 12px;\n  }\n}","size_bytes":8198},"frontend/src/pages/AdminPage.tsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { API_BASE_URL } from '../config';\n\ninterface User {\n  username: string;\n  name: string;\n  role: 'client' | 'admin';\n  csv_url?: string;\n  last_login?: string | null;\n  data_sources?: DataSource[];\n}\n\ninterface AlarmEvent {\n  id: string;\n  instance: string;\n  device: string;\n  description: string;\n  alarmStartedAt: string;\n  alarmClearedAfter: string | null;\n  severity: string;\n  client_id: string;\n}\n\ninterface DeviceInfo {\n  id: string;\n  name: string;\n  type: string;\n  status: string;\n  lastSeen: string;\n  dataSource?: string;\n  location?: string;\n  recordCount?: number;\n  client_id: string;\n}\n\ninterface DataSource {\n  id: string;\n  title: string;\n  url: string;\n  type: 'Camera' | 'Sensor' | 'Gateway';\n  active?: boolean;\n  client_id: string;\n}\n\ninterface AdminPageProps {\n  credentials: { username: string; password: string };\n}\n\nconst AdminPage: React.FC<AdminPageProps> = ({ credentials }) => {\n  const [activeTab, setActiveTab] = useState<'users' | 'alarms' | 'devices'>('users');\n  const [users, setUsers] = useState<User[]>([]);\n  const [alarms, setAlarms] = useState<AlarmEvent[]>([]);\n  const [devices, setDevices] = useState<DeviceInfo[]>([]);\n  const [dataSources, setDataSources] = useState<DataSource[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedClient, setSelectedClient] = useState<string>('');\n  const [alert, setAlert] = useState<{ message: string; type: 'success' | 'error' } | null>(null);\n  \n  const [showAddUser, setShowAddUser] = useState(false);\n  const [showEditUser, setShowEditUser] = useState(false);\n  const [editingUser, setEditingUser] = useState<string | null>(null);\n  \n  const [showAddAlarm, setShowAddAlarm] = useState(false);\n  const [showEditAlarm, setShowEditAlarm] = useState(false);\n  const [editingAlarm, setEditingAlarm] = useState<AlarmEvent | null>(null);\n  \n  const [showAddDevice, setShowAddDevice] = useState(false);\n  const [showEditDevice, setShowEditDevice] = useState(false);\n  const [editingDevice, setEditingDevice] = useState<DeviceInfo | null>(null);\n  \n  const [showAddDataSource, setShowAddDataSource] = useState(false);\n  const [showEditDataSource, setShowEditDataSource] = useState(false);\n  const [editingDataSource, setEditingDataSource] = useState<DataSource | null>(null);\n\n  const [newUser, setNewUser] = useState({\n    username: '',\n    password: '',\n    name: '',\n    role: 'client' as 'client' | 'admin',\n    csv_url: ''\n  });\n\n  const [editUser, setEditUser] = useState({\n    password: '',\n    name: '',\n    role: 'client' as 'client' | 'admin',\n    csv_url: ''\n  });\n\n  const [newAlarm, setNewAlarm] = useState({\n    instance: '',\n    device: '',\n    description: '',\n    alarmStartedAt: new Date().toISOString().slice(0, 16),\n    alarmClearedAfter: '',\n    severity: 'medium',\n    client_id: ''\n  });\n\n  const [newDevice, setNewDevice] = useState({\n    name: '',\n    type: 'Camera',\n    status: 'online',\n    lastSeen: new Date().toISOString().slice(0, 16),\n    dataSource: '',\n    location: '',\n    recordCount: 0,\n    client_id: ''\n  });\n\n  const [newDataSource, setNewDataSource] = useState({\n    title: '',\n    url: '',\n    type: 'Camera' as 'Camera' | 'Sensor' | 'Gateway'\n  });\n\n  const loadAdminData = React.useCallback(async () => {\n    try {\n      setLoading(true);\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      \n      const response = await fetch(`${API_BASE_URL}/api/admin/users`, {\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setUsers(data.users || []);\n        \n        const clientUsers = (data.users || []).filter((user: User) => user.role === 'client');\n        if (clientUsers.length > 0 && !selectedClient) {\n          setSelectedClient(clientUsers[0].username);\n        }\n      } else {\n        setAlert({ message: 'Failed to load users', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: `Failed to load admin data: ${err instanceof Error ? err.message : 'Unknown error'}`, type: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  }, [credentials.username, credentials.password, selectedClient]);\n\n  const loadAlarms = React.useCallback(async (clientId: string) => {\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/alarm-logs?client_id=${clientId}`, {\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setAlarms(data.alarms || []);\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to load alarms', type: 'error' });\n    }\n  }, [credentials.username, credentials.password]);\n\n  const loadDevices = React.useCallback(async (clientId: string) => {\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/device-list?client_id=${clientId}`, {\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setDevices(data.devices || []);\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to load devices', type: 'error' });\n    }\n  }, [credentials.username, credentials.password]);\n\n  const loadDataSources = React.useCallback(async (clientId: string) => {\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/data-sources/${clientId}`, {\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setDataSources(data.data_sources || []);\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to load data sources', type: 'error' });\n    }\n  }, [credentials.username, credentials.password]);\n\n  useEffect(() => {\n    loadAdminData();\n  }, [loadAdminData]);\n\n  useEffect(() => {\n    if (selectedClient && activeTab === 'alarms') {\n      loadAlarms(selectedClient);\n    }\n  }, [selectedClient, activeTab, loadAlarms]);\n\n  useEffect(() => {\n    if (selectedClient && activeTab === 'devices') {\n      loadDevices(selectedClient);\n    }\n  }, [selectedClient, activeTab, loadDevices]);\n\n  useEffect(() => {\n    if (selectedClient && activeTab === 'users') {\n      loadDataSources(selectedClient);\n    }\n  }, [selectedClient, activeTab, loadDataSources]);\n\n  // Format last login timestamp\n  const formatLastLogin = (lastLogin: string | null | undefined): string => {\n    if (!lastLogin) return 'Never';\n    \n    try {\n      const date = new Date(lastLogin);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hours = String(date.getHours()).padStart(2, '0');\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n      const seconds = String(date.getSeconds()).padStart(2, '0');\n      \n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n    } catch (err) {\n      return 'Invalid date';\n    }\n  };\n\n  useEffect(() => {\n    if (alert) {\n      const timer = setTimeout(() => setAlert(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [alert]);\n\n  const handleAddUser = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!newUser.username.trim() || !newUser.password.trim() || !newUser.name.trim()) {\n      setAlert({ message: 'Please fill in all required fields', type: 'error' });\n      return;\n    }\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/users`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(newUser),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'User added successfully', type: 'success' });\n        setNewUser({ username: '', password: '', name: '', role: 'client', csv_url: '' });\n        setShowAddUser(false);\n        loadAdminData();\n      } else {\n        setAlert({ message: data.error || 'Failed to add user', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to add user', type: 'error' });\n    }\n  };\n\n  const handleEditUser = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!editingUser) return;\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/users/${editingUser}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(editUser),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'User updated successfully', type: 'success' });\n        setShowEditUser(false);\n        setEditingUser(null);\n        loadAdminData();\n      } else {\n        setAlert({ message: data.error || 'Failed to update user', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to update user', type: 'error' });\n    }\n  };\n\n  const handleDeleteUser = async (username: string) => {\n    if (!window.confirm(`Are you sure you want to delete user \"${username}\"?`)) return;\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/users/${username}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Basic ${auth}` },\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'User deleted successfully', type: 'success' });\n        loadAdminData();\n      } else {\n        setAlert({ message: data.error || 'Failed to delete user', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to delete user', type: 'error' });\n    }\n  };\n\n  const handleViewDashboard = async (username: string) => {\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/create-view-token`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ client_id: username }),\n      });\n\n      const data = await response.json();\n      if (data.token) {\n        window.open(`/dashboard?view_token=${data.token}`, '_blank');\n      } else {\n        setAlert({ message: 'Failed to create view token', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to open dashboard', type: 'error' });\n    }\n  };\n\n  const handleAddAlarm = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!newAlarm.client_id || !newAlarm.device || !newAlarm.description) {\n      setAlert({ message: 'Please fill in all required fields', type: 'error' });\n      return;\n    }\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/alarm-logs`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(newAlarm),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Alarm created successfully', type: 'success' });\n        setShowAddAlarm(false);\n        loadAlarms(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to create alarm', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to create alarm', type: 'error' });\n    }\n  };\n\n  const handleEditAlarm = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!editingAlarm) return;\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/alarm-logs/${editingAlarm.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(editingAlarm),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Alarm updated successfully', type: 'success' });\n        setShowEditAlarm(false);\n        setEditingAlarm(null);\n        loadAlarms(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to update alarm', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to update alarm', type: 'error' });\n    }\n  };\n\n  const handleDeleteAlarm = async (alarmId: string) => {\n    if (!window.confirm('Are you sure you want to delete this alarm?')) return;\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/alarm-logs/${alarmId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Basic ${auth}` },\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Alarm deleted successfully', type: 'success' });\n        loadAlarms(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to delete alarm', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to delete alarm', type: 'error' });\n    }\n  };\n\n  const handleAddDevice = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!newDevice.client_id || !newDevice.name) {\n      setAlert({ message: 'Please fill in all required fields', type: 'error' });\n      return;\n    }\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/device-list`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(newDevice),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Device created successfully', type: 'success' });\n        setShowAddDevice(false);\n        loadDevices(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to create device', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to create device', type: 'error' });\n    }\n  };\n\n  const handleEditDevice = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!editingDevice) return;\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/device-list/${editingDevice.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(editingDevice),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Device updated successfully', type: 'success' });\n        setShowEditDevice(false);\n        setEditingDevice(null);\n        loadDevices(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to update device', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to update device', type: 'error' });\n    }\n  };\n\n  const handleDeleteDevice = async (deviceId: string) => {\n    if (!window.confirm('Are you sure you want to delete this device?')) return;\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/device-list/${deviceId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Basic ${auth}` },\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Device deleted successfully', type: 'success' });\n        loadDevices(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to delete device', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to delete device', type: 'error' });\n    }\n  };\n\n  const handleAddDataSource = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!selectedClient || !newDataSource.title || !newDataSource.url) {\n      setAlert({ message: 'Please fill in all required fields', type: 'error' });\n      return;\n    }\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/data-sources/${selectedClient}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(newDataSource),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Data source created successfully', type: 'success' });\n        setNewDataSource({ title: '', url: '', type: 'Camera' });\n        setShowAddDataSource(false);\n        loadDataSources(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to create data source', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to create data source', type: 'error' });\n    }\n  };\n\n  const handleEditDataSource = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!editingDataSource) return;\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/data-sources/${selectedClient}/${editingDataSource.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Basic ${auth}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          title: editingDataSource.title,\n          url: editingDataSource.url,\n          type: editingDataSource.type\n        }),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Data source updated successfully', type: 'success' });\n        setShowEditDataSource(false);\n        setEditingDataSource(null);\n        loadDataSources(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to update data source', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to update data source', type: 'error' });\n    }\n  };\n\n  const handleDeleteDataSource = async (sourceId: string) => {\n    if (!window.confirm('Are you sure you want to delete this data source?')) return;\n\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/data-sources/${selectedClient}/${sourceId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Basic ${auth}` },\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Data source deleted successfully', type: 'success' });\n        loadDataSources(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to delete data source', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to delete data source', type: 'error' });\n    }\n  };\n\n  const handleSetActiveDataSource = async (sourceId: string) => {\n    try {\n      const auth = btoa(`${credentials.username}:${credentials.password}`);\n      const response = await fetch(`${API_BASE_URL}/api/admin/data-sources/${selectedClient}/${sourceId}/set-active`, {\n        method: 'POST',\n        headers: { 'Authorization': `Basic ${auth}` },\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setAlert({ message: 'Data source activated successfully', type: 'success' });\n        loadDataSources(selectedClient);\n      } else {\n        setAlert({ message: 'Failed to activate data source', type: 'error' });\n      }\n    } catch (err) {\n      setAlert({ message: 'Failed to activate data source', type: 'error' });\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '400px' }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ \n            width: '40px', \n            height: '40px', \n            border: '4px solid #333', \n            borderTop: '4px solid #1976d2', \n            borderRadius: '50%', \n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 16px'\n          }}></div>\n          <p style={{ color: 'var(--vrm-text-secondary)' }}>Loading admin data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const clientUsers = users.filter(user => user.role === 'client');\n\n  return (\n    <div>\n      <div style={{ marginBottom: '24px' }}>\n        <h1 style={{ color: 'var(--vrm-text-primary)', fontSize: '24px', fontWeight: '600', marginBottom: '8px' }}>\n          Admin Panel\n        </h1>\n        <div className=\"vrm-breadcrumb\">\n          <span>Dashboard</span>\n          <span>›</span>\n          <span>Admin</span>\n        </div>\n      </div>\n\n      {alert && (\n        <div style={{ \n          marginBottom: '24px',\n          padding: '12px 16px',\n          backgroundColor: alert.type === 'success' ? 'rgba(76, 175, 80, 0.1)' : 'rgba(244, 67, 54, 0.1)',\n          border: `1px solid ${alert.type === 'success' ? 'var(--vrm-accent-green)' : 'var(--vrm-accent-red)'}`,\n          borderRadius: '6px',\n          color: alert.type === 'success' ? 'var(--vrm-accent-green)' : 'var(--vrm-accent-red)'\n        }}>\n          {alert.message}\n        </div>\n      )}\n\n      <div style={{ marginBottom: '24px', display: 'flex', gap: '8px', borderBottom: '1px solid var(--vrm-border-color)' }}>\n        <button\n          onClick={() => setActiveTab('users')}\n          style={{\n            padding: '12px 24px',\n            background: activeTab === 'users' ? 'var(--vrm-bg-tertiary)' : 'transparent',\n            border: 'none',\n            borderBottom: activeTab === 'users' ? '2px solid var(--vrm-accent-blue)' : '2px solid transparent',\n            color: activeTab === 'users' ? 'var(--vrm-accent-blue)' : 'var(--vrm-text-secondary)',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '600'\n          }}\n        >\n          User Management\n        </button>\n        <button\n          onClick={() => setActiveTab('alarms')}\n          style={{\n            padding: '12px 24px',\n            background: activeTab === 'alarms' ? 'var(--vrm-bg-tertiary)' : 'transparent',\n            border: 'none',\n            borderBottom: activeTab === 'alarms' ? '2px solid var(--vrm-accent-blue)' : '2px solid transparent',\n            color: activeTab === 'alarms' ? 'var(--vrm-accent-blue)' : 'var(--vrm-text-secondary)',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '600'\n          }}\n        >\n          Alarm Logs\n        </button>\n        <button\n          onClick={() => setActiveTab('devices')}\n          style={{\n            padding: '12px 24px',\n            background: activeTab === 'devices' ? 'var(--vrm-bg-tertiary)' : 'transparent',\n            border: 'none',\n            borderBottom: activeTab === 'devices' ? '2px solid var(--vrm-accent-blue)' : '2px solid transparent',\n            color: activeTab === 'devices' ? 'var(--vrm-accent-blue)' : 'var(--vrm-text-secondary)',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '600'\n          }}\n        >\n          Device List\n        </button>\n      </div>\n\n      {activeTab === 'users' && (\n        <div>\n          <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n            <div className=\"vrm-card-header\">\n              <h3 className=\"vrm-card-title\">User Management</h3>\n              <div className=\"vrm-card-actions\">\n                <button className=\"vrm-btn vrm-btn-sm\" onClick={() => setShowAddUser(true)}>\n                  Add User\n                </button>\n              </div>\n            </div>\n            <div className=\"vrm-card-body\" style={{ padding: 0 }}>\n              <div style={{ overflowX: 'auto' }}>\n                <table className=\"vrm-table\">\n                  <thead>\n                    <tr>\n                      <th>Username</th>\n                      <th>Name</th>\n                      <th>Role</th>\n                      <th>Last Login</th>\n                      <th>CSV URL</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {users.map(user => (\n                      <tr key={user.username}>\n                        <td><code>{user.username}</code></td>\n                        <td>{user.name}</td>\n                        <td>\n                          <span className={`vrm-status ${user.role === 'admin' ? 'vrm-status-warning' : 'vrm-status-online'}`}>\n                            {user.role}\n                          </span>\n                        </td>\n                        <td style={{ fontSize: '14px', color: user.last_login ? 'var(--vrm-text-primary)' : 'var(--vrm-text-muted)' }}>\n                          {formatLastLogin(user.last_login)}\n                        </td>\n                        <td style={{ maxWidth: '200px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                          {user.csv_url || '-'}\n                        </td>\n                        <td>\n                          <div style={{ display: 'flex', gap: '8px' }}>\n                            {user.role === 'client' && (\n                              <button\n                                className=\"vrm-btn vrm-btn-primary vrm-btn-sm\"\n                                onClick={() => handleViewDashboard(user.username)}\n                              >\n                                View Dashboard\n                              </button>\n                            )}\n                            <button\n                              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                              onClick={() => {\n                                setEditingUser(user.username);\n                                setEditUser({\n                                  password: '',\n                                  name: user.name,\n                                  role: user.role,\n                                  csv_url: user.csv_url || ''\n                                });\n                                setShowEditUser(true);\n                              }}\n                            >\n                              Edit\n                            </button>\n                            <button\n                              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                              onClick={() => handleDeleteUser(user.username)}\n                            >\n                              Delete\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n            <div className=\"vrm-card-header\">\n              <h3 className=\"vrm-card-title\">Data Sources Management</h3>\n            </div>\n            <div className=\"vrm-card-body\">\n              <div style={{ marginBottom: '20px', display: 'flex', gap: '16px', alignItems: 'center' }}>\n                <label style={{ color: 'var(--vrm-text-primary)', fontWeight: 'bold' }}>\n                  Select Client:\n                </label>\n                <select\n                  value={selectedClient}\n                  onChange={(e) => setSelectedClient(e.target.value)}\n                  style={{\n                    flex: 1,\n                    maxWidth: '300px',\n                    padding: '8px 12px',\n                    backgroundColor: 'var(--vrm-bg-tertiary)',\n                    border: '1px solid var(--vrm-border-color)',\n                    borderRadius: '4px',\n                    color: 'var(--vrm-text-primary)',\n                    fontSize: '14px'\n                  }}\n                >\n                  <option value=\"\">-- Select a client --</option>\n                  {users\n                    .filter(user => user.role === 'client')\n                    .map(user => (\n                      <option key={user.username} value={user.username}>\n                        {user.name} ({user.username})\n                      </option>\n                    ))}\n                </select>\n                {selectedClient && (\n                  <button \n                    className=\"vrm-btn vrm-btn-sm\" \n                    onClick={() => setShowAddDataSource(true)}\n                  >\n                    Add Data Source\n                  </button>\n                )}\n              </div>\n\n              {selectedClient && (\n                <>\n                  <div style={{ padding: '0 20px 20px 20px' }}>\n                    <div style={{ overflowX: 'auto' }}>\n                      <table className=\"vrm-table\">\n                        <thead>\n                          <tr>\n                            <th>Source ID</th>\n                            <th>Title</th>\n                            <th>URL</th>\n                            <th>Type</th>\n                            <th>Status</th>\n                            <th>Actions</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {dataSources.length === 0 ? (\n                            <tr>\n                              <td colSpan={6} style={{ textAlign: 'center', padding: '40px', color: 'var(--vrm-text-secondary)' }}>\n                                No data sources found for this client\n                              </td>\n                            </tr>\n                          ) : (\n                            dataSources.map((source, index) => (\n                              <tr key={source.id}>\n                                <td><code>Source {index + 1}</code></td>\n                                <td>{source.title}</td>\n                                <td style={{ maxWidth: '300px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                                  {source.url}\n                                </td>\n                                <td>\n                                  <span className=\"vrm-status vrm-status-online\">\n                                    {source.type}\n                                  </span>\n                                </td>\n                                <td>\n                                  {source.active ? (\n                                    <span className=\"vrm-status vrm-status-online\" style={{ backgroundColor: '#22c55e', fontWeight: 'bold' }}>\n                                      Active\n                                    </span>\n                                  ) : (\n                                    <span className=\"vrm-status\" style={{ backgroundColor: '#6b7280' }}>\n                                      Inactive\n                                    </span>\n                                  )}\n                                </td>\n                                <td>\n                                  <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\n                                    {!source.active && (\n                                      <button\n                                        className=\"vrm-btn vrm-btn-sm\"\n                                        onClick={() => handleSetActiveDataSource(source.id)}\n                                      >\n                                        Set as Active\n                                      </button>\n                                    )}\n                                    <button\n                                      className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                                      onClick={() => {\n                                        setEditingDataSource(source);\n                                        setShowEditDataSource(true);\n                                      }}\n                                    >\n                                      Edit\n                                    </button>\n                                    <button\n                                      className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                                      onClick={() => handleDeleteDataSource(source.id)}\n                                    >\n                                      Delete\n                                    </button>\n                                  </div>\n                                </td>\n                              </tr>\n                            ))\n                          )}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n\n          {showAddUser && (\n            <div style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div className=\"vrm-card\" style={{ width: '500px', maxWidth: '90%' }}>\n                <div className=\"vrm-card-header\">\n                  <h3 className=\"vrm-card-title\">Add New User</h3>\n                </div>\n                <div className=\"vrm-card-body\">\n                  <form onSubmit={handleAddUser}>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Username *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newUser.username}\n                        onChange={(e) => setNewUser({ ...newUser, username: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Name *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newUser.name}\n                        onChange={(e) => setNewUser({ ...newUser, name: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Password *\n                      </label>\n                      <input\n                        type=\"password\"\n                        value={newUser.password}\n                        onChange={(e) => setNewUser({ ...newUser, password: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Role *\n                      </label>\n                      <select\n                        value={newUser.role}\n                        onChange={(e) => setNewUser({ ...newUser, role: e.target.value as 'client' | 'admin' })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      >\n                        <option value=\"client\">Client</option>\n                        <option value=\"admin\">Admin</option>\n                      </select>\n                    </div>\n                    {newUser.role === 'client' && (\n                      <div style={{ marginBottom: '16px' }}>\n                        <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                          CSV URL\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={newUser.csv_url}\n                          onChange={(e) => setNewUser({ ...newUser, csv_url: e.target.value })}\n                          style={{\n                            width: '100%',\n                            padding: '8px',\n                            backgroundColor: 'var(--vrm-bg-tertiary)',\n                            border: '1px solid var(--vrm-border-color)',\n                            borderRadius: '4px',\n                            color: 'var(--vrm-text-primary)'\n                          }}\n                        />\n                      </div>\n                    )}\n                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n                      <button\n                        type=\"button\"\n                        className=\"vrm-btn vrm-btn-secondary\"\n                        onClick={() => {\n                          setShowAddUser(false);\n                          setNewUser({ username: '', password: '', name: '', role: 'client', csv_url: '' });\n                        }}\n                      >\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"vrm-btn\">\n                        Create User\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {showEditUser && editingUser && (\n            <div style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div className=\"vrm-card\" style={{ width: '500px', maxWidth: '90%' }}>\n                <div className=\"vrm-card-header\">\n                  <h3 className=\"vrm-card-title\">Edit User: {editingUser}</h3>\n                </div>\n                <div className=\"vrm-card-body\">\n                  <form onSubmit={handleEditUser}>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editUser.name}\n                        onChange={(e) => setEditUser({ ...editUser, name: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        New Password (leave blank to keep current)\n                      </label>\n                      <input\n                        type=\"password\"\n                        value={editUser.password}\n                        onChange={(e) => setEditUser({ ...editUser, password: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n                      <button\n                        type=\"button\"\n                        className=\"vrm-btn vrm-btn-secondary\"\n                        onClick={() => {\n                          setShowEditUser(false);\n                          setEditingUser(null);\n                        }}\n                      >\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"vrm-btn\">\n                        Update User\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {showAddDataSource && (\n            <div style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div className=\"vrm-card\" style={{ width: '500px', maxWidth: '90%' }}>\n                <div className=\"vrm-card-header\">\n                  <h3 className=\"vrm-card-title\">Add New Data Source</h3>\n                </div>\n                <div className=\"vrm-card-body\">\n                  <form onSubmit={handleAddDataSource}>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Title *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newDataSource.title}\n                        onChange={(e) => setNewDataSource({ ...newDataSource, title: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        URL *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newDataSource.url}\n                        onChange={(e) => setNewDataSource({ ...newDataSource, url: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Type *\n                      </label>\n                      <select\n                        value={newDataSource.type}\n                        onChange={(e) => setNewDataSource({ ...newDataSource, type: e.target.value as 'Camera' | 'Sensor' | 'Gateway' })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      >\n                        <option value=\"Camera\">Camera</option>\n                        <option value=\"Sensor\">Sensor</option>\n                        <option value=\"Gateway\">Gateway</option>\n                      </select>\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n                      <button\n                        type=\"button\"\n                        className=\"vrm-btn vrm-btn-secondary\"\n                        onClick={() => {\n                          setShowAddDataSource(false);\n                          setNewDataSource({ title: '', url: '', type: 'Camera' });\n                        }}\n                      >\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"vrm-btn\">\n                        Create Data Source\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {showEditDataSource && editingDataSource && (\n            <div style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div className=\"vrm-card\" style={{ width: '500px', maxWidth: '90%' }}>\n                <div className=\"vrm-card-header\">\n                  <h3 className=\"vrm-card-title\">Edit Data Source</h3>\n                </div>\n                <div className=\"vrm-card-body\">\n                  <form onSubmit={handleEditDataSource}>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Title *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editingDataSource.title}\n                        onChange={(e) => setEditingDataSource({ ...editingDataSource, title: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        URL *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editingDataSource.url}\n                        onChange={(e) => setEditingDataSource({ ...editingDataSource, url: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Type *\n                      </label>\n                      <select\n                        value={editingDataSource.type}\n                        onChange={(e) => setEditingDataSource({ ...editingDataSource, type: e.target.value as 'Camera' | 'Sensor' | 'Gateway' })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      >\n                        <option value=\"Camera\">Camera</option>\n                        <option value=\"Sensor\">Sensor</option>\n                        <option value=\"Gateway\">Gateway</option>\n                      </select>\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n                      <button\n                        type=\"button\"\n                        className=\"vrm-btn vrm-btn-secondary\"\n                        onClick={() => {\n                          setShowEditDataSource(false);\n                          setEditingDataSource(null);\n                        }}\n                      >\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"vrm-btn\">\n                        Update Data Source\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {activeTab === 'alarms' && (\n        <div>\n          <div style={{ marginBottom: '16px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n              Select Client\n            </label>\n            <select\n              value={selectedClient}\n              onChange={(e) => setSelectedClient(e.target.value)}\n              style={{\n                padding: '8px',\n                backgroundColor: 'var(--vrm-bg-tertiary)',\n                border: '1px solid var(--vrm-border-color)',\n                borderRadius: '4px',\n                color: 'var(--vrm-text-primary)'\n              }}\n            >\n              {clientUsers.map(user => (\n                <option key={user.username} value={user.username}>\n                  {user.name} ({user.username})\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"vrm-card\">\n            <div className=\"vrm-card-header\">\n              <h3 className=\"vrm-card-title\">Alarm Logs for {selectedClient}</h3>\n              <div className=\"vrm-card-actions\">\n                <button\n                  className=\"vrm-btn vrm-btn-sm\"\n                  onClick={() => {\n                    setNewAlarm({\n                      instance: '',\n                      device: '',\n                      description: '',\n                      alarmStartedAt: new Date().toISOString().slice(0, 16),\n                      alarmClearedAfter: '',\n                      severity: 'medium',\n                      client_id: selectedClient\n                    });\n                    setShowAddAlarm(true);\n                  }}\n                >\n                  Add Alarm\n                </button>\n              </div>\n            </div>\n            <div className=\"vrm-card-body\" style={{ padding: 0 }}>\n              <div style={{ overflowX: 'auto' }}>\n                <table className=\"vrm-table\">\n                  <thead>\n                    <tr>\n                      <th>Instance</th>\n                      <th>Device</th>\n                      <th>Description</th>\n                      <th>Started</th>\n                      <th>Cleared</th>\n                      <th>Severity</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {alarms.length === 0 ? (\n                      <tr>\n                        <td colSpan={7} style={{ textAlign: 'center', padding: '40px', color: 'var(--vrm-text-secondary)' }}>\n                          No alarms found for this client\n                        </td>\n                      </tr>\n                    ) : (\n                      alarms.map((alarm) => (\n                        <tr key={alarm.id}>\n                          <td><code>{alarm.instance}</code></td>\n                          <td>{alarm.device}</td>\n                          <td>{alarm.description}</td>\n                          <td>{alarm.alarmStartedAt}</td>\n                          <td>{alarm.alarmClearedAfter || 'Active'}</td>\n                          <td>\n                            <span className={`vrm-status ${\n                              alarm.severity === 'high' ? 'vrm-status-offline' :\n                              alarm.severity === 'medium' ? 'vrm-status-warning' :\n                              'vrm-status-online'\n                            }`}>\n                              {alarm.severity}\n                            </span>\n                          </td>\n                          <td>\n                            <div style={{ display: 'flex', gap: '8px' }}>\n                              <button\n                                className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                                onClick={() => {\n                                  setEditingAlarm(alarm);\n                                  setShowEditAlarm(true);\n                                }}\n                              >\n                                Edit\n                              </button>\n                              <button\n                                className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                                onClick={() => handleDeleteAlarm(alarm.id)}\n                              >\n                                Delete\n                              </button>\n                            </div>\n                          </td>\n                        </tr>\n                      ))\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n\n          {showAddAlarm && (\n            <div style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div className=\"vrm-card\" style={{ width: '500px', maxWidth: '90%' }}>\n                <div className=\"vrm-card-header\">\n                  <h3 className=\"vrm-card-title\">Add New Alarm</h3>\n                </div>\n                <div className=\"vrm-card-body\">\n                  <form onSubmit={handleAddAlarm}>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Instance *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newAlarm.instance}\n                        onChange={(e) => setNewAlarm({ ...newAlarm, instance: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Device *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newAlarm.device}\n                        onChange={(e) => setNewAlarm({ ...newAlarm, device: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Description *\n                      </label>\n                      <textarea\n                        value={newAlarm.description}\n                        onChange={(e) => setNewAlarm({ ...newAlarm, description: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)',\n                          minHeight: '80px'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Severity *\n                      </label>\n                      <select\n                        value={newAlarm.severity}\n                        onChange={(e) => setNewAlarm({ ...newAlarm, severity: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      >\n                        <option value=\"low\">Low</option>\n                        <option value=\"medium\">Medium</option>\n                        <option value=\"high\">High</option>\n                      </select>\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n                      <button\n                        type=\"button\"\n                        className=\"vrm-btn vrm-btn-secondary\"\n                        onClick={() => setShowAddAlarm(false)}\n                      >\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"vrm-btn\">\n                        Create Alarm\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {showEditAlarm && editingAlarm && (\n            <div style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div className=\"vrm-card\" style={{ width: '500px', maxWidth: '90%' }}>\n                <div className=\"vrm-card-header\">\n                  <h3 className=\"vrm-card-title\">Edit Alarm</h3>\n                </div>\n                <div className=\"vrm-card-body\">\n                  <form onSubmit={handleEditAlarm}>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Description\n                      </label>\n                      <textarea\n                        value={editingAlarm.description}\n                        onChange={(e) => setEditingAlarm({ ...editingAlarm, description: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)',\n                          minHeight: '80px'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Cleared After (optional)\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editingAlarm.alarmClearedAfter || ''}\n                        onChange={(e) => setEditingAlarm({ ...editingAlarm, alarmClearedAfter: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                        placeholder=\"e.g., 5m, 10s\"\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Severity\n                      </label>\n                      <select\n                        value={editingAlarm.severity}\n                        onChange={(e) => setEditingAlarm({ ...editingAlarm, severity: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      >\n                        <option value=\"low\">Low</option>\n                        <option value=\"medium\">Medium</option>\n                        <option value=\"high\">High</option>\n                      </select>\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n                      <button\n                        type=\"button\"\n                        className=\"vrm-btn vrm-btn-secondary\"\n                        onClick={() => {\n                          setShowEditAlarm(false);\n                          setEditingAlarm(null);\n                        }}\n                      >\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"vrm-btn\">\n                        Update Alarm\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {activeTab === 'devices' && (\n        <div>\n          <div style={{ marginBottom: '16px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n              Select Client\n            </label>\n            <select\n              value={selectedClient}\n              onChange={(e) => setSelectedClient(e.target.value)}\n              style={{\n                padding: '8px',\n                backgroundColor: 'var(--vrm-bg-tertiary)',\n                border: '1px solid var(--vrm-border-color)',\n                borderRadius: '4px',\n                color: 'var(--vrm-text-primary)'\n              }}\n            >\n              {clientUsers.map(user => (\n                <option key={user.username} value={user.username}>\n                  {user.name} ({user.username})\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"vrm-card\">\n            <div className=\"vrm-card-header\">\n              <h3 className=\"vrm-card-title\">Device List for {selectedClient}</h3>\n              <div className=\"vrm-card-actions\">\n                <button\n                  className=\"vrm-btn vrm-btn-sm\"\n                  onClick={() => {\n                    setNewDevice({\n                      name: '',\n                      type: 'Camera',\n                      status: 'online',\n                      lastSeen: new Date().toISOString().slice(0, 16),\n                      dataSource: '',\n                      location: '',\n                      recordCount: 0,\n                      client_id: selectedClient\n                    });\n                    setShowAddDevice(true);\n                  }}\n                >\n                  Add Device\n                </button>\n              </div>\n            </div>\n            <div className=\"vrm-card-body\" style={{ padding: 0 }}>\n              <div style={{ overflowX: 'auto' }}>\n                <table className=\"vrm-table\">\n                  <thead>\n                    <tr>\n                      <th>Name</th>\n                      <th>Type</th>\n                      <th>Status</th>\n                      <th>Location</th>\n                      <th>Last Seen</th>\n                      <th>Records</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {devices.length === 0 ? (\n                      <tr>\n                        <td colSpan={7} style={{ textAlign: 'center', padding: '40px', color: 'var(--vrm-text-secondary)' }}>\n                          No devices found for this client\n                        </td>\n                      </tr>\n                    ) : (\n                      devices.map((device) => (\n                        <tr key={device.id}>\n                          <td>{device.name}</td>\n                          <td>{device.type}</td>\n                          <td>\n                            <span className={`vrm-status ${\n                              device.status === 'online' ? 'vrm-status-online' :\n                              device.status === 'offline' ? 'vrm-status-offline' :\n                              'vrm-status-warning'\n                            }`}>\n                              {device.status}\n                            </span>\n                          </td>\n                          <td>{device.location || '-'}</td>\n                          <td>{device.lastSeen}</td>\n                          <td>{device.recordCount?.toLocaleString() || 0}</td>\n                          <td>\n                            <div style={{ display: 'flex', gap: '8px' }}>\n                              <button\n                                className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                                onClick={() => {\n                                  setEditingDevice(device);\n                                  setShowEditDevice(true);\n                                }}\n                              >\n                                Edit\n                              </button>\n                              <button\n                                className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                                onClick={() => handleDeleteDevice(device.id)}\n                              >\n                                Delete\n                              </button>\n                            </div>\n                          </td>\n                        </tr>\n                      ))\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n\n          {showAddDevice && (\n            <div style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div className=\"vrm-card\" style={{ width: '500px', maxWidth: '90%' }}>\n                <div className=\"vrm-card-header\">\n                  <h3 className=\"vrm-card-title\">Add New Device</h3>\n                </div>\n                <div className=\"vrm-card-body\">\n                  <form onSubmit={handleAddDevice}>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Device Name *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newDevice.name}\n                        onChange={(e) => setNewDevice({ ...newDevice, name: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Type *\n                      </label>\n                      <select\n                        value={newDevice.type}\n                        onChange={(e) => setNewDevice({ ...newDevice, type: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      >\n                        <option value=\"Camera\">Camera</option>\n                        <option value=\"Sensor\">Sensor</option>\n                        <option value=\"Gateway\">Gateway</option>\n                      </select>\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Status *\n                      </label>\n                      <select\n                        value={newDevice.status}\n                        onChange={(e) => setNewDevice({ ...newDevice, status: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      >\n                        <option value=\"online\">Online</option>\n                        <option value=\"offline\">Offline</option>\n                        <option value=\"maintenance\">Maintenance</option>\n                      </select>\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Location\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newDevice.location}\n                        onChange={(e) => setNewDevice({ ...newDevice, location: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n                      <button\n                        type=\"button\"\n                        className=\"vrm-btn vrm-btn-secondary\"\n                        onClick={() => setShowAddDevice(false)}\n                      >\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"vrm-btn\">\n                        Create Device\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {showEditDevice && editingDevice && (\n            <div style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              zIndex: 1000\n            }}>\n              <div className=\"vrm-card\" style={{ width: '500px', maxWidth: '90%' }}>\n                <div className=\"vrm-card-header\">\n                  <h3 className=\"vrm-card-title\">Edit Device</h3>\n                </div>\n                <div className=\"vrm-card-body\">\n                  <form onSubmit={handleEditDevice}>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Device Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editingDevice.name}\n                        onChange={(e) => setEditingDevice({ ...editingDevice, name: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Status\n                      </label>\n                      <select\n                        value={editingDevice.status}\n                        onChange={(e) => setEditingDevice({ ...editingDevice, status: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      >\n                        <option value=\"online\">Online</option>\n                        <option value=\"offline\">Offline</option>\n                        <option value=\"maintenance\">Maintenance</option>\n                      </select>\n                    </div>\n                    <div style={{ marginBottom: '16px' }}>\n                      <label style={{ display: 'block', marginBottom: '8px', color: 'var(--vrm-text-primary)' }}>\n                        Location\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={editingDevice.location || ''}\n                        onChange={(e) => setEditingDevice({ ...editingDevice, location: e.target.value })}\n                        style={{\n                          width: '100%',\n                          padding: '8px',\n                          backgroundColor: 'var(--vrm-bg-tertiary)',\n                          border: '1px solid var(--vrm-border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--vrm-text-primary)'\n                        }}\n                      />\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n                      <button\n                        type=\"button\"\n                        className=\"vrm-btn vrm-btn-secondary\"\n                        onClick={() => {\n                          setShowEditDevice(false);\n                          setEditingDevice(null);\n                        }}\n                      >\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"vrm-btn\">\n                        Update Device\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default AdminPage;\n","size_bytes":80912},"frontend/src/components/ConfigurableChart.tsx":{"content":"import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { BarChart, Bar, LineChart, Line, AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport { exportChartAsPNG, exportDataAsCSV, generateChartId } from '../utils/exportUtils';\n\ninterface ChartData {\n  index: number;\n  track_number: number;\n  event: string;\n  timestamp: string;\n  sex: string;\n  age_estimate: string;\n  hour: number;\n  day_of_week: string;\n  date: string;\n}\n\ninterface ConfigurableChartProps {\n  data: ChartData[];\n  intelligence: any;\n}\n\ntype DataType = 'activity' | 'entrances' | 'exits' | 'occupancy';\n\nconst ConfigurableChart: React.FC<ConfigurableChartProps> = ({ data, intelligence }) => {\n  const [dataType, setDataType] = useState<DataType>('activity');\n  const [chartData, setChartData] = useState<any[]>([]);\n  const chartRef = useRef<HTMLDivElement>(null);\n  const chartId = generateChartId('configurable-chart');\n\n  const processChartData = useCallback(() => {\n    if (!data || data.length === 0) {\n      setChartData([]);\n      return;\n    }\n\n    // Use the data passed in (already filtered by parent component)\n    const filteredData = data;\n\n    // Group and process data based on type\n    const grouped: { [key: string]: any } = {};\n    \n    // Optimized timestamp calculation - single pass through data\n    let minTime = Infinity;\n    let maxTime = -Infinity;\n    \n    filteredData.forEach(item => {\n      const timestamp = new Date(item.timestamp).getTime();\n      if (timestamp < minTime) minTime = timestamp;\n      if (timestamp > maxTime) maxTime = timestamp;\n    });\n    \n    const timeSpan = filteredData.length > 0 ? maxTime - minTime : 0;\n    const isShortTimespan = timeSpan <= 24 * 60 * 60 * 1000; // Less than or equal to 24 hours\n    \n    if (isShortTimespan && filteredData.length > 0) {\n      // Group by hour for short timespans\n      filteredData.forEach(item => {\n        const hour = `${item.hour.toString().padStart(2, '0')}:00`;\n        if (!grouped[hour]) {\n          grouped[hour] = { name: hour, activity: 0, entrances: 0, exits: 0, occupancy: 0 };\n        }\n        grouped[hour].activity++;\n        if (item.event === 'entry') grouped[hour].entrances++;\n        if (item.event === 'exit') grouped[hour].exits++;\n      });\n    } else {\n      // Group by date for longer periods\n      filteredData.forEach(item => {\n        const date = new Date(item.timestamp).toLocaleDateString();\n        if (!grouped[date]) {\n          grouped[date] = { name: date, activity: 0, entrances: 0, exits: 0, occupancy: 0 };\n        }\n        grouped[date].activity++;\n        if (item.event === 'entry') grouped[date].entrances++;\n        if (item.event === 'exit') grouped[date].exits++;\n      });\n    }\n\n    // Calculate running occupancy\n    let runningOccupancy = 0;\n    const processedData = Object.values(grouped).map(item => {\n      runningOccupancy += (item.entrances - item.exits);\n      return {\n        ...item,\n        occupancy: Math.max(0, runningOccupancy)\n      };\n    });\n\n    setChartData(processedData);\n  }, [data, dataType]);\n\n  useEffect(() => {\n    processChartData();\n  }, [processChartData]);\n\n  const renderChart = () => {\n    const color = dataType === 'activity' ? '#1976d2' : \n                 dataType === 'entrances' ? '#2e7d32' : \n                 dataType === 'exits' ? '#d32f2f' : '#f57c00';\n\n    return (\n      <ResponsiveContainer width=\"100%\" height={400}>\n        <AreaChart data={chartData}>\n          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--vrm-border)\" />\n          <XAxis \n            dataKey=\"name\" \n            stroke=\"var(--vrm-text-secondary)\"\n            fontSize={12}\n          />\n          <YAxis \n            stroke=\"var(--vrm-text-secondary)\"\n            fontSize={12}\n          />\n          <Tooltip \n            contentStyle={{ \n              backgroundColor: 'var(--vrm-bg-secondary)', \n              border: '1px solid var(--vrm-border)',\n              borderRadius: '6px',\n              color: 'var(--vrm-text-primary)'\n            }}\n          />\n          <Area \n            type=\"monotone\" \n            dataKey={dataType} \n            stroke={color} \n            fill={color}\n            fillOpacity={0.3}\n          />\n        </AreaChart>\n      </ResponsiveContainer>\n    );\n  };\n\n  return (\n    <div className=\"vrm-card\">\n      <div className=\"vrm-card-header\">\n        <h3 className=\"vrm-card-title\">Analytics Dashboard</h3>\n        <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>\n          {/* Data Type Dropdown */}\n          <div>\n            <label style={{ fontSize: '12px', color: 'var(--vrm-text-secondary)', marginRight: '6px' }}>\n              Data Type:\n            </label>\n            <select \n              value={dataType} \n              onChange={(e) => setDataType(e.target.value as DataType)}\n              style={{\n                backgroundColor: 'var(--vrm-bg-secondary)',\n                border: '1px solid var(--vrm-border)',\n                borderRadius: '4px',\n                padding: '4px 8px',\n                color: 'var(--vrm-text-primary)',\n                fontSize: '12px'\n              }}\n            >\n              <option value=\"activity\">Activity</option>\n              <option value=\"entrances\">Entrances</option>\n              <option value=\"exits\">Exits</option>\n              <option value=\"occupancy\">Occupancy</option>\n            </select>\n          </div>\n\n          <div className=\"vrm-card-actions\">\n            <button \n              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n              onClick={() => exportChartAsPNG(chartId, `activity-chart-${dataType}`)}\n            >\n              PNG\n            </button>\n            <button \n              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n              onClick={() => exportDataAsCSV(chartData, `activity-data-${dataType}`)}\n            >\n              CSV\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className=\"vrm-card-body\">\n        <div id={chartId} ref={chartRef}>\n          {renderChart()}\n        </div>\n        \n        {/* Chart Summary */}\n        <div style={{ \n          marginTop: '16px', \n          padding: '12px', \n          backgroundColor: 'var(--vrm-bg-tertiary)', \n          borderRadius: '6px',\n          borderLeft: '4px solid var(--vrm-accent-blue)'\n        }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '14px' }}>\n            <span style={{ color: 'var(--vrm-text-secondary)' }}>\n              Showing {dataType} data\n            </span>\n            <span style={{ color: 'var(--vrm-text-primary)', fontWeight: '600' }}>\n              {chartData.length} data points\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfigurableChart;","size_bytes":6855},"frontend/src/pages/AnalyticsPage.tsx":{"content":"import React, { useState, useEffect, useCallback } from 'react';\nimport { \n  BarChart, Bar, LineChart, Line, AreaChart, Area, PieChart, Pie, Cell,\n  XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend\n} from 'recharts';\nimport { API_ENDPOINTS } from '../config';\nimport TimeFilterDropdown, { TimeFilterValue } from '../components/TimeFilterDropdown';\nimport { \n  filterDataByTime, \n  calculateAverageDwellTime, \n  calculateOccupancyTimeSeries,\n  calculateDwellTimeDistribution,\n  formatDuration\n} from '../utils/dataProcessing';\nimport { exportChartAsPNG, exportDataAsCSV, generateChartId } from '../utils/exportUtils';\n\ninterface ChartData {\n  index: number;\n  track_number: number;\n  event: string;\n  timestamp: string;\n  sex: string;\n  age_estimate: string;\n  hour: number;\n  day_of_week: string;\n  date: string;\n}\n\ninterface ApiResponse {\n  data: ChartData[];\n  summary: {\n    total_records: number;\n    filtered_from: number;\n    date_range: {\n      start: string | null;\n      end: string | null;\n    };\n    latest_timestamp: string | null;\n  };\n  intelligence: {\n    total_records: number;\n    date_span_days: number;\n    latest_timestamp: string | null;\n    optimal_granularity: string;\n    peak_hours: number[];\n    demographics_breakdown: any;\n    temporal_patterns: any;\n  };\n}\n\ninterface AnalyticsPageProps {\n  credentials: { username: string; password: string };\n}\n\ninterface ToggleableDataSeries {\n  key: string;\n  name: string;\n  color: string;\n  yAxisId: string;\n  enabled: boolean;\n}\n\nconst COLORS = ['#1976d2', '#2e7d32', '#d32f2f', '#f57c00', '#7b1fa2', '#c2185b', '#00796b', '#5d4037'];\n\nconst AnalyticsPage: React.FC<AnalyticsPageProps> = ({ credentials }) => {\n  const [data, setData] = useState<ApiResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  \n  // Chart IDs for export\n  const genderChartId = generateChartId('gender-distribution');\n  const ageChartId = generateChartId('age-distribution');\n  const activityChartId = generateChartId('activity-patterns');\n  const trendsChartId = generateChartId('advanced-trends');\n  // Individual time filters for each chart\n  const [genderTimeFilter, setGenderTimeFilter] = useState<TimeFilterValue>({ option: 'last7days' });\n  const [ageTimeFilter, setAgeTimeFilter] = useState<TimeFilterValue>({ option: 'last7days' });\n  const [activityTimeFilter, setActivityTimeFilter] = useState<TimeFilterValue>({ option: 'last7days' });\n  const [trendsTimeFilter, setTrendsTimeFilter] = useState<TimeFilterValue>({ option: 'last7days' });\n  const [activityPatternType, setActivityPatternType] = useState<'hourly' | 'weekly' | 'monthly'>('hourly');\n  \n  // Foxess-style toggleable data series\n  const [dataSeriesConfig, setDataSeriesConfig] = useState<ToggleableDataSeries[]>([\n    { key: 'activity', name: 'Total Activity', color: '#1976d2', yAxisId: 'left', enabled: true },\n    { key: 'entrances', name: 'Entrances', color: '#2e7d32', yAxisId: 'left', enabled: true },\n    { key: 'exits', name: 'Exits', color: '#d32f2f', yAxisId: 'left', enabled: true },\n    { key: 'occupancy', name: 'Occupancy', color: '#f57c00', yAxisId: 'right', enabled: false },\n    { key: 'dwell_time', name: 'Avg Dwell Time', color: '#9c27b0', yAxisId: 'right', enabled: false }\n  ]);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      \n      const urlParams = new URLSearchParams(window.location.search);\n      const viewToken = urlParams.get('view_token');\n      const clientId = urlParams.get('client_id');\n      \n      let apiUrl = API_ENDPOINTS.CHART_DATA;\n      const headers: HeadersInit = {\n        'Content-Type': 'application/json',\n      };\n      \n      if (viewToken) {\n        apiUrl += `?view_token=${encodeURIComponent(viewToken)}`;\n      } else {\n        const auth = btoa(`${credentials.username}:${credentials.password}`);\n        headers['Authorization'] = `Basic ${auth}`;\n        \n        if (clientId) {\n          apiUrl += `?client_id=${encodeURIComponent(clientId)}`;\n        }\n      }\n      \n      const response = await fetch(apiUrl, { headers });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result: ApiResponse = await response.json();\n      setData(result);\n      setError(null);\n    } catch (err) {\n      setError(`Failed to fetch data: ${err instanceof Error ? err.message : 'Unknown error'}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [credentials.username, credentials.password]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  // Filter data for each chart independently\n  const genderFilteredData = data ? filterDataByTime(data.data, genderTimeFilter) : [];\n  const ageFilteredData = data ? filterDataByTime(data.data, ageTimeFilter) : [];\n  const activityFilteredData = data ? filterDataByTime(data.data, activityTimeFilter) : [];\n  const trendsFilteredData = data ? filterDataByTime(data.data, trendsTimeFilter) : [];\n\n  const toggleDataSeries = (key: string) => {\n    setDataSeriesConfig(prev => \n      prev.map(series => \n        series.key === key ? { ...series, enabled: !series.enabled } : series\n      )\n    );\n  };\n\n  const processGenderData = () => {\n    if (!genderFilteredData.length) return [];\n    const genderCounts = genderFilteredData.reduce((acc, item) => {\n      acc[item.sex] = (acc[item.sex] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    return Object.entries(genderCounts).map(([gender, count]) => ({\n      name: gender === 'M' ? 'Male' : gender === 'F' ? 'Female' : 'Unknown',\n      value: count,\n      percentage: ((count / genderFilteredData.length) * 100).toFixed(1)\n    }));\n  };\n\n  const processAgeData = () => {\n    if (!ageFilteredData.length) return [];\n    const ageCounts = ageFilteredData.reduce((acc, item) => {\n      acc[item.age_estimate] = (acc[item.age_estimate] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    return Object.entries(ageCounts).map(([age, count]) => ({\n      age,\n      visitors: count\n    })).sort((a, b) => a.age.localeCompare(b.age));\n  };\n\n  const processActivityPatterns = () => {\n    if (!activityFilteredData.length) return [];\n\n    if (activityPatternType === 'hourly') {\n      const hourlyData = Array.from({ length: 24 }, (_, hour) => ({\n        period: `${hour.toString().padStart(2, '0')}:00`,\n        activity: 0,\n        entrances: 0,\n        exits: 0\n      }));\n\n      activityFilteredData.forEach(item => {\n        const hour = item.hour;\n        if (hour >= 0 && hour < 24) {\n          hourlyData[hour].activity++;\n          if (item.event === 'entry') hourlyData[hour].entrances++;\n          if (item.event === 'exit') hourlyData[hour].exits++;\n        }\n      });\n\n      return hourlyData;\n    } else if (activityPatternType === 'weekly') {\n      const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n      const weeklyData = weekdays.map(day => ({\n        period: day,\n        activity: 0,\n        entrances: 0,\n        exits: 0\n      }));\n\n      activityFilteredData.forEach(item => {\n        const dayIndex = new Date(item.timestamp).getDay();\n        weeklyData[dayIndex].activity++;\n        if (item.event === 'entry') weeklyData[dayIndex].entrances++;\n        if (item.event === 'exit') weeklyData[dayIndex].exits++;\n      });\n\n      return weeklyData;\n    } else {\n      // Monthly patterns\n      const monthlyData = Array.from({ length: 12 }, (_, month) => ({\n        period: new Date(0, month).toLocaleString('default', { month: 'short' }),\n        activity: 0,\n        entrances: 0,\n        exits: 0\n      }));\n\n      activityFilteredData.forEach(item => {\n        const month = new Date(item.timestamp).getMonth();\n        monthlyData[month].activity++;\n        if (item.event === 'entry') monthlyData[month].entrances++;\n        if (item.event === 'exit') monthlyData[month].exits++;\n      });\n\n      return monthlyData;\n    }\n  };\n\n  const processFoxessTrends = () => {\n    if (!trendsFilteredData.length) return [];\n    \n    // Group data by date\n    const dailyData = trendsFilteredData.reduce((acc, item) => {\n      const date = new Date(item.timestamp).toLocaleDateString();\n      if (!acc[date]) {\n        acc[date] = { \n          date, \n          activity: 0, \n          entrances: 0, \n          exits: 0, \n          dailyData: [] as ChartData[]\n        };\n      }\n      acc[date].activity++;\n      if (item.event === 'entry') acc[date].entrances++;\n      if (item.event === 'exit') acc[date].exits++;\n      acc[date].dailyData.push(item);\n      return acc;\n    }, {} as Record<string, any>);\n\n    // Calculate occupancy and dwell time for each day\n    const trendsData = Object.values(dailyData).map((day: any) => {\n      const occupancyTimeSeries = calculateOccupancyTimeSeries(day.dailyData);\n      const avgOccupancy = occupancyTimeSeries.length > 0 \n        ? occupancyTimeSeries.reduce((sum, point) => sum + point.occupancy, 0) / occupancyTimeSeries.length\n        : 0;\n      \n      const dwellTime = calculateAverageDwellTime(day.dailyData);\n\n      return {\n        date: day.date,\n        activity: day.activity,\n        entrances: day.entrances,\n        exits: day.exits,\n        occupancy: Math.round(avgOccupancy * 10) / 10, // Round to 1 decimal\n        dwell_time: Math.round(dwellTime * 10) / 10 // Round to 1 decimal (minutes)\n      };\n    }).sort((a: any, b: any) => \n      new Date(a.date).getTime() - new Date(b.date).getTime()\n    );\n\n    return trendsData;\n  };\n\n  if (loading) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '400px' }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ \n            width: '40px', \n            height: '40px', \n            border: '4px solid #333', \n            borderTop: '4px solid #1976d2', \n            borderRadius: '50%', \n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 16px'\n          }}></div>\n          <p style={{ color: 'var(--vrm-text-secondary)' }}>Loading analytics data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"vrm-card\">\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">⚠️ Connection Error</h3>\n        </div>\n        <div className=\"vrm-card-body\">\n          <p style={{ color: 'var(--vrm-accent-red)', marginBottom: '16px' }}>{error}</p>\n          <button className=\"vrm-btn\" onClick={fetchData}>Retry Connection</button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!data) return null;\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <div>\n          <h1 style={{ color: 'var(--vrm-text-primary)', fontSize: '24px', fontWeight: '600', marginBottom: '8px' }}>\n            Advanced Analytics\n          </h1>\n          <div className=\"vrm-breadcrumb\">\n            <span>Dashboard</span>\n            <span>›</span>\n            <span>Analytics</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Top Row - Demographics with Time Filtering */}\n      <div className=\"vrm-grid vrm-grid-2\" style={{ marginBottom: '24px' }}>\n        {/* Gender Distribution Pie Chart */}\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-header\">\n            <h3 className=\"vrm-card-title\">Gender Distribution</h3>\n            <div className=\"vrm-card-actions\" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <TimeFilterDropdown \n                value={genderTimeFilter} \n                onChange={setGenderTimeFilter}\n              />\n              <button \n                className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                onClick={() => exportChartAsPNG(genderChartId, 'gender-distribution')}\n              >\n                PNG\n              </button>\n              <button \n                className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                onClick={() => exportDataAsCSV(processGenderData(), 'gender-distribution')}\n              >\n                CSV\n              </button>\n            </div>\n          </div>\n          <div className=\"vrm-card-body\">\n            <div id={genderChartId}>\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <PieChart>\n                <Pie\n                  data={processGenderData()}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                  label={({ name, percentage }) => `${name} ${percentage}%`}\n                >\n                  {processGenderData().map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                  ))}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n            </div>\n          </div>\n        </div>\n\n        {/* Age Distribution Bar Chart */}\n        <div className=\"vrm-card\">\n          <div className=\"vrm-card-header\">\n            <h3 className=\"vrm-card-title\">Age Distribution</h3>\n            <div className=\"vrm-card-actions\" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <TimeFilterDropdown \n                value={ageTimeFilter} \n                onChange={setAgeTimeFilter}\n              />\n              <button \n                className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                onClick={() => exportChartAsPNG(ageChartId, 'age-distribution')}\n              >\n                PNG\n              </button>\n              <button \n                className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n                onClick={() => exportDataAsCSV(processAgeData(), 'age-distribution')}\n              >\n                CSV\n              </button>\n            </div>\n          </div>\n          <div className=\"vrm-card-body\">\n            <div id={ageChartId}>\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={processAgeData()}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--vrm-border)\" />\n                <XAxis dataKey=\"age\" stroke=\"var(--vrm-text-secondary)\" fontSize={12} />\n                <YAxis stroke=\"var(--vrm-text-secondary)\" fontSize={12} />\n                <Tooltip \n                  contentStyle={{ \n                    backgroundColor: 'var(--vrm-bg-secondary)', \n                    border: '1px solid var(--vrm-border)',\n                    borderRadius: '6px'\n                  }}\n                />\n                <Bar dataKey=\"visitors\" fill=\"#1976d2\" />\n              </BarChart>\n            </ResponsiveContainer>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Activity Patterns - Merged Chart */}\n      <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Activity Patterns</h3>\n          <div className=\"vrm-card-actions\" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <TimeFilterDropdown \n              value={activityTimeFilter} \n              onChange={setActivityTimeFilter}\n            />\n            <select \n              value={activityPatternType} \n              onChange={(e) => setActivityPatternType(e.target.value as 'hourly' | 'weekly' | 'monthly')}\n              style={{\n                padding: '6px 12px',\n                backgroundColor: 'var(--vrm-bg-secondary)',\n                border: '1px solid var(--vrm-border)',\n                borderRadius: '4px',\n                color: 'var(--vrm-text-primary)',\n                fontSize: '12px'\n              }}\n            >\n              <option value=\"hourly\">24-Hour Pattern</option>\n              <option value=\"weekly\">Weekly Pattern</option>\n              <option value=\"monthly\">Monthly Pattern</option>\n            </select>\n            <button \n              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n              onClick={() => exportChartAsPNG(activityChartId, 'activity-patterns')}\n            >\n              PNG\n            </button>\n            <button \n              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n              onClick={() => exportDataAsCSV(processActivityPatterns(), 'activity-patterns')}\n            >\n              CSV\n            </button>\n          </div>\n        </div>\n        <div className=\"vrm-card-body\">\n          <div id={activityChartId}>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <AreaChart data={processActivityPatterns()}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--vrm-border)\" />\n              <XAxis dataKey=\"period\" stroke=\"var(--vrm-text-secondary)\" fontSize={10} />\n              <YAxis stroke=\"var(--vrm-text-secondary)\" fontSize={12} />\n              <Tooltip \n                contentStyle={{ \n                  backgroundColor: 'var(--vrm-bg-secondary)', \n                  border: '1px solid var(--vrm-border)',\n                  borderRadius: '6px'\n                }}\n              />\n              <Area type=\"monotone\" dataKey=\"activity\" stroke=\"#1976d2\" fill=\"#1976d2\" fillOpacity={0.3} />\n            </AreaChart>\n          </ResponsiveContainer>\n          </div>\n        </div>\n      </div>\n\n      {/* Foxess-Style Multi-Series Trends Chart */}\n      <div className=\"vrm-card\" style={{ marginBottom: '24px' }}>\n        <div className=\"vrm-card-header\">\n          <h3 className=\"vrm-card-title\">Advanced Trends</h3>\n          <div className=\"vrm-card-actions\" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <TimeFilterDropdown \n              value={trendsTimeFilter} \n              onChange={setTrendsTimeFilter}\n            />\n            <button \n              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n              onClick={() => exportChartAsPNG(trendsChartId, 'advanced-trends')}\n            >\n              PNG\n            </button>\n            <button \n              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n              onClick={() => exportDataAsCSV(processFoxessTrends(), 'advanced-trends')}\n            >\n              CSV\n            </button>\n          </div>\n        </div>\n        \n        {/* Data Series Toggles */}\n        <div style={{ padding: '16px', borderBottom: '1px solid var(--vrm-border)' }}>\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>\n            {dataSeriesConfig.map(series => (\n              <button\n                key={series.key}\n                onClick={() => toggleDataSeries(series.key)}\n                style={{\n                  padding: '4px 8px',\n                  fontSize: '11px',\n                  borderRadius: '4px',\n                  border: '1px solid var(--vrm-border)',\n                  backgroundColor: series.enabled ? series.color : 'var(--vrm-bg-secondary)',\n                  color: series.enabled ? 'white' : 'var(--vrm-text-secondary)',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease'\n                }}\n              >\n                ● {series.name}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"vrm-card-body\">\n          <div id={trendsChartId}>\n            <ResponsiveContainer width=\"100%\" height={400}>\n              <LineChart data={processFoxessTrends()}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--vrm-border)\" />\n              <XAxis dataKey=\"date\" stroke=\"var(--vrm-text-secondary)\" fontSize={10} />\n              <YAxis yAxisId=\"left\" stroke=\"var(--vrm-text-secondary)\" fontSize={12} />\n              <YAxis yAxisId=\"right\" orientation=\"right\" stroke=\"var(--vrm-text-secondary)\" fontSize={12} />\n              <Tooltip \n                contentStyle={{ \n                  backgroundColor: 'var(--vrm-bg-secondary)', \n                  border: '1px solid var(--vrm-border)',\n                  borderRadius: '6px'\n                }}\n                formatter={(value, name) => {\n                  if (name === 'Avg Dwell Time') {\n                    return [`${value} min`, name];\n                  }\n                  return [value, name];\n                }}\n              />\n              <Legend />\n              \n              {dataSeriesConfig.map(series => \n                series.enabled && (\n                  <Line \n                    key={series.key}\n                    yAxisId={series.yAxisId}\n                    type=\"monotone\" \n                    dataKey={series.key} \n                    stroke={series.color} \n                    strokeWidth={2} \n                    name={series.name}\n                    connectNulls={false}\n                  />\n                )\n              )}\n            </LineChart>\n          </ResponsiveContainer>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default AnalyticsPage;","size_bytes":21169},"frontend/src/components/TimeFilterDropdown.tsx":{"content":"import React, { useState } from 'react';\n\nexport type TimeFilterOption = 'last24h' | 'last7days' | 'last30days' | 'alltime' | 'custom';\n\nexport interface TimeFilterValue {\n  option: TimeFilterOption;\n  startDate?: string;\n  endDate?: string;\n}\n\ninterface TimeFilterDropdownProps {\n  value: TimeFilterValue;\n  onChange: (value: TimeFilterValue) => void;\n  className?: string;\n}\n\nconst TimeFilterDropdown: React.FC<TimeFilterDropdownProps> = ({ value, onChange, className = '' }) => {\n  const [showCustomDatePicker, setShowCustomDatePicker] = useState(false);\n  const [tempStartDate, setTempStartDate] = useState(value.startDate || '');\n  const [tempEndDate, setTempEndDate] = useState(value.endDate || '');\n\n  const timeOptions = [\n    { value: 'last24h', label: 'Last 24 Hours' },\n    { value: 'last7days', label: 'Last 7 Days' },\n    { value: 'last30days', label: 'Last 30 Days' },\n    { value: 'alltime', label: 'All Time' },\n    { value: 'custom', label: 'Custom Period' }\n  ];\n\n  const handleOptionChange = (option: TimeFilterOption) => {\n    if (option === 'custom') {\n      setShowCustomDatePicker(true);\n      // Don't change the value immediately for custom - wait for date selection\n    } else {\n      setShowCustomDatePicker(false);\n      onChange({ option });\n    }\n  };\n\n  const handleCustomDateApply = () => {\n    if (tempStartDate && tempEndDate) {\n      onChange({\n        option: 'custom',\n        startDate: tempStartDate,\n        endDate: tempEndDate\n      });\n      setShowCustomDatePicker(false);\n    }\n  };\n\n  const handleCustomDateCancel = () => {\n    setShowCustomDatePicker(false);\n    setTempStartDate(value.startDate || '');\n    setTempEndDate(value.endDate || '');\n  };\n\n  const getDisplayLabel = () => {\n    if (value.option === 'custom' && value.startDate && value.endDate) {\n      const start = new Date(value.startDate).toLocaleDateString();\n      const end = new Date(value.endDate).toLocaleDateString();\n      return `${start} - ${end}`;\n    }\n    return timeOptions.find(opt => opt.value === value.option)?.label || 'Last 7 Days';\n  };\n\n  return (\n    <div className={`time-filter-dropdown ${className}`} style={{ position: 'relative' }}>\n      <select \n        value={value.option} \n        onChange={(e) => handleOptionChange(e.target.value as TimeFilterOption)}\n        className=\"vrm-select\"\n        style={{\n          padding: '6px 12px',\n          backgroundColor: 'var(--vrm-bg-secondary)',\n          border: '1px solid var(--vrm-border)',\n          borderRadius: '4px',\n          color: 'var(--vrm-text-primary)',\n          fontSize: '12px',\n          minWidth: '120px'\n        }}\n      >\n        {timeOptions.map(option => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n\n      {/* Custom Date Picker Modal */}\n      {showCustomDatePicker && (\n        <div \n          style={{\n            position: 'absolute',\n            top: '100%',\n            left: 0,\n            zIndex: 1000,\n            backgroundColor: 'var(--vrm-bg-secondary)',\n            border: '1px solid var(--vrm-border)',\n            borderRadius: '6px',\n            padding: '16px',\n            minWidth: '280px',\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)'\n          }}\n        >\n          <div style={{ marginBottom: '12px' }}>\n            <label style={{ display: 'block', marginBottom: '4px', fontSize: '12px', color: 'var(--vrm-text-secondary)' }}>\n              Start Date:\n            </label>\n            <input\n              type=\"date\"\n              value={tempStartDate}\n              onChange={(e) => setTempStartDate(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '6px 8px',\n                backgroundColor: 'var(--vrm-bg-primary)',\n                border: '1px solid var(--vrm-border)',\n                borderRadius: '4px',\n                color: 'var(--vrm-text-primary)',\n                fontSize: '12px'\n              }}\n            />\n          </div>\n          \n          <div style={{ marginBottom: '16px' }}>\n            <label style={{ display: 'block', marginBottom: '4px', fontSize: '12px', color: 'var(--vrm-text-secondary)' }}>\n              End Date:\n            </label>\n            <input\n              type=\"date\"\n              value={tempEndDate}\n              onChange={(e) => setTempEndDate(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '6px 8px',\n                backgroundColor: 'var(--vrm-bg-primary)',\n                border: '1px solid var(--vrm-border)',\n                borderRadius: '4px',\n                color: 'var(--vrm-text-primary)',\n                fontSize: '12px'\n              }}\n            />\n          </div>\n\n          <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n            <button\n              onClick={handleCustomDateCancel}\n              className=\"vrm-btn vrm-btn-secondary vrm-btn-sm\"\n              style={{ fontSize: '11px' }}\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleCustomDateApply}\n              className=\"vrm-btn vrm-btn-primary vrm-btn-sm\"\n              style={{ fontSize: '11px' }}\n              disabled={!tempStartDate || !tempEndDate}\n            >\n              Apply\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TimeFilterDropdown;","size_bytes":5465},"frontend/src/utils/dataProcessing.ts":{"content":"import { TimeFilterValue } from '../components/TimeFilterDropdown';\n\nexport interface ChartData {\n  index: number;\n  track_number: number;\n  event: string;\n  timestamp: string;\n  sex: string;\n  age_estimate: string;\n  hour: number;\n  day_of_week: string;\n  date: string;\n}\n\nexport interface VisitorSession {\n  track_number: number;\n  entryTime?: string;\n  exitTime?: string;\n  dwellTime?: number; // in minutes\n}\n\n// Filter data based on time selection\nexport const filterDataByTime = (data: ChartData[], timeFilter: TimeFilterValue): ChartData[] => {\n  if (timeFilter.option === 'alltime') {\n    return data;\n  }\n\n  const now = new Date();\n  let startDate: Date;\n  let endDate: Date = now;\n\n  switch (timeFilter.option) {\n    case 'last24h':\n      startDate = new Date(now.getTime() - 24 * 60 * 60 * 1000);\n      break;\n    case 'last7days':\n      startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n      break;\n    case 'last30days':\n      startDate = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n      break;\n    case 'custom':\n      if (timeFilter.startDate && timeFilter.endDate) {\n        startDate = new Date(timeFilter.startDate);\n        endDate = new Date(timeFilter.endDate + 'T23:59:59');\n      } else {\n        return data; // fallback to all data if custom dates not properly set\n      }\n      break;\n    default:\n      return data;\n  }\n\n  return data.filter(item => {\n    const itemDate = new Date(item.timestamp);\n    return itemDate >= startDate && itemDate <= endDate;\n  });\n};\n\n// Calculate visitor sessions with dwell times\nexport const calculateVisitorSessions = (data: ChartData[]): VisitorSession[] => {\n  const sessions: Map<number, VisitorSession> = new Map();\n\n  // Group events by track_number\n  data.forEach(item => {\n    const trackNumber = item.track_number;\n    \n    if (!sessions.has(trackNumber)) {\n      sessions.set(trackNumber, { track_number: trackNumber });\n    }\n    \n    const session = sessions.get(trackNumber)!;\n    \n    if (item.event === 'entry') {\n      if (!session.entryTime || new Date(item.timestamp) < new Date(session.entryTime)) {\n        session.entryTime = item.timestamp;\n      }\n    } else if (item.event === 'exit') {\n      if (!session.exitTime || new Date(item.timestamp) > new Date(session.exitTime)) {\n        session.exitTime = item.timestamp;\n      }\n    }\n  });\n\n  // Calculate dwell times for sessions with both entry and exit\n  const sessionsArray = Array.from(sessions.values());\n  \n  sessionsArray.forEach(session => {\n    if (session.entryTime && session.exitTime) {\n      const entryDate = new Date(session.entryTime);\n      const exitDate = new Date(session.exitTime);\n      const dwellTimeMs = exitDate.getTime() - entryDate.getTime();\n      session.dwellTime = dwellTimeMs / (1000 * 60); // Convert to minutes\n    }\n  });\n\n  return sessionsArray;\n};\n\n// Calculate average dwell time using the formula: Σ(Exit Time - Entry Time) / n\nexport const calculateAverageDwellTime = (data: ChartData[]): number => {\n  const sessions = calculateVisitorSessions(data);\n  \n  // Filter sessions that have both entry and exit times\n  const completeSessions = sessions.filter(session => \n    session.entryTime && session.exitTime && session.dwellTime !== undefined\n  );\n\n  if (completeSessions.length === 0) {\n    return 0;\n  }\n\n  // Sum all dwell times and divide by number of complete sessions\n  const totalDwellTime = completeSessions.reduce((sum, session) => sum + (session.dwellTime || 0), 0);\n  return totalDwellTime / completeSessions.length;\n};\n\n// Calculate current occupancy (live count)\nexport const calculateCurrentOccupancy = (data: ChartData[]): number => {\n  const entriesCount = data.filter(d => d.event === 'entry').length;\n  const exitsCount = data.filter(d => d.event === 'exit').length;\n  return Math.max(0, entriesCount - exitsCount);\n};\n\n// Calculate occupancy over time for time series data\nexport const calculateOccupancyTimeSeries = (data: ChartData[]): { timestamp: string, occupancy: number }[] => {\n  // Sort data by timestamp\n  const sortedData = [...data].sort((a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\n  \n  const occupancyData: { timestamp: string, occupancy: number }[] = [];\n  let currentOccupancy = 0;\n  \n  sortedData.forEach(item => {\n    if (item.event === 'entry') {\n      currentOccupancy++;\n    } else if (item.event === 'exit') {\n      currentOccupancy = Math.max(0, currentOccupancy - 1);\n    }\n    \n    occupancyData.push({\n      timestamp: item.timestamp,\n      occupancy: currentOccupancy\n    });\n  });\n  \n  return occupancyData;\n};\n\n// Calculate dwell time distribution for analytics\nexport const calculateDwellTimeDistribution = (data: ChartData[]): { range: string, count: number }[] => {\n  const sessions = calculateVisitorSessions(data);\n  const completeSessions = sessions.filter(session => session.dwellTime !== undefined);\n  \n  const ranges = [\n    { min: 0, max: 5, label: '0-5 min' },\n    { min: 5, max: 15, label: '5-15 min' },\n    { min: 15, max: 30, label: '15-30 min' },\n    { min: 30, max: 60, label: '30-60 min' },\n    { min: 60, max: Infinity, label: '60+ min' }\n  ];\n  \n  return ranges.map(range => ({\n    range: range.label,\n    count: completeSessions.filter(session => \n      session.dwellTime! >= range.min && session.dwellTime! < range.max\n    ).length\n  }));\n};\n\n// Format time duration for display\nexport const formatDuration = (minutes: number): string => {\n  if (minutes < 60) {\n    return `${Math.round(minutes)}m`;\n  } else {\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = Math.round(minutes % 60);\n    return remainingMinutes > 0 ? `${hours}h ${remainingMinutes}m` : `${hours}h`;\n  }\n};","size_bytes":5700},"frontend/src/utils/exportUtils.ts":{"content":"import html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport Papa from 'papaparse';\n\n// PNG Export - captures chart visualization\nexport const exportChartAsPNG = async (chartElementId: string, filename: string = 'chart') => {\n  try {\n    const element = document.getElementById(chartElementId);\n    if (!element) {\n      throw new Error('Chart element not found');\n    }\n\n    const canvas = await html2canvas(element, {\n      backgroundColor: '#1a1a1a', // VRM dark background\n      scale: 2, // Higher resolution\n      logging: false,\n      useCORS: true,\n      allowTaint: true\n    });\n\n    const link = document.createElement('a');\n    link.download = `${filename}.png`;\n    link.href = canvas.toDataURL('image/png');\n    link.click();\n  } catch (error) {\n    console.error('Error exporting PNG:', error);\n    alert('Failed to export chart as PNG');\n  }\n};\n\n// CSV Export - exports only the filtered data being viewed\nexport const exportDataAsCSV = (data: any[], filename: string = 'data', columns?: string[]) => {\n  try {\n    // If specific columns are provided, filter the data\n    const exportData = columns ? \n      data.map(row => {\n        const filteredRow: any = {};\n        columns.forEach(col => {\n          filteredRow[col] = row[col];\n        });\n        return filteredRow;\n      }) : data;\n\n    const csv = Papa.unparse(exportData, {\n      header: true,\n      delimiter: ',',\n      quotes: true\n    });\n\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    \n    if (link.download !== undefined) {\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `${filename}.csv`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  } catch (error) {\n    console.error('Error exporting CSV:', error);\n    alert('Failed to export data as CSV');\n  }\n};\n\n// PDF Export - converts chart to PDF format\nexport const exportChartAsPDF = async (chartElementId: string, filename: string = 'chart') => {\n  try {\n    const element = document.getElementById(chartElementId);\n    if (!element) {\n      throw new Error('Chart element not found');\n    }\n\n    const canvas = await html2canvas(element, {\n      backgroundColor: '#1a1a1a',\n      scale: 2,\n      logging: false,\n      useCORS: true,\n      allowTaint: true\n    });\n\n    const imgData = canvas.toDataURL('image/png');\n    const pdf = new jsPDF({\n      orientation: 'landscape',\n      unit: 'mm',\n      format: 'a4'\n    });\n\n    const imgWidth = 297; // A4 landscape width in mm\n    const pageHeight = 210; // A4 landscape height in mm\n    const imgHeight = (canvas.height * imgWidth) / canvas.width;\n\n    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, Math.min(imgHeight, pageHeight));\n    pdf.save(`${filename}.pdf`);\n  } catch (error) {\n    console.error('Error exporting PDF:', error);\n    alert('Failed to export chart as PDF');\n  }\n};\n\n// Generate unique chart ID\nexport const generateChartId = (baseName: string) => {\n  return `chart-${baseName.toLowerCase().replace(/\\s+/g, '-')}-${Date.now()}`;\n};","size_bytes":3194},"app.yaml":{"content":"# Google Cloud Run service configuration\n# This file provides deployment configuration examples\n# Deploy using: gcloud run deploy --source .\n\n# Example deployment command:\n# gcloud run deploy nigzsu-analytics \\\n#   --source . \\\n#   --region us-central1 \\\n#   --port 8080 \\\n#   --allow-unauthenticated \\\n#   --memory 1Gi \\\n#   --cpu 1 \\\n#   --max-instances 10\n\n# Optional environment variables to set during deployment:\n# NODE_ENV=production\n# CLOUD_RUN_SERVICE_URL=https://your-service-url.run.app\n# PRODUCTION_DOMAIN=your-custom-domain.com (if using custom domain)","size_bytes":565},"frontend/build/static/css/main.6ff0a24d.css":{"content":"@charset \"UTF-8\";body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;margin:0}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}:root{--vrm-bg-primary:#1e1e1e;--vrm-bg-secondary:#2b2b2b;--vrm-bg-tertiary:#333;--vrm-text-primary:#fff;--vrm-text-secondary:#ccc;--vrm-text-muted:#888;--vrm-accent-blue:#1976d2;--vrm-accent-teal:#00bcd4;--vrm-accent-purple:#9c27b0;--vrm-accent-green:#4caf50;--vrm-accent-orange:#ff9800;--vrm-accent-red:#f44336;--vrm-border:#404040;--vrm-hover:#333;--vrm-active:#404040}*{box-sizing:border-box;margin:0;padding:0}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#fff;color:var(--vrm-text-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;line-height:1.5}.vrm-layout,body{background-color:#1e1e1e;background-color:var(--vrm-bg-primary)}.vrm-layout{display:flex;min-height:100vh}.vrm-sidebar{background-color:#2b2b2b;background-color:var(--vrm-bg-secondary);border-right:1px solid #404040;border-right:1px solid var(--vrm-border);display:flex;flex-direction:column;transition:width .3s ease;width:250px}.vrm-sidebar.collapsed{width:60px}.vrm-sidebar-header{border-bottom:1px solid #404040;border-bottom:1px solid var(--vrm-border);gap:12px;padding:16px}.vrm-logo,.vrm-sidebar-header{align-items:center;display:flex}.vrm-logo{background:linear-gradient(135deg,#1976d2,#00bcd4);background:linear-gradient(135deg,var(--vrm-accent-blue),var(--vrm-accent-teal));border-radius:6px;font-size:14px;height:28px;justify-content:center;width:28px}.vrm-logo,.vrm-logo-text{color:#fff;font-weight:600}.vrm-logo-text{color:var(--vrm-text-primary);font-size:16px}.vrm-sidebar.collapsed .vrm-logo-text{display:none}.vrm-nav{flex:1 1;padding:8px 0}.vrm-nav-section{margin-bottom:8px}.vrm-nav-item{align-items:center;border-left:3px solid #0000;color:#ccc;color:var(--vrm-text-secondary);cursor:pointer;display:flex;gap:12px;padding:12px 16px;text-decoration:none;transition:all .2s ease}.vrm-nav-item:hover{background-color:#333;background-color:var(--vrm-hover);color:#fff;color:var(--vrm-text-primary)}.vrm-nav-item.active{background-color:#1976d2;background-color:var(--vrm-accent-blue);border-left-color:#00bcd4;border-left-color:var(--vrm-accent-teal);color:#fff}.vrm-nav-icon{align-items:center;display:flex;flex-shrink:0;height:20px;justify-content:center;width:20px}.vrm-nav-text{font-size:14px;font-weight:500}.vrm-sidebar.collapsed .vrm-nav-text{display:none}.vrm-sidebar.collapsed .vrm-nav-item{justify-content:center;padding:12px}.vrm-main{background-color:#1e1e1e;background-color:var(--vrm-bg-primary);display:flex;flex:1 1;flex-direction:column}.vrm-header{background-color:#2b2b2b;background-color:var(--vrm-bg-secondary);border-bottom:1px solid #404040;border-bottom:1px solid var(--vrm-border);justify-content:space-between;min-height:60px;padding:12px 24px}.vrm-header,.vrm-header-left{align-items:center;display:flex}.vrm-header-left{gap:16px}.vrm-breadcrumb{align-items:center;color:#ccc;color:var(--vrm-text-secondary);display:flex;font-size:14px;gap:8px}.vrm-search{position:relative}.vrm-search input{background-color:#333;background-color:var(--vrm-bg-tertiary);border:1px solid #404040;border:1px solid var(--vrm-border);border-radius:6px;color:#fff;color:var(--vrm-text-primary);font-size:14px;padding:8px 12px 8px 36px;transition:border-color .2s ease;width:240px}.vrm-search input:focus{border-color:#1976d2;border-color:var(--vrm-accent-blue);outline:none}.vrm-search-icon{color:#888;color:var(--vrm-text-muted);height:16px;left:12px;position:absolute;top:50%;transform:translateY(-50%);width:16px}.vrm-header-right{align-items:center;display:flex;gap:12px}.vrm-content{flex:1 1;overflow-y:auto;padding:24px}.vrm-card{background-color:#2b2b2b;background-color:var(--vrm-bg-secondary);border:1px solid #404040;border:1px solid var(--vrm-border);border-radius:8px;overflow:hidden;transition:all .2s ease}.vrm-card:hover{border-color:#1976d2;border-color:var(--vrm-accent-blue)}.vrm-card-header{align-items:center;background-color:#333;background-color:var(--vrm-bg-tertiary);border-bottom:1px solid #404040;border-bottom:1px solid var(--vrm-border);display:flex;justify-content:space-between;padding:16px 20px}.vrm-card-title{color:#fff;color:var(--vrm-text-primary);font-size:16px;font-weight:600;margin:0}.vrm-card-actions{display:flex;gap:8px}.vrm-card-body{padding:20px}.vrm-table{background-color:#2b2b2b;background-color:var(--vrm-bg-secondary);border-collapse:collapse;width:100%}.vrm-table td,.vrm-table th{border-bottom:1px solid #404040;border-bottom:1px solid var(--vrm-border);padding:12px 16px;text-align:left}.vrm-table th{background-color:#333;background-color:var(--vrm-bg-tertiary);color:#ccc;color:var(--vrm-text-secondary);font-size:13px;font-weight:600;letter-spacing:.5px;text-transform:uppercase}.vrm-table td{color:#fff;color:var(--vrm-text-primary);font-size:14px}.vrm-table tr:hover{background-color:#333;background-color:var(--vrm-hover)}.vrm-btn{align-items:center;background-color:#1976d2;background-color:var(--vrm-accent-blue);border:none;border-radius:6px;color:#fff;cursor:pointer;display:inline-flex;font-size:14px;font-weight:500;gap:6px;padding:8px 16px;text-decoration:none;transition:all .2s ease}.vrm-btn:hover{background-color:#1565c0;transform:translateY(-1px)}.vrm-btn-secondary{background-color:#333;background-color:var(--vrm-bg-tertiary);border:1px solid #404040;border:1px solid var(--vrm-border);color:#fff;color:var(--vrm-text-primary)}.vrm-btn-secondary:hover{background-color:#333;background-color:var(--vrm-hover);border-color:#1976d2;border-color:var(--vrm-accent-blue)}.vrm-btn-sm{font-size:12px;padding:6px 12px}.vrm-status{align-items:center;border-radius:12px;display:inline-flex;font-size:12px;font-weight:500;gap:6px;padding:4px 8px}.vrm-status-online{background-color:#4caf5033;color:#4caf50;color:var(--vrm-accent-green)}.vrm-status-offline{background-color:#f4433633;color:#f44336;color:var(--vrm-accent-red)}.vrm-status-warning{background-color:#ff980033;color:#ff9800;color:var(--vrm-accent-orange)}.vrm-status-dot{background-color:currentColor;border-radius:50%;height:6px;width:6px}.vrm-grid{grid-gap:24px;display:grid;gap:24px}.vrm-grid-2{grid-template-columns:repeat(auto-fit,minmax(400px,1fr))}.vrm-grid-3{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}.vrm-grid-4{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.vrm-grid-5{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.vrm-collapse-btn{align-items:center;background-color:#2b2b2b;background-color:var(--vrm-bg-secondary);border:1px solid #404040;border:1px solid var(--vrm-border);border-radius:50%;color:#888;color:var(--vrm-text-muted);cursor:pointer;display:flex;height:24px;justify-content:center;position:absolute;right:-12px;top:16px;transition:all .2s ease;width:24px}.vrm-collapse-btn:hover{background-color:#333;background-color:var(--vrm-hover);color:#fff;color:var(--vrm-text-primary)}@media (max-width:768px){.vrm-sidebar{width:60px}.vrm-sidebar .vrm-logo-text,.vrm-sidebar .vrm-nav-text{display:none}.vrm-search input{width:180px}.vrm-content{padding:16px}.vrm-grid-2,.vrm-grid-3,.vrm-grid-4{grid-template-columns:1fr}}@media (max-width:480px){.vrm-header{padding:12px 16px}.vrm-search{display:none}.vrm-content{padding:12px}}.react-datepicker__month-read-view--down-arrow,.react-datepicker__month-year-read-view--down-arrow,.react-datepicker__navigation-icon:before,.react-datepicker__year-read-view--down-arrow{border-color:#ccc;border-style:solid;border-width:3px 3px 0 0;content:\"\";display:block;height:9px;position:absolute;top:6px;width:9px}.react-datepicker-wrapper{border:0;display:inline-block;padding:0}.react-datepicker{background-color:#fff;border:1px solid #aeaeae;border-radius:.3rem;color:#000;display:inline-block;font-family:Helvetica Neue,helvetica,arial,sans-serif;font-size:.8rem;line-height:normal;position:relative}.react-datepicker--time-only .react-datepicker__time-container{border-left:0}.react-datepicker--time-only .react-datepicker__time,.react-datepicker--time-only .react-datepicker__time-box{border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.react-datepicker-popper{line-height:0;z-index:1}.react-datepicker-popper .react-datepicker__triangle{stroke:#aeaeae}.react-datepicker-popper[data-placement^=bottom] .react-datepicker__triangle{fill:#f0f0f0;color:#f0f0f0}.react-datepicker-popper[data-placement^=top] .react-datepicker__triangle{fill:#fff;color:#fff}.react-datepicker__header{background-color:#f0f0f0;border-bottom:1px solid #aeaeae;border-top-left-radius:.3rem;padding:8px 0;position:relative;text-align:center}.react-datepicker__header--time{padding-bottom:8px;padding-left:5px;padding-right:5px}.react-datepicker__header--time:not(.react-datepicker__header--time--only){border-top-left-radius:0}.react-datepicker__header:not(.react-datepicker__header--has-time-select){border-top-right-radius:.3rem}.react-datepicker__month-dropdown-container--scroll,.react-datepicker__month-dropdown-container--select,.react-datepicker__month-year-dropdown-container--scroll,.react-datepicker__month-year-dropdown-container--select,.react-datepicker__year-dropdown-container--scroll,.react-datepicker__year-dropdown-container--select{display:inline-block;margin:0 15px}.react-datepicker-time__header,.react-datepicker-year-header,.react-datepicker__current-month{color:#000;font-size:.944rem;font-weight:700;margin-top:0}h2.react-datepicker__current-month{margin:0;padding:0}.react-datepicker-time__header{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.react-datepicker__navigation{align-items:center;background:none;border:none;cursor:pointer;display:flex;height:32px;justify-content:center;overflow:hidden;padding:0;position:absolute;text-align:center;text-indent:-999em;top:2px;width:32px;z-index:1}.react-datepicker__navigation--previous{left:2px}.react-datepicker__navigation--next{right:2px}.react-datepicker__navigation--next--with-time:not(.react-datepicker__navigation--next--with-today-button){right:85px}.react-datepicker__navigation--years{display:block;margin-left:auto;margin-right:auto;position:relative;top:0}.react-datepicker__navigation--years-previous{top:4px}.react-datepicker__navigation--years-upcoming{top:-4px}.react-datepicker__navigation:hover :before{border-color:#a6a6a6}.react-datepicker__navigation-icon{font-size:20px;position:relative;top:-1px;width:0}.react-datepicker__navigation-icon--next{left:-2px}.react-datepicker__navigation-icon--next:before{left:-7px;transform:rotate(45deg)}.react-datepicker__navigation-icon--previous{right:-2px}.react-datepicker__navigation-icon--previous:before{right:-7px;transform:rotate(225deg)}.react-datepicker__month-container{float:left}.react-datepicker__year{margin:.4rem;text-align:center}.react-datepicker__year-wrapper{display:flex;flex-wrap:wrap;max-width:180px}.react-datepicker__year .react-datepicker__year-text{display:inline-block;margin:2px;width:4rem}.react-datepicker__month{margin:.4rem;text-align:center}.react-datepicker__month .react-datepicker__month-text,.react-datepicker__month .react-datepicker__quarter-text{display:inline-block;margin:2px;width:4rem}.react-datepicker__input-time-container{clear:both;float:left;margin:5px 0 10px 15px;text-align:left;width:100%}.react-datepicker__input-time-container .react-datepicker-time__caption,.react-datepicker__input-time-container .react-datepicker-time__input-container{display:inline-block}.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input{display:inline-block;margin-left:10px}.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input input{width:auto}.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input input[type=time]::-webkit-inner-spin-button,.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input input[type=time]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input input[type=time]{-moz-appearance:textfield}.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__delimiter{display:inline-block;margin-left:5px}.react-datepicker__time-container{border-left:1px solid #aeaeae;float:right;width:85px}.react-datepicker__time-container--with-today-button{border:1px solid #aeaeae;border-radius:.3rem;display:inline;position:absolute;right:-87px;top:0}.react-datepicker__time-container .react-datepicker__time{background:#fff;border-bottom-right-radius:.3rem;position:relative}.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box{border-bottom-right-radius:.3rem;margin:0 auto;overflow-x:hidden;text-align:center;width:85px}.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list{box-sizing:initial;height:calc(195px + .85rem);list-style:none;margin:0;overflow-y:scroll;padding-left:0;padding-right:0;width:100%}.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item{height:30px;padding:5px 10px;white-space:nowrap}.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item:hover{background-color:#f0f0f0;cursor:pointer}.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected{background-color:#216ba5;color:#fff;font-weight:700}.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected:hover{background-color:#216ba5}.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--disabled{color:#ccc}.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--disabled:hover{background-color:initial;cursor:default}.react-datepicker__week-number{color:#ccc;display:inline-block;line-height:1.7rem;margin:.166rem;text-align:center;width:1.7rem}.react-datepicker__week-number.react-datepicker__week-number--clickable{cursor:pointer}.react-datepicker__week-number.react-datepicker__week-number--clickable:not(.react-datepicker__week-number--selected):hover{background-color:#f0f0f0;border-radius:.3rem}.react-datepicker__week-number--selected{background-color:#216ba5;border-radius:.3rem;color:#fff}.react-datepicker__week-number--selected:hover{background-color:#1d5d90}.react-datepicker__day-names{margin-bottom:-8px;white-space:nowrap}.react-datepicker__week{white-space:nowrap}.react-datepicker__day,.react-datepicker__day-name,.react-datepicker__time-name{color:#000;display:inline-block;line-height:1.7rem;margin:.166rem;text-align:center;width:1.7rem}.react-datepicker__day,.react-datepicker__month-text,.react-datepicker__quarter-text,.react-datepicker__year-text{cursor:pointer}.react-datepicker__day:not([aria-disabled=true]):hover,.react-datepicker__month-text:not([aria-disabled=true]):hover,.react-datepicker__quarter-text:not([aria-disabled=true]):hover,.react-datepicker__year-text:not([aria-disabled=true]):hover{background-color:#f0f0f0;border-radius:.3rem}.react-datepicker__day--today,.react-datepicker__month-text--today,.react-datepicker__quarter-text--today,.react-datepicker__year-text--today{font-weight:700}.react-datepicker__day--highlighted,.react-datepicker__month-text--highlighted,.react-datepicker__quarter-text--highlighted,.react-datepicker__year-text--highlighted{background-color:#3dcc4a;border-radius:.3rem;color:#fff}.react-datepicker__day--highlighted:not([aria-disabled=true]):hover,.react-datepicker__month-text--highlighted:not([aria-disabled=true]):hover,.react-datepicker__quarter-text--highlighted:not([aria-disabled=true]):hover,.react-datepicker__year-text--highlighted:not([aria-disabled=true]):hover{background-color:#32be3f}.react-datepicker__day--highlighted-custom-1,.react-datepicker__month-text--highlighted-custom-1,.react-datepicker__quarter-text--highlighted-custom-1,.react-datepicker__year-text--highlighted-custom-1{color:#f0f}.react-datepicker__day--highlighted-custom-2,.react-datepicker__month-text--highlighted-custom-2,.react-datepicker__quarter-text--highlighted-custom-2,.react-datepicker__year-text--highlighted-custom-2{color:green}.react-datepicker__day--holidays,.react-datepicker__month-text--holidays,.react-datepicker__quarter-text--holidays,.react-datepicker__year-text--holidays{background-color:#ff6803;border-radius:.3rem;color:#fff;position:relative}.react-datepicker__day--holidays .overlay,.react-datepicker__month-text--holidays .overlay,.react-datepicker__quarter-text--holidays .overlay,.react-datepicker__year-text--holidays .overlay{background-color:#333;border-radius:4px;bottom:100%;color:#fff;left:50%;opacity:0;padding:4px;position:absolute;transform:translateX(-50%);transition:visibility 0s,opacity .3s ease-in-out;visibility:hidden;white-space:nowrap}.react-datepicker__day--holidays:not([aria-disabled=true]):hover,.react-datepicker__month-text--holidays:not([aria-disabled=true]):hover,.react-datepicker__quarter-text--holidays:not([aria-disabled=true]):hover,.react-datepicker__year-text--holidays:not([aria-disabled=true]):hover{background-color:#cf5300}.react-datepicker__day--holidays:hover .overlay,.react-datepicker__month-text--holidays:hover .overlay,.react-datepicker__quarter-text--holidays:hover .overlay,.react-datepicker__year-text--holidays:hover .overlay{opacity:1;visibility:visible}.react-datepicker__day--in-range,.react-datepicker__day--in-selecting-range,.react-datepicker__day--selected,.react-datepicker__month-text--in-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__month-text--selected,.react-datepicker__quarter-text--in-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__quarter-text--selected,.react-datepicker__year-text--in-range,.react-datepicker__year-text--in-selecting-range,.react-datepicker__year-text--selected{background-color:#216ba5;border-radius:.3rem;color:#fff}.react-datepicker__day--in-range:not([aria-disabled=true]):hover,.react-datepicker__day--in-selecting-range:not([aria-disabled=true]):hover,.react-datepicker__day--selected:not([aria-disabled=true]):hover,.react-datepicker__month-text--in-range:not([aria-disabled=true]):hover,.react-datepicker__month-text--in-selecting-range:not([aria-disabled=true]):hover,.react-datepicker__month-text--selected:not([aria-disabled=true]):hover,.react-datepicker__quarter-text--in-range:not([aria-disabled=true]):hover,.react-datepicker__quarter-text--in-selecting-range:not([aria-disabled=true]):hover,.react-datepicker__quarter-text--selected:not([aria-disabled=true]):hover,.react-datepicker__year-text--in-range:not([aria-disabled=true]):hover,.react-datepicker__year-text--in-selecting-range:not([aria-disabled=true]):hover,.react-datepicker__year-text--selected:not([aria-disabled=true]):hover{background-color:#1d5d90}.react-datepicker__day--keyboard-selected,.react-datepicker__month-text--keyboard-selected,.react-datepicker__quarter-text--keyboard-selected,.react-datepicker__year-text--keyboard-selected{background-color:#bad9f1;border-radius:.3rem;color:#000}.react-datepicker__day--keyboard-selected:not([aria-disabled=true]):hover,.react-datepicker__month-text--keyboard-selected:not([aria-disabled=true]):hover,.react-datepicker__quarter-text--keyboard-selected:not([aria-disabled=true]):hover,.react-datepicker__year-text--keyboard-selected:not([aria-disabled=true]):hover{background-color:#1d5d90}.react-datepicker__day--in-selecting-range:not(.react-datepicker__day--in-range,.react-datepicker__month-text--in-range,.react-datepicker__quarter-text--in-range,.react-datepicker__year-text--in-range),.react-datepicker__month-text--in-selecting-range:not(.react-datepicker__day--in-range,.react-datepicker__month-text--in-range,.react-datepicker__quarter-text--in-range,.react-datepicker__year-text--in-range),.react-datepicker__quarter-text--in-selecting-range:not(.react-datepicker__day--in-range,.react-datepicker__month-text--in-range,.react-datepicker__quarter-text--in-range,.react-datepicker__year-text--in-range),.react-datepicker__year-text--in-selecting-range:not(.react-datepicker__day--in-range,.react-datepicker__month-text--in-range,.react-datepicker__quarter-text--in-range,.react-datepicker__year-text--in-range){background-color:#216ba580}.react-datepicker__month--selecting-range .react-datepicker__day--in-range:not(.react-datepicker__day--in-selecting-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__year-text--in-selecting-range),.react-datepicker__month--selecting-range .react-datepicker__month-text--in-range:not(.react-datepicker__day--in-selecting-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__year-text--in-selecting-range),.react-datepicker__month--selecting-range .react-datepicker__quarter-text--in-range:not(.react-datepicker__day--in-selecting-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__year-text--in-selecting-range),.react-datepicker__month--selecting-range .react-datepicker__year-text--in-range:not(.react-datepicker__day--in-selecting-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__year-text--in-selecting-range),.react-datepicker__year--selecting-range .react-datepicker__day--in-range:not(.react-datepicker__day--in-selecting-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__year-text--in-selecting-range),.react-datepicker__year--selecting-range .react-datepicker__month-text--in-range:not(.react-datepicker__day--in-selecting-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__year-text--in-selecting-range),.react-datepicker__year--selecting-range .react-datepicker__quarter-text--in-range:not(.react-datepicker__day--in-selecting-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__year-text--in-selecting-range),.react-datepicker__year--selecting-range .react-datepicker__year-text--in-range:not(.react-datepicker__day--in-selecting-range,.react-datepicker__month-text--in-selecting-range,.react-datepicker__quarter-text--in-selecting-range,.react-datepicker__year-text--in-selecting-range){background-color:#f0f0f0;color:#000}.react-datepicker__day--disabled,.react-datepicker__month-text--disabled,.react-datepicker__quarter-text--disabled,.react-datepicker__year-text--disabled{color:#ccc;cursor:default}.react-datepicker__day--disabled .overlay,.react-datepicker__month-text--disabled .overlay,.react-datepicker__quarter-text--disabled .overlay,.react-datepicker__year-text--disabled .overlay{background-color:#333;border-radius:4px;bottom:70%;color:#fff;left:50%;opacity:0;padding:4px;position:absolute;transform:translateX(-50%);transition:visibility 0s,opacity .3s ease-in-out;visibility:hidden;white-space:nowrap}.react-datepicker__input-container{display:inline-block;position:relative;width:100%}.react-datepicker__input-container .react-datepicker__calendar-icon{box-sizing:initial;padding:.5rem;position:absolute}.react-datepicker__view-calendar-icon input{padding:6px 10px 5px 25px}.react-datepicker__month-read-view,.react-datepicker__month-year-read-view,.react-datepicker__year-read-view{border:1px solid #0000;border-radius:.3rem;position:relative}.react-datepicker__month-read-view:hover,.react-datepicker__month-year-read-view:hover,.react-datepicker__year-read-view:hover{cursor:pointer}.react-datepicker__month-read-view:hover .react-datepicker__month-read-view--down-arrow,.react-datepicker__month-read-view:hover .react-datepicker__year-read-view--down-arrow,.react-datepicker__month-year-read-view:hover .react-datepicker__month-read-view--down-arrow,.react-datepicker__month-year-read-view:hover .react-datepicker__year-read-view--down-arrow,.react-datepicker__year-read-view:hover .react-datepicker__month-read-view--down-arrow,.react-datepicker__year-read-view:hover .react-datepicker__year-read-view--down-arrow{border-top-color:#b3b3b3}.react-datepicker__month-read-view--down-arrow,.react-datepicker__month-year-read-view--down-arrow,.react-datepicker__year-read-view--down-arrow{right:-16px;top:0;transform:rotate(135deg)}.react-datepicker__month-dropdown,.react-datepicker__month-year-dropdown,.react-datepicker__year-dropdown{background-color:#f0f0f0;border:1px solid #aeaeae;border-radius:.3rem;left:25%;position:absolute;text-align:center;top:30px;width:50%;z-index:1}.react-datepicker__month-dropdown:hover,.react-datepicker__month-year-dropdown:hover,.react-datepicker__year-dropdown:hover{cursor:pointer}.react-datepicker__month-dropdown--scrollable,.react-datepicker__month-year-dropdown--scrollable,.react-datepicker__year-dropdown--scrollable{height:150px;overflow-y:scroll}.react-datepicker__month-option,.react-datepicker__month-year-option,.react-datepicker__year-option{display:block;line-height:20px;margin-left:auto;margin-right:auto;width:100%}.react-datepicker__month-option:first-of-type,.react-datepicker__month-year-option:first-of-type,.react-datepicker__year-option:first-of-type{border-top-left-radius:.3rem;border-top-right-radius:.3rem}.react-datepicker__month-option:last-of-type,.react-datepicker__month-year-option:last-of-type,.react-datepicker__year-option:last-of-type{border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem;-webkit-user-select:none;user-select:none}.react-datepicker__month-option:hover,.react-datepicker__month-year-option:hover,.react-datepicker__year-option:hover{background-color:#ccc}.react-datepicker__month-option:hover .react-datepicker__navigation--years-upcoming,.react-datepicker__month-year-option:hover .react-datepicker__navigation--years-upcoming,.react-datepicker__year-option:hover .react-datepicker__navigation--years-upcoming{border-bottom-color:#b3b3b3}.react-datepicker__month-option:hover .react-datepicker__navigation--years-previous,.react-datepicker__month-year-option:hover .react-datepicker__navigation--years-previous,.react-datepicker__year-option:hover .react-datepicker__navigation--years-previous{border-top-color:#b3b3b3}.react-datepicker__month-option--selected,.react-datepicker__month-year-option--selected,.react-datepicker__year-option--selected{left:15px;position:absolute}.react-datepicker__close-icon{background-color:initial;border:0;cursor:pointer;display:table-cell;height:100%;outline:0;padding:0 6px 0 0;position:absolute;right:0;top:0;vertical-align:middle}.react-datepicker__close-icon:after{background-color:#216ba5;border-radius:50%;color:#fff;content:\"×\";cursor:pointer;display:table-cell;font-size:12px;height:16px;line-height:1;padding:2px;text-align:center;vertical-align:middle;width:16px}.react-datepicker__close-icon--disabled{cursor:default}.react-datepicker__close-icon--disabled:after{background-color:#ccc;cursor:default}.react-datepicker__today-button{background:#f0f0f0;border-top:1px solid #aeaeae;clear:left;cursor:pointer;font-weight:700;padding:5px 0;text-align:center}.react-datepicker__portal{align-items:center;background-color:#000c;display:flex;height:100vh;justify-content:center;left:0;position:fixed;top:0;width:100vw;z-index:2147483647}.react-datepicker__portal .react-datepicker__day,.react-datepicker__portal .react-datepicker__day-name,.react-datepicker__portal .react-datepicker__time-name{line-height:3rem;width:3rem}@media (max-height:550px),(max-width:400px){.react-datepicker__portal .react-datepicker__day,.react-datepicker__portal .react-datepicker__day-name,.react-datepicker__portal .react-datepicker__time-name{line-height:2rem;width:2rem}}.react-datepicker__portal .react-datepicker-time__header,.react-datepicker__portal .react-datepicker__current-month{font-size:1.44rem}.react-datepicker__children-container{height:auto;margin:.4rem;padding-left:.2rem;padding-right:.2rem;width:13.8rem}.react-datepicker__aria-live{border:0;-webkit-clip-path:circle(0);clip-path:circle(0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.react-datepicker__calendar-icon{height:1em;vertical-align:-.125em;width:1em}","size_bytes":29023},"frontend/build/static/js/304.44a399fc.chunk.js":{"content":"/*! For license information please see 304.44a399fc.chunk.js.LICENSE.txt */\n\"use strict\";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[304],{76304:(e,t,n)=>{n.r(t),n.d(t,{default:()=>le});const{entries:o,setPrototypeOf:r,isFrozen:i,getPrototypeOf:a,getOwnPropertyDescriptor:l}=Object;let{freeze:c,seal:s,create:u}=Object,{apply:m,construct:p}=\"undefined\"!==typeof Reflect&&Reflect;c||(c=function(e){return e}),s||(s=function(e){return e}),m||(m=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return e.apply(t,o)}),p||(p=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new e(...n)});const f=O(Array.prototype.forEach),d=O(Array.prototype.lastIndexOf),h=O(Array.prototype.pop),g=O(Array.prototype.push),T=O(Array.prototype.splice),y=O(String.prototype.toLowerCase),E=O(String.prototype.toString),A=O(String.prototype.match),_=O(String.prototype.replace),S=O(String.prototype.indexOf),b=O(String.prototype.trim),N=O(Object.prototype.hasOwnProperty),w=O(RegExp.prototype.test),R=(v=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(v,t)});var v;function O(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return m(e,t,o)}}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;r&&r(e,null);let o=t.length;for(;o--;){let r=t[o];if(\"string\"===typeof r){const e=n(r);e!==r&&(i(t)||(t[o]=e),r=e)}e[r]=!0}return e}function D(e){for(let t=0;t<e.length;t++){N(e,t)||(e[t]=null)}return e}function L(e){const t=u(null);for(const[n,r]of o(e)){N(e,n)&&(Array.isArray(r)?t[n]=D(r):r&&\"object\"===typeof r&&r.constructor===Object?t[n]=L(r):t[n]=r)}return t}function x(e,t){for(;null!==e;){const n=l(e,t);if(n){if(n.get)return O(n.get);if(\"function\"===typeof n.value)return O(n.value)}e=a(e)}return function(){return null}}const k=c([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"search\",\"section\",\"select\",\"shadow\",\"slot\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),I=c([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"enterkeyhint\",\"exportparts\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"inputmode\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"part\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"slot\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),M=c([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),U=c([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),z=c([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\",\"mprescripts\"]),P=c([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),H=c([\"#text\"]),F=c([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"exportparts\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inert\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"part\",\"pattern\",\"placeholder\",\"playsinline\",\"popover\",\"popovertarget\",\"popovertargetaction\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"slot\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"wrap\",\"xmlns\",\"slot\"]),B=c([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"amplitude\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"exponent\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"intercept\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"slope\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"tablevalues\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),W=c([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),G=c([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),Y=s(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),j=s(/<%[\\w\\W]*|[\\w\\W]*%>/gm),X=s(/\\$\\{[\\w\\W]*/gm),q=s(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/),$=s(/^aria-[\\-\\w]+$/),K=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),V=s(/^(?:\\w+script|data):/i),Z=s(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),J=s(/^html$/i),Q=s(/^[a-z][.\\w]*(-[.\\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:$,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:Q,DATA_ATTR:q,DOCTYPE_NAME:J,ERB_EXPR:j,IS_ALLOWED_URI:K,IS_SCRIPT_OR_DATA:V,MUSTACHE_EXPR:Y,TMPLIT_EXPR:X});const te=1,ne=3,oe=7,re=8,ie=9,ae=function(){return\"undefined\"===typeof window?null:window};var le=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae();const n=t=>e(t);if(n.version=\"3.2.7\",n.removed=[],!t||!t.document||t.document.nodeType!==ie||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,a=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:s,Node:m,Element:p,NodeFilter:v,NamedNodeMap:O=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:D,DOMParser:Y,trustedTypes:j}=t,X=p.prototype,q=x(X,\"cloneNode\"),$=x(X,\"remove\"),V=x(X,\"nextSibling\"),Z=x(X,\"childNodes\"),Q=x(X,\"parentNode\");if(\"function\"===typeof s){const e=r.createElement(\"template\");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let le,ce=\"\";const{implementation:se,createNodeIterator:ue,createDocumentFragment:me,getElementsByTagName:pe}=r,{importNode:fe}=i;let de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported=\"function\"===typeof o&&\"function\"===typeof Q&&se&&void 0!==se.createHTMLDocument;const{MUSTACHE_EXPR:he,ERB_EXPR:ge,TMPLIT_EXPR:Te,DATA_ATTR:ye,ARIA_ATTR:Ee,IS_SCRIPT_OR_DATA:Ae,ATTR_WHITESPACE:_e,CUSTOM_ELEMENT:Se}=ee;let{IS_ALLOWED_URI:be}=ee,Ne=null;const we=C({},[...k,...I,...M,...z,...H]);let Re=null;const ve=C({},[...F,...B,...W,...G]);let Oe=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,De=null,Le=!0,xe=!0,ke=!1,Ie=!0,Me=!1,Ue=!0,ze=!1,Pe=!1,He=!1,Fe=!1,Be=!1,We=!1,Ge=!0,Ye=!1,je=!0,Xe=!1,qe={},$e=null;const Ke=C({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]);let Ve=null;const Ze=C({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]);let Je=null;const Qe=C({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),et=\"http://www.w3.org/1998/Math/MathML\",tt=\"http://www.w3.org/2000/svg\",nt=\"http://www.w3.org/1999/xhtml\";let ot=nt,rt=!1,it=null;const at=C({},[et,tt,nt],E);let lt=C({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),ct=C({},[\"annotation-xml\"]);const st=C({},[\"title\",\"style\",\"font\",\"a\",\"script\"]);let ut=null;const mt=[\"application/xhtml+xml\",\"text/html\"];let pt=null,ft=null;const dt=r.createElement(\"form\"),ht=function(e){return e instanceof RegExp||e instanceof Function},gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ft||ft!==e){if(e&&\"object\"===typeof e||(e={}),e=L(e),ut=-1===mt.indexOf(e.PARSER_MEDIA_TYPE)?\"text/html\":e.PARSER_MEDIA_TYPE,pt=\"application/xhtml+xml\"===ut?E:y,Ne=N(e,\"ALLOWED_TAGS\")?C({},e.ALLOWED_TAGS,pt):we,Re=N(e,\"ALLOWED_ATTR\")?C({},e.ALLOWED_ATTR,pt):ve,it=N(e,\"ALLOWED_NAMESPACES\")?C({},e.ALLOWED_NAMESPACES,E):at,Je=N(e,\"ADD_URI_SAFE_ATTR\")?C(L(Qe),e.ADD_URI_SAFE_ATTR,pt):Qe,Ve=N(e,\"ADD_DATA_URI_TAGS\")?C(L(Ze),e.ADD_DATA_URI_TAGS,pt):Ze,$e=N(e,\"FORBID_CONTENTS\")?C({},e.FORBID_CONTENTS,pt):Ke,Ce=N(e,\"FORBID_TAGS\")?C({},e.FORBID_TAGS,pt):L({}),De=N(e,\"FORBID_ATTR\")?C({},e.FORBID_ATTR,pt):L({}),qe=!!N(e,\"USE_PROFILES\")&&e.USE_PROFILES,Le=!1!==e.ALLOW_ARIA_ATTR,xe=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Me=e.SAFE_FOR_TEMPLATES||!1,Ue=!1!==e.SAFE_FOR_XML,ze=e.WHOLE_DOCUMENT||!1,Fe=e.RETURN_DOM||!1,Be=e.RETURN_DOM_FRAGMENT||!1,We=e.RETURN_TRUSTED_TYPE||!1,He=e.FORCE_BODY||!1,Ge=!1!==e.SANITIZE_DOM,Ye=e.SANITIZE_NAMED_PROPS||!1,je=!1!==e.KEEP_CONTENT,Xe=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||K,ot=e.NAMESPACE||nt,lt=e.MATHML_TEXT_INTEGRATION_POINTS||lt,ct=e.HTML_INTEGRATION_POINTS||ct,Oe=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Oe.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Oe.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&\"boolean\"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Oe.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(xe=!1),Be&&(Fe=!0),qe&&(Ne=C({},H),Re=[],!0===qe.html&&(C(Ne,k),C(Re,F)),!0===qe.svg&&(C(Ne,I),C(Re,B),C(Re,G)),!0===qe.svgFilters&&(C(Ne,M),C(Re,B),C(Re,G)),!0===qe.mathMl&&(C(Ne,z),C(Re,W),C(Re,G))),e.ADD_TAGS&&(Ne===we&&(Ne=L(Ne)),C(Ne,e.ADD_TAGS,pt)),e.ADD_ATTR&&(Re===ve&&(Re=L(Re)),C(Re,e.ADD_ATTR,pt)),e.ADD_URI_SAFE_ATTR&&C(Je,e.ADD_URI_SAFE_ATTR,pt),e.FORBID_CONTENTS&&($e===Ke&&($e=L($e)),C($e,e.FORBID_CONTENTS,pt)),je&&(Ne[\"#text\"]=!0),ze&&C(Ne,[\"html\",\"head\",\"body\"]),Ne.table&&(C(Ne,[\"tbody\"]),delete Ce.tbody),e.TRUSTED_TYPES_POLICY){if(\"function\"!==typeof e.TRUSTED_TYPES_POLICY.createHTML)throw R('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');if(\"function\"!==typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw R('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');le=e.TRUSTED_TYPES_POLICY,ce=le.createHTML(\"\")}else void 0===le&&(le=function(e,t){if(\"object\"!==typeof e||\"function\"!==typeof e.createPolicy)return null;let n=null;const o=\"data-tt-policy-suffix\";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r=\"dompurify\"+(n?\"#\"+n:\"\");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(i){return console.warn(\"TrustedTypes policy \"+r+\" could not be created.\"),null}}(j,a)),null!==le&&\"string\"===typeof ce&&(ce=le.createHTML(\"\"));c&&c(e),ft=e}},Tt=C({},[...I,...M,...U]),yt=C({},[...z,...P]),Et=function(e){g(n.removed,{element:e});try{Q(e).removeChild(e)}catch(t){$(e)}},At=function(e,t){try{g(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(o){g(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),\"is\"===e)if(Fe||Be)try{Et(t)}catch(o){}else try{t.setAttribute(e,\"\")}catch(o){}},_t=function(e){let t=null,n=null;if(He)e=\"<remove></remove>\"+e;else{const t=A(e,/^[\\r\\n\\t ]+/);n=t&&t[0]}\"application/xhtml+xml\"===ut&&ot===nt&&(e='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+e+\"</body></html>\");const o=le?le.createHTML(e):e;if(ot===nt)try{t=(new Y).parseFromString(o,ut)}catch(a){}if(!t||!t.documentElement){t=se.createDocument(ot,\"template\",null);try{t.documentElement.innerHTML=rt?ce:o}catch(a){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ot===nt?pe.call(t,ze?\"html\":\"body\")[0]:ze?t.documentElement:i},St=function(e){return ue.call(e.ownerDocument||e,e,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT|v.SHOW_PROCESSING_INSTRUCTION|v.SHOW_CDATA_SECTION,null)},bt=function(e){return e instanceof D&&(\"string\"!==typeof e.nodeName||\"string\"!==typeof e.textContent||\"function\"!==typeof e.removeChild||!(e.attributes instanceof O)||\"function\"!==typeof e.removeAttribute||\"function\"!==typeof e.setAttribute||\"string\"!==typeof e.namespaceURI||\"function\"!==typeof e.insertBefore||\"function\"!==typeof e.hasChildNodes)},Nt=function(e){return\"function\"===typeof m&&e instanceof m};function wt(e,t,o){f(e,e=>{e.call(n,t,o,ft)})}const Rt=function(e){let t=null;if(wt(de.beforeSanitizeElements,e,null),bt(e))return Et(e),!0;const o=pt(e.nodeName);if(wt(de.uponSanitizeElement,e,{tagName:o,allowedTags:Ne}),Ue&&e.hasChildNodes()&&!Nt(e.firstElementChild)&&w(/<[/\\w!]/g,e.innerHTML)&&w(/<[/\\w!]/g,e.textContent))return Et(e),!0;if(e.nodeType===oe)return Et(e),!0;if(Ue&&e.nodeType===re&&w(/<[/\\w]/g,e.data))return Et(e),!0;if(!Ne[o]||Ce[o]){if(!Ce[o]&&Ot(o)){if(Oe.tagNameCheck instanceof RegExp&&w(Oe.tagNameCheck,o))return!1;if(Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(o))return!1}if(je&&!$e[o]){const t=Q(e)||e.parentNode,n=Z(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=q(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,V(e))}}}return Et(e),!0}return e instanceof p&&!function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:ot,tagName:\"template\"});const n=y(e.tagName),o=y(t.tagName);return!!it[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===nt?\"svg\"===n:t.namespaceURI===et?\"svg\"===n&&(\"annotation-xml\"===o||lt[o]):Boolean(Tt[n]):e.namespaceURI===et?t.namespaceURI===nt?\"math\"===n:t.namespaceURI===tt?\"math\"===n&&ct[o]:Boolean(yt[n]):e.namespaceURI===nt?!(t.namespaceURI===tt&&!ct[o])&&!(t.namespaceURI===et&&!lt[o])&&!yt[n]&&(st[n]||!Tt[n]):!(\"application/xhtml+xml\"!==ut||!it[e.namespaceURI]))}(e)?(Et(e),!0):\"noscript\"!==o&&\"noembed\"!==o&&\"noframes\"!==o||!w(/<\\/no(script|embed|frames)/i,e.innerHTML)?(Me&&e.nodeType===ne&&(t=e.textContent,f([he,ge,Te],e=>{t=_(t,e,\" \")}),e.textContent!==t&&(g(n.removed,{element:e.cloneNode()}),e.textContent=t)),wt(de.afterSanitizeElements,e,null),!1):(Et(e),!0)},vt=function(e,t,n){if(Ge&&(\"id\"===t||\"name\"===t)&&(n in r||n in dt))return!1;if(xe&&!De[t]&&w(ye,t));else if(Le&&w(Ee,t));else if(!Re[t]||De[t]){if(!(Ot(e)&&(Oe.tagNameCheck instanceof RegExp&&w(Oe.tagNameCheck,e)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(e))&&(Oe.attributeNameCheck instanceof RegExp&&w(Oe.attributeNameCheck,t)||Oe.attributeNameCheck instanceof Function&&Oe.attributeNameCheck(t,e))||\"is\"===t&&Oe.allowCustomizedBuiltInElements&&(Oe.tagNameCheck instanceof RegExp&&w(Oe.tagNameCheck,n)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(n))))return!1}else if(Je[t]);else if(w(be,_(n,_e,\"\")));else if(\"src\"!==t&&\"xlink:href\"!==t&&\"href\"!==t||\"script\"===e||0!==S(n,\"data:\")||!Ve[e]){if(ke&&!w(Ae,_(n,_e,\"\")));else if(n)return!1}else;return!0},Ot=function(e){return\"annotation-xml\"!==e&&A(e,Se)},Ct=function(e){wt(de.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||bt(e))return;const o={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:Re,forceKeepAttr:void 0};let r=t.length;for(;r--;){const a=t[r],{name:l,namespaceURI:c,value:s}=a,u=pt(l),m=s;let p=\"value\"===l?m:b(m);if(o.attrName=u,o.attrValue=p,o.keepAttr=!0,o.forceKeepAttr=void 0,wt(de.uponSanitizeAttribute,e,o),p=o.attrValue,!Ye||\"id\"!==u&&\"name\"!==u||(At(l,e),p=\"user-content-\"+p),Ue&&w(/((--!?|])>)|<\\/(style|title|textarea)/i,p)){At(l,e);continue}if(\"attributename\"===u&&A(p,\"href\")){At(l,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){At(l,e);continue}if(!Ie&&w(/\\/>/i,p)){At(l,e);continue}Me&&f([he,ge,Te],e=>{p=_(p,e,\" \")});const d=pt(e.nodeName);if(vt(d,u,p)){if(le&&\"object\"===typeof j&&\"function\"===typeof j.getAttributeType)if(c);else switch(j.getAttributeType(d,u)){case\"TrustedHTML\":p=le.createHTML(p);break;case\"TrustedScriptURL\":p=le.createScriptURL(p)}if(p!==m)try{c?e.setAttributeNS(c,l,p):e.setAttribute(l,p),bt(e)?Et(e):h(n.removed)}catch(i){At(l,e)}}else At(l,e)}wt(de.afterSanitizeAttributes,e,null)},Dt=function e(t){let n=null;const o=St(t);for(wt(de.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)wt(de.uponSanitizeShadowNode,n,null),Rt(n),Ct(n),n.content instanceof l&&e(n.content);wt(de.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,r=null,a=null,c=null;if(rt=!e,rt&&(e=\"\\x3c!--\\x3e\"),\"string\"!==typeof e&&!Nt(e)){if(\"function\"!==typeof e.toString)throw R(\"toString is not a function\");if(\"string\"!==typeof(e=e.toString()))throw R(\"dirty is not a string, aborting\")}if(!n.isSupported)return e;if(Pe||gt(t),n.removed=[],\"string\"===typeof e&&(Xe=!1),Xe){if(e.nodeName){const t=pt(e.nodeName);if(!Ne[t]||Ce[t])throw R(\"root node is forbidden and cannot be sanitized in-place\")}}else if(e instanceof m)o=_t(\"\\x3c!----\\x3e\"),r=o.ownerDocument.importNode(e,!0),r.nodeType===te&&\"BODY\"===r.nodeName||\"HTML\"===r.nodeName?o=r:o.appendChild(r);else{if(!Fe&&!Me&&!ze&&-1===e.indexOf(\"<\"))return le&&We?le.createHTML(e):e;if(o=_t(e),!o)return Fe?null:We?ce:\"\"}o&&He&&Et(o.firstChild);const s=St(Xe?e:o);for(;a=s.nextNode();)Rt(a),Ct(a),a.content instanceof l&&Dt(a.content);if(Xe)return e;if(Fe){if(Be)for(c=me.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(Re.shadowroot||Re.shadowrootmode)&&(c=fe.call(i,c,!0)),c}let u=ze?o.outerHTML:o.innerHTML;return ze&&Ne[\"!doctype\"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&w(J,o.ownerDocument.doctype.name)&&(u=\"<!DOCTYPE \"+o.ownerDocument.doctype.name+\">\\n\"+u),Me&&f([he,ge,Te],e=>{u=_(u,e,\" \")}),le&&We?le.createHTML(u):u},n.setConfig=function(){gt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Pe=!0},n.clearConfig=function(){ft=null,Pe=!1},n.isValidAttribute=function(e,t,n){ft||gt({});const o=pt(e),r=pt(t);return vt(o,r,n)},n.addHook=function(e,t){\"function\"===typeof t&&g(de[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=d(de[e],t);return-1===n?void 0:T(de[e],n,1)[0]}return h(de[e])},n.removeHooks=function(e){de[e]=[]},n.removeAllHooks=function(){de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}()}}]);","size_bytes":22394},"frontend/build/static/js/799.df536016.chunk.js":{"content":"(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[799],{633:t=>{\"use strict\";t.exports=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"]},979:t=>{\"use strict\";t.exports=function(t,e){return{value:t,done:e}}},1271:(t,e)=>{\"use strict\";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);e.f=n?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},2099:(t,e,r)=>{\"use strict\";var i=r(20170),n=r(12341),s=r(32781);t.exports=!i&&!n(function(){return 7!==Object.defineProperty(s(\"div\"),\"a\",{get:function(){return 7}}).a})},5439:(t,e,r)=>{\"use strict\";var i=r(51798),n=Function.prototype,s=n.apply,a=n.call;t.exports=\"object\"==typeof Reflect&&Reflect.apply||(i?a.bind(s):function(){return a.apply(s,arguments)})},6395:(t,e,r)=>{\"use strict\";var i=r(95945),n=r(11190),s=r(86867),a=\"__core-js_shared__\",o=t.exports=n[a]||s(a,{});(o.versions||(o.versions=[])).push({version:\"3.45.1\",mode:i?\"pure\":\"global\",copyright:\"\\xa9 2014-2025 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE\",source:\"https://github.com/zloirock/core-js\"})},6750:(t,e,r)=>{\"use strict\";var i=r(58827),n=r(52723),s=r(92419),a=r(40687),o=r(64135).f,h=r(62586),u=r(979),l=r(95945),c=r(20170),g=\"Array Iterator\",p=a.set,f=a.getterFor(g);t.exports=h(Array,\"Array\",function(t,e){p(this,{type:g,target:i(t),index:0,kind:e})},function(){var t=f(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case\"keys\":return u(r,!1);case\"values\":return u(e[r],!1)}return u([r,e[r]],!1)},\"values\");var d=s.Arguments=s.Array;if(n(\"keys\"),n(\"values\"),n(\"entries\"),!l&&c&&\"values\"!==d.name)try{o(d,\"name\",{value:\"values\"})}catch(y){}},8854:(t,e,r)=>{\"use strict\";var i={};i[r(50453)(\"toStringTag\")]=\"z\",t.exports=\"[object z]\"===String(i)},9781:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(98009),s=r(25793),a=r(31524),o=i(\"\".charAt),h=i(\"\".charCodeAt),u=i(\"\".slice),l=function(t){return function(e,r){var i,l,c=s(a(e)),g=n(r),p=c.length;return g<0||g>=p?t?\"\":void 0:(i=h(c,g))<55296||i>56319||g+1===p||(l=h(c,g+1))<56320||l>57343?t?o(c,g):i:t?u(c,g,g+2):l-56320+(i-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},11190:function(t,e,r){\"use strict\";var i=function(t){return t&&t.Math===Math&&t};t.exports=i(\"object\"==typeof globalThis&&globalThis)||i(\"object\"==typeof window&&window)||i(\"object\"==typeof self&&self)||i(\"object\"==typeof r.g&&r.g)||i(\"object\"==typeof this&&this)||function(){return this}()||Function(\"return this\")()},12341:t=>{\"use strict\";t.exports=function(t){try{return!!t()}catch(e){return!0}}},13441:(t,e,r)=>{\"use strict\";var i=r(55329),n=r(12341),s=r(11190).String;t.exports=!!Object.getOwnPropertySymbols&&!n(function(){var t=Symbol(\"symbol detection\");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41})},14194:(t,e,r)=>{\"use strict\";var i=r(96870),n=i({}.toString),s=i(\"\".slice);t.exports=function(t){return s(n(t),8,-1)}},14532:(t,e,r)=>{\"use strict\";var i=r(23331),n=r(51119),s=r(58171),a=r(45215),o=r(35929),h=RegExp.prototype;t.exports=a.correct?function(t){return t.flags}:function(t){return a.correct||!s(h,t)||n(t,\"flags\")?t.flags:i(o,t)}},14619:(t,e,r)=>{\"use strict\";var i=r(82925),n=r(98639),s=r(58171),a=r(25514),o=Object;t.exports=a?function(t){return\"symbol\"==typeof t}:function(t){var e=i(\"Symbol\");return n(e)&&s(e.prototype,o(t))}},14705:(t,e,r)=>{\"use strict\";var i=r(12341),n=r(11190).RegExp;t.exports=i(function(){var t=n(\".\",\"s\");return!(t.dotAll&&t.test(\"\\n\")&&\"s\"===t.flags)})},16978:(t,e,r)=>{\"use strict\";var i=r(5439),n=r(23331),s=r(96870),a=r(32010),o=r(12341),h=r(59833),u=r(98639),l=r(83220),c=r(98009),g=r(83344),p=r(25793),f=r(31524),d=r(58967),y=r(82368),v=r(36688),m=r(14532),x=r(26744),b=r(50453)(\"replace\"),S=Math.max,w=Math.min,T=s([].concat),A=s([].push),O=s(\"\".indexOf),C=s(\"\".slice),P=function(t){return void 0===t?t:String(t)},E=\"$0\"===\"a\".replace(/./,\"$0\"),M=!!/./[b]&&\"\"===/./[b](\"a\",\"$0\");a(\"replace\",function(t,e,r){var s=M?\"$\":\"$0\";return[function(t,r){var i=f(this),s=l(t)?y(t,b):void 0;return s?n(s,t,i,r):n(e,p(i),t,r)},function(t,n){var a=h(this),o=p(t);if(\"string\"==typeof n&&-1===O(n,s)&&-1===O(n,\"$<\")){var l=r(e,a,o,n);if(l.done)return l.value}var f=u(n);f||(n=p(n));var y,b=p(m(a)),E=-1!==O(b,\"g\");E&&(y=-1!==O(b,\"u\"),a.lastIndex=0);for(var M,N=[];null!==(M=x(a,o))&&(A(N,M),E);){\"\"===p(M[0])&&(a.lastIndex=d(o,g(a.lastIndex),y))}for(var _=\"\",V=0,R=0;R<N.length;R++){for(var k,I=p((M=N[R])[0]),L=S(w(c(M.index),o.length),0),D=[],B=1;B<M.length;B++)A(D,P(M[B]));var z=M.groups;if(f){var F=T([I],D,L,o);void 0!==z&&A(F,z),k=p(i(n,void 0,F))}else k=v(I,o,L,D,z,n);L>=V&&(_+=C(o,V,L)+k,V=L+I.length)}return _+C(o,V)}]},!!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")})||!E||M)},20170:(t,e,r)=>{\"use strict\";var i=r(12341);t.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},20925:t=>{t.exports=function(t){this.ok=!1,this.alpha=1,\"#\"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,\"\")).toLowerCase();var e={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"00ffff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000000\",blanchedalmond:\"ffebcd\",blue:\"0000ff\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"00ffff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dodgerblue:\"1e90ff\",feldspar:\"d19275\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"ff00ff\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgrey:\"d3d3d3\",lightgreen:\"90ee90\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslateblue:\"8470ff\",lightslategray:\"778899\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"00ff00\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"ff00ff\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370d8\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"d87093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"ff0000\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",violetred:\"d02090\",wheat:\"f5deb3\",white:\"ffffff\",whitesmoke:\"f5f5f5\",yellow:\"ffff00\",yellowgreen:\"9acd32\"};t=e[t]||t;for(var r=[{re:/^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*((?:\\d?\\.)?\\d)\\)$/,example:[\"rgba(123, 234, 45, 0.8)\",\"rgba(255,234,245,1.0)\"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,example:[\"rgb(123, 234, 45)\",\"rgb(255,234,245)\"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:[\"#00ff00\",\"336699\"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:[\"#fb0\",\"f0f\"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<r.length;i++){var n=r[i].re,s=r[i].process,a=n.exec(t);if(a){var o=s(a);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return\"rgb(\"+this.r+\", \"+this.g+\", \"+this.b+\")\"},this.toRGBA=function(){return\"rgba(\"+this.r+\", \"+this.g+\", \"+this.b+\", \"+this.alpha+\")\"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return 1==t.length&&(t=\"0\"+t),1==e.length&&(e=\"0\"+e),1==r.length&&(r=\"0\"+r),\"#\"+t+e+r},this.getHelpXML=function(){for(var t=new Array,i=0;i<r.length;i++)for(var n=r[i].example,s=0;s<n.length;s++)t[t.length]=n[s];for(var a in e)t[t.length]=a;var o=document.createElement(\"ul\");o.setAttribute(\"id\",\"rgbcolor-examples\");for(i=0;i<t.length;i++)try{var h=document.createElement(\"li\"),u=new RGBColor(t[i]),l=document.createElement(\"div\");l.style.cssText=\"margin: 3px; border: 1px solid black; background:\"+u.toHex()+\"; color:\"+u.toHex(),l.appendChild(document.createTextNode(\"test\"));var c=document.createTextNode(\" \"+t[i]+\" -> \"+u.toRGB()+\" -> \"+u.toHex());h.appendChild(l),h.appendChild(c),o.appendChild(h)}catch(g){}return o}}},21326:(t,e,r)=>{\"use strict\";var i=r(12341),n=r(98639),s=/#|\\.prototype\\./,a=function(t,e){var r=h[o(t)];return r===l||r!==u&&(n(e)?i(e):!!e)},o=a.normalize=function(t){return String(t).replace(s,\".\").toLowerCase()},h=a.data={},u=a.NATIVE=\"N\",l=a.POLYFILL=\"P\";t.exports=a},21607:(t,e,r)=>{\"use strict\";var i=r(82925);t.exports=i(\"document\",\"documentElement\")},22512:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(98639),s=r(6395),a=i(Function.toString);n(s.inspectSource)||(s.inspectSource=function(t){return a(t)}),t.exports=s.inspectSource},23331:(t,e,r)=>{\"use strict\";var i=r(51798),n=Function.prototype.call;t.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},24155:(t,e,r)=>{\"use strict\";var i=r(20170),n=r(52724),s=r(64135),a=r(59833),o=r(58827),h=r(40798);e.f=i&&!n?Object.defineProperties:function(t,e){a(t);for(var r,i=o(e),n=h(e),u=n.length,l=0;u>l;)s.f(t,r=n[l++],i[r]);return t}},24202:t=>{\"use strict\";t.exports=\"\\t\\n\\v\\f\\r \\xa0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff\"},25443:t=>{\"use strict\";t.exports=function(t){return null===t||void 0===t}},25514:(t,e,r)=>{\"use strict\";var i=r(13441);t.exports=i&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator},25637:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(12341),s=r(98639),a=r(51119),o=r(20170),h=r(44364).CONFIGURABLE,u=r(22512),l=r(40687),c=l.enforce,g=l.get,p=String,f=Object.defineProperty,d=i(\"\".slice),y=i(\"\".replace),v=i([].join),m=o&&!n(function(){return 8!==f(function(){},\"length\",{value:8}).length}),x=String(String).split(\"String\"),b=t.exports=function(t,e,r){\"Symbol(\"===d(p(e),0,7)&&(e=\"[\"+y(p(e),/^Symbol\\(([^)]*)\\).*$/,\"$1\")+\"]\"),r&&r.getter&&(e=\"get \"+e),r&&r.setter&&(e=\"set \"+e),(!a(t,\"name\")||h&&t.name!==e)&&(o?f(t,\"name\",{value:e,configurable:!0}):t.name=e),m&&r&&a(r,\"arity\")&&t.length!==r.arity&&f(t,\"length\",{value:r.arity});try{r&&a(r,\"constructor\")&&r.constructor?o&&f(t,\"prototype\",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(n){}var i=c(t);return a(i,\"source\")||(i.source=v(x,\"string\"==typeof e?e:\"\")),t};Function.prototype.toString=b(function(){return s(this)&&g(this).source||u(this)},\"toString\")},25793:(t,e,r)=>{\"use strict\";var i=r(68645),n=String;t.exports=function(t){if(\"Symbol\"===i(t))throw new TypeError(\"Cannot convert a Symbol value to a string\");return n(t)}},26744:(t,e,r)=>{\"use strict\";var i=r(23331),n=r(59833),s=r(98639),a=r(14194),o=r(51117),h=TypeError;t.exports=function(t,e){var r=t.exec;if(s(r)){var u=i(r,t,e);return null!==u&&n(u),u}if(\"RegExp\"===a(t))return i(o,t,e);throw new h(\"RegExp#exec called on incompatible receiver\")}},27045:(t,e,r)=>{\"use strict\";var i=r(20170),n=r(23331),s=r(1271),a=r(80398),o=r(58827),h=r(31779),u=r(51119),l=r(2099),c=Object.getOwnPropertyDescriptor;e.f=i?c:function(t,e){if(t=o(t),e=h(e),l)try{return c(t,e)}catch(r){}if(u(t,e))return a(!n(s.f,t,e),t[e])}},27092:(t,e,r)=>{\"use strict\";var i=r(81271).IteratorPrototype,n=r(45198),s=r(80398),a=r(93969),o=r(92419),h=function(){return this};t.exports=function(t,e,r,u){var l=e+\" Iterator\";return t.prototype=n(i,{next:s(+!u,r)}),a(t,l,!1,!0),o[l]=h,t}},28656:(t,e,r)=>{\"use strict\";var i=r(95291),n=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(\"Can't set \"+n(t)+\" as a prototype\")}},30044:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(31524),s=r(25793),a=r(24202),o=i(\"\".replace),h=RegExp(\"^[\"+a+\"]+\"),u=RegExp(\"(^|[^\"+a+\"])[\"+a+\"]+$\"),l=function(t){return function(e){var r=s(n(e));return 1&t&&(r=o(r,h,\"\")),2&t&&(r=o(r,u,\"$1\")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},30981:(t,e,r)=>{\"use strict\";var i=r(71620),n=r(83220),s=r(31524),a=r(28656);t.exports=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var t,e=!1,r={};try{(t=i(Object.prototype,\"__proto__\",\"set\"))(r,[]),e=r instanceof Array}catch(o){}return function(r,i){return s(r),a(i),n(r)?(e?t(r,i):r.__proto__=i,r):r}}():void 0)},31524:(t,e,r)=>{\"use strict\";var i=r(25443),n=TypeError;t.exports=function(t){if(i(t))throw new n(\"Can't call method on \"+t);return t}},31603:(t,e,r)=>{\"use strict\";var i=r(11190),n=r(60774),s=r(56026),a=r(6750),o=r(40009),h=r(93969),u=r(50453)(\"iterator\"),l=a.values,c=function(t,e){if(t){if(t[u]!==l)try{o(t,u,l)}catch(i){t[u]=l}if(h(t,e,!0),n[e])for(var r in a)if(t[r]!==a[r])try{o(t,r,a[r])}catch(i){t[r]=a[r]}}};for(var g in n)c(i[g]&&i[g].prototype,g);c(s,\"DOMTokenList\")},31779:(t,e,r)=>{\"use strict\";var i=r(99039),n=r(14619);t.exports=function(t){var e=i(t,\"string\");return n(e)?e:e+\"\"}},32010:(t,e,r)=>{\"use strict\";r(96217);var i=r(23331),n=r(68062),s=r(51117),a=r(12341),o=r(50453),h=r(40009),u=o(\"species\"),l=RegExp.prototype;t.exports=function(t,e,r,c){var g=o(t),p=!a(function(){var e={};return e[g]=function(){return 7},7!==\"\"[t](e)}),f=p&&!a(function(){var e=!1,r=/a/;return\"split\"===t&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags=\"\",r[g]=/./[g]),r.exec=function(){return e=!0,null},r[g](\"\"),!e});if(!p||!f||r){var d=/./[g],y=e(g,\"\"[t],function(t,e,r,n,a){var o=e.exec;return o===s||o===l.exec?p&&!a?{done:!0,value:i(d,e,r,n)}:{done:!0,value:i(t,r,e,n)}:{done:!1}});n(String.prototype,t,y[0]),n(l,g,y[1])}c&&h(l[g],\"sham\",!0)}},32062:(t,e,r)=>{\"use strict\";var i=r(14194);t.exports=Array.isArray||function(t){return\"Array\"===i(t)}},32781:(t,e,r)=>{\"use strict\";var i=r(11190),n=r(83220),s=i.document,a=n(s)&&n(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},35589:(t,e,r)=>{\"use strict\";var i=r(82925),n=r(96870),s=r(79626),a=r(43263),o=r(59833),h=n([].concat);t.exports=i(\"Reflect\",\"ownKeys\")||function(t){var e=s.f(o(t)),r=a.f;return r?h(e,r(t)):e}},35765:function(t){(function(){var e,r,i,n,s,a;\"undefined\"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:\"undefined\"!==typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-s)/1e6},r=process.hrtime,n=(e=function(){var t;return 1e9*(t=r())[0]+t[1]})(),a=1e9*process.uptime(),s=n-a):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},35929:(t,e,r)=>{\"use strict\";var i=r(59833);t.exports=function(){var t=i(this),e=\"\";return t.hasIndices&&(e+=\"d\"),t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.unicodeSets&&(e+=\"v\"),t.sticky&&(e+=\"y\"),e}},36623:(t,e,r)=>{\"use strict\";var i=r(12341),n=r(11190).RegExp,s=i(function(){var t=n(\"a\",\"y\");return t.lastIndex=2,null!==t.exec(\"abcd\")}),a=s||i(function(){return!n(\"a\",\"y\").sticky}),o=s||i(function(){var t=n(\"^r\",\"gy\");return t.lastIndex=2,null!==t.exec(\"str\")});t.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:s}},36688:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(79831),s=Math.floor,a=i(\"\".charAt),o=i(\"\".replace),h=i(\"\".slice),u=/\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,l=/\\$([$&'`]|\\d{1,2})/g;t.exports=function(t,e,r,i,c,g){var p=r+t.length,f=i.length,d=l;return void 0!==c&&(c=n(c),d=u),o(g,d,function(n,o){var u;switch(a(o,0)){case\"$\":return\"$\";case\"&\":return t;case\"`\":return h(e,0,r);case\"'\":return h(e,p);case\"<\":u=c[h(o,1,-1)];break;default:var l=+o;if(0===l)return n;if(l>f){var g=s(l/10);return 0===g?n:g<=f?void 0===i[g-1]?a(o,1):i[g-1]+a(o,1):n}u=i[l-1]}return void 0===u?\"\":u})}},40009:(t,e,r)=>{\"use strict\";var i=r(20170),n=r(64135),s=r(80398);t.exports=i?function(t,e,r){return n.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t}},40687:(t,e,r)=>{\"use strict\";var i,n,s,a=r(88896),o=r(11190),h=r(83220),u=r(40009),l=r(51119),c=r(6395),g=r(53141),p=r(91471),f=\"Object already initialized\",d=o.TypeError,y=o.WeakMap;if(a||c.state){var v=c.state||(c.state=new y);v.get=v.get,v.has=v.has,v.set=v.set,i=function(t,e){if(v.has(t))throw new d(f);return e.facade=t,v.set(t,e),e},n=function(t){return v.get(t)||{}},s=function(t){return v.has(t)}}else{var m=g(\"state\");p[m]=!0,i=function(t,e){if(l(t,m))throw new d(f);return e.facade=t,u(t,m,e),e},n=function(t){return l(t,m)?t[m]:{}},s=function(t){return l(t,m)}}t.exports={set:i,get:n,has:s,enforce:function(t){return s(t)?n(t):i(t,{})},getterFor:function(t){return function(e){var r;if(!h(e)||(r=n(e)).type!==t)throw new d(\"Incompatible receiver, \"+t+\" required\");return r}}}},40798:(t,e,r)=>{\"use strict\";var i=r(79410),n=r(633);t.exports=Object.keys||function(t){return i(t,n)}},43263:(t,e)=>{\"use strict\";e.f=Object.getOwnPropertySymbols},44364:(t,e,r)=>{\"use strict\";var i=r(20170),n=r(51119),s=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,o=n(s,\"name\"),h=o&&\"something\"===function(){}.name,u=o&&(!i||i&&a(s,\"name\").configurable);t.exports={EXISTS:o,PROPER:h,CONFIGURABLE:u}},45198:(t,e,r)=>{\"use strict\";var i,n=r(59833),s=r(24155),a=r(633),o=r(91471),h=r(21607),u=r(32781),l=r(53141),c=\"prototype\",g=\"script\",p=l(\"IE_PROTO\"),f=function(){},d=function(t){return\"<\"+g+\">\"+t+\"</\"+g+\">\"},y=function(t){t.write(d(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{i=new ActiveXObject(\"htmlfile\")}catch(e){}v=\"undefined\"!=typeof document?document.domain&&i?y(i):function(){var t,e=u(\"iframe\"),r=\"java\"+g+\":\";return e.style.display=\"none\",h.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(d(\"document.F=Object\")),t.close(),t.F}():y(i);for(var t=a.length;t--;)delete v[c][a[t]];return v()};o[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f[c]=n(t),r=new f,f[c]=null,r[p]=t):r=v(),void 0===e?r:s.f(r,e)}},45215:(t,e,r)=>{\"use strict\";var i=r(11190),n=r(12341),s=i.RegExp,a=!n(function(){var t=!0;try{s(\".\",\"d\")}catch(h){t=!1}var e={},r=\"\",i=t?\"dgimsy\":\"gimsy\",n=function(t,i){Object.defineProperty(e,t,{get:function(){return r+=i,!0}})},a={dotAll:\"s\",global:\"g\",ignoreCase:\"i\",multiline:\"m\",sticky:\"y\"};for(var o in t&&(a.hasIndices=\"d\"),a)n(o,a[o]);return Object.getOwnPropertyDescriptor(s.prototype,\"flags\").get.call(e)!==i||r!==i});t.exports={correct:a}},45768:(t,e,r)=>{for(var i=r(35765),n=\"undefined\"===typeof window?r.g:window,s=[\"moz\",\"webkit\"],a=\"AnimationFrame\",o=n[\"request\"+a],h=n[\"cancel\"+a]||n[\"cancelRequest\"+a],u=0;!o&&u<s.length;u++)o=n[s[u]+\"Request\"+a],h=n[s[u]+\"Cancel\"+a]||n[s[u]+\"CancelRequest\"+a];if(!o||!h){var l=0,c=0,g=[],p=1e3/60;o=function(t){if(0===g.length){var e=i(),r=Math.max(0,p-(e-l));l=r+e,setTimeout(function(){var t=g.slice(0);g.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(r){setTimeout(function(){throw r},0)}},Math.round(r))}return g.push({handle:++c,callback:t,cancelled:!1}),c},h=function(t){for(var e=0;e<g.length;e++)g[e].handle===t&&(g[e].cancelled=!0)}}t.exports=function(t){return o.call(n,t)},t.exports.cancel=function(){h.apply(n,arguments)},t.exports.polyfill=function(t){t||(t=n),t.requestAnimationFrame=o,t.cancelAnimationFrame=h}},46064:(t,e,r)=>{\"use strict\";var i=r(11190),n=r(27045).f,s=r(40009),a=r(68062),o=r(86867),h=r(70810),u=r(21326);t.exports=function(t,e){var r,l,c,g,p,f=t.target,d=t.global,y=t.stat;if(r=d?i:y?i[f]||o(f,{}):i[f]&&i[f].prototype)for(l in e){if(g=e[l],c=t.dontCallGetSet?(p=n(r,l))&&p.value:r[l],!u(d?l:f+(y?\".\":\"#\")+l,t.forced)&&void 0!==c){if(typeof g==typeof c)continue;h(g,c)}(t.sham||c&&c.sham)&&s(g,\"sham\",!0),a(r,l,g,t)}}},50453:(t,e,r)=>{\"use strict\";var i=r(11190),n=r(63019),s=r(51119),a=r(79110),o=r(13441),h=r(25514),u=i.Symbol,l=n(\"wks\"),c=h?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return s(l,t)||(l[t]=o&&s(u,t)?u[t]:c(\"Symbol.\"+t)),l[t]}},51117:(t,e,r)=>{\"use strict\";var i=r(23331),n=r(96870),s=r(25793),a=r(35929),o=r(36623),h=r(63019),u=r(45198),l=r(40687).get,c=r(14705),g=r(88820),p=h(\"native-string-replace\",String.prototype.replace),f=RegExp.prototype.exec,d=f,y=n(\"\".charAt),v=n(\"\".indexOf),m=n(\"\".replace),x=n(\"\".slice),b=function(){var t=/a/,e=/b*/g;return i(f,t,\"a\"),i(f,e,\"a\"),0!==t.lastIndex||0!==e.lastIndex}(),S=o.BROKEN_CARET,w=void 0!==/()??/.exec(\"\")[1];(b||w||S||c||g)&&(d=function(t){var e,r,n,o,h,c,g,T=this,A=l(T),O=s(t),C=A.raw;if(C)return C.lastIndex=T.lastIndex,e=i(d,C,O),T.lastIndex=C.lastIndex,e;var P=A.groups,E=S&&T.sticky,M=i(a,T),N=T.source,_=0,V=O;if(E&&(M=m(M,\"y\",\"\"),-1===v(M,\"g\")&&(M+=\"g\"),V=x(O,T.lastIndex),T.lastIndex>0&&(!T.multiline||T.multiline&&\"\\n\"!==y(O,T.lastIndex-1))&&(N=\"(?: \"+N+\")\",V=\" \"+V,_++),r=new RegExp(\"^(?:\"+N+\")\",M)),w&&(r=new RegExp(\"^\"+N+\"$(?!\\\\s)\",M)),b&&(n=T.lastIndex),o=i(f,E?r:T,V),E?o?(o.input=x(o.input,_),o[0]=x(o[0],_),o.index=T.lastIndex,T.lastIndex+=o[0].length):T.lastIndex=0:b&&o&&(T.lastIndex=T.global?o.index+o[0].length:n),w&&o&&o.length>1&&i(p,o[0],r,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(o[h]=void 0)}),o&&P)for(o.groups=c=u(null),h=0;h<P.length;h++)c[(g=P[h])[0]]=o[g[1]];return o}),t.exports=d},51119:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(79831),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(n(t),e)}},51798:(t,e,r)=>{\"use strict\";var i=r(12341);t.exports=!i(function(){var t=function(){}.bind();return\"function\"!=typeof t||t.hasOwnProperty(\"prototype\")})},51909:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(12341),s=r(14194),a=Object,o=i(\"\".split);t.exports=n(function(){return!a(\"z\").propertyIsEnumerable(0)})?function(t){return\"String\"===s(t)?o(t,\"\"):a(t)}:a},52723:(t,e,r)=>{\"use strict\";var i=r(50453),n=r(45198),s=r(64135).f,a=i(\"unscopables\"),o=Array.prototype;void 0===o[a]&&s(o,a,{configurable:!0,value:n(null)}),t.exports=function(t){o[a][t]=!0}},52724:(t,e,r)=>{\"use strict\";var i=r(20170),n=r(12341);t.exports=i&&n(function(){return 42!==Object.defineProperty(function(){},\"prototype\",{value:42,writable:!1}).prototype})},52959:(t,e,r)=>{\"use strict\";var i=r(58827),n=r(75292),s=r(72692),a=function(t){return function(e,r,a){var o=i(e),h=s(o);if(0===h)return!t&&-1;var u,l=n(a,h);if(t&&r!==r){for(;h>l;)if((u=o[l++])!==u)return!0}else for(;h>l;l++)if((t||l in o)&&o[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},53141:(t,e,r)=>{\"use strict\";var i=r(63019),n=r(79110),s=i(\"keys\");t.exports=function(t){return s[t]||(s[t]=n(t))}},53504:(t,e,r)=>{\"use strict\";var i=r(44364).PROPER,n=r(12341),s=r(24202);t.exports=function(t){return n(function(){return!!s[t]()||\"\\u200b\\x85\\u180e\"!==\"\\u200b\\x85\\u180e\"[t]()||i&&s[t].name!==t})}},55329:(t,e,r)=>{\"use strict\";var i,n,s=r(11190),a=r(65953),o=s.process,h=s.Deno,u=o&&o.versions||h&&h.version,l=u&&u.v8;l&&(n=(i=l.split(\".\"))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&a&&(!(i=a.match(/Edge\\/(\\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\\/(\\d+)/))&&(n=+i[1]),t.exports=n},56026:(t,e,r)=>{\"use strict\";var i=r(32781)(\"span\").classList,n=i&&i.constructor&&i.constructor.prototype;t.exports=n===Object.prototype?void 0:n},58171:(t,e,r)=>{\"use strict\";var i=r(96870);t.exports=i({}.isPrototypeOf)},58799:(t,e,r)=>{\"use strict\";function i(t,e,r,i,n,s,a){try{var o=t[s](a),h=o.value}catch(t){return void r(t)}o.done?e(h):Promise.resolve(h).then(i,n)}function n(t){return function(){var e=this,r=arguments;return new Promise(function(n,s){var a=t.apply(e,r);function o(t){i(a,n,s,o,h,\"next\",t)}function h(t){i(a,n,s,o,h,\"throw\",t)}o(void 0)})}}r.r(e),r.d(e,{AElement:()=>ce,AnimateColorElement:()=>se,AnimateElement:()=>ne,AnimateTransformElement:()=>ae,BoundingBox:()=>It,CB1:()=>nt,CB2:()=>st,CB3:()=>at,CB4:()=>ot,Canvg:()=>He,CircleElement:()=>Yt,ClipPathElement:()=>Ee,DefsElement:()=>Kt,DescElement:()=>Ie,Document:()=>ze,Element:()=>Mt,EllipseElement:()=>qt,FeColorMatrixElement:()=>Oe,FeCompositeElement:()=>Ve,FeDropShadowElement:()=>Ne,FeGaussianBlurElement:()=>Re,FeMorphologyElement:()=>_e,FilterElement:()=>Me,Font:()=>kt,FontElement:()=>oe,FontFaceElement:()=>he,GElement:()=>Jt,GlyphElement:()=>zt,GradientElement:()=>te,ImageElement:()=>ye,LineElement:()=>Gt,LinearGradientElement:()=>ee,MarkerElement:()=>Zt,MaskElement:()=>Ce,Matrix:()=>At,MissingGlyphElement:()=>ue,Mouse:()=>ft,PSEUDO_ZERO:()=>tt,Parser:()=>bt,PathElement:()=>Bt,PathParser:()=>Lt,PatternElement:()=>$t,Point:()=>pt,PolygonElement:()=>Qt,PolylineElement:()=>Wt,Property:()=>ct,QB1:()=>ht,QB2:()=>ut,QB3:()=>lt,RadialGradientElement:()=>re,RectElement:()=>Xt,RenderedElement:()=>Dt,Rotate:()=>wt,SVGElement:()=>Ut,SVGFontLoader:()=>me,Scale:()=>Tt,Screen:()=>vt,Skew:()=>Ot,SkewX:()=>Ct,SkewY:()=>Pt,StopElement:()=>ie,StyleElement:()=>xe,SymbolElement:()=>ve,TRefElement:()=>le,TSpanElement:()=>jt,TextElement:()=>Ft,TextPathElement:()=>fe,TitleElement:()=>ke,Transform:()=>Et,Translate:()=>St,UnknownElement:()=>Nt,UseElement:()=>be,ViewPort:()=>gt,compressSpaces:()=>D,default:()=>He,getSelectorSpecificity:()=>J,normalizeAttributeName:()=>H,normalizeColor:()=>X,parseExternalUrl:()=>U,presets:()=>L,toNumbers:()=>F,trimLeft:()=>B,trimRight:()=>z,vectorMagnitude:()=>et,vectorsAngle:()=>it,vectorsRatio:()=>rt});r(16978),r(31603);var s=r(40694);function a(t){var e=function(t,e){if(\"object\"!=(0,s.A)(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||\"default\");if(\"object\"!=(0,s.A)(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==(0,s.A)(e)?e:e+\"\"}function o(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h=r(45768),u=(r(73588),r(20925)),l=(r(88880),function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)});function c(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function g(t,e){var r=t[0],i=t[1];return[r*Math.cos(e)-i*Math.sin(e),r*Math.sin(e)+i*Math.cos(e)]}function p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++)if(\"number\"!=typeof t[r])throw new Error(\"assertNumbers arguments[\"+r+\"] is not a number. \"+typeof t[r]+\" == typeof \"+t[r]);return!0}var f=Math.PI;function d(t,e,r){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var i=t.rX,n=t.rY,s=t.x,a=t.y;i=Math.abs(t.rX),n=Math.abs(t.rY);var o=g([(e-s)/2,(r-a)/2],-t.xRot/180*f),h=o[0],u=o[1],l=Math.pow(h,2)/Math.pow(i,2)+Math.pow(u,2)/Math.pow(n,2);1<l&&(i*=Math.sqrt(l),n*=Math.sqrt(l)),t.rX=i,t.rY=n;var c=Math.pow(i,2)*Math.pow(u,2)+Math.pow(n,2)*Math.pow(h,2),p=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(i,2)*Math.pow(n,2)-c)/c)),d=i*u/n*p,y=-n*h/i*p,v=g([d,y],t.xRot/180*f);t.cX=v[0]+(e+s)/2,t.cY=v[1]+(r+a)/2,t.phi1=Math.atan2((u-y)/n,(h-d)/i),t.phi2=Math.atan2((-u-y)/n,(-h-d)/i),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*f),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*f),t.phi1*=180/f,t.phi2*=180/f}function y(t,e,r){p(t,e,r);var i=t*t+e*e-r*r;if(0>i)return[];if(0===i)return[[t*r/(t*t+e*e),e*r/(t*t+e*e)]];var n=Math.sqrt(i);return[[(t*r+e*n)/(t*t+e*e),(e*r-t*n)/(t*t+e*e)],[(t*r-e*n)/(t*t+e*e),(e*r+t*n)/(t*t+e*e)]]}var v,m=Math.PI/180;function x(t,e,r){return(1-r)*t+r*e}function b(t,e,r,i){return t+Math.cos(i/180*f)*e+Math.sin(i/180*f)*r}function S(t,e,r,i){var n=1e-6,s=e-t,a=r-e,o=3*s+3*(i-r)-6*a,h=6*(a-s),u=3*s;return Math.abs(o)<n?[-u/h]:function(t,e,r){void 0===r&&(r=1e-6);var i=t*t/4-e;if(i<-r)return[];if(i<=r)return[-t/2];var n=Math.sqrt(i);return[-t/2-n,-t/2+n]}(h/o,u/o,n)}function w(t,e,r,i,n){var s=1-n;return t*(s*s*s)+e*(3*s*s*n)+r*(3*s*n*n)+i*(n*n*n)}!function(t){function e(){return n(function(t,e,r){return t.relative&&(void 0!==t.x1&&(t.x1+=e),void 0!==t.y1&&(t.y1+=r),void 0!==t.x2&&(t.x2+=e),void 0!==t.y2&&(t.y2+=r),void 0!==t.x&&(t.x+=e),void 0!==t.y&&(t.y+=r),t.relative=!1),t})}function r(){var t=NaN,e=NaN,r=NaN,i=NaN;return n(function(n,s,a){return n.type&E.SMOOTH_CURVE_TO&&(n.type=E.CURVE_TO,t=isNaN(t)?s:t,e=isNaN(e)?a:e,n.x1=n.relative?s-t:2*s-t,n.y1=n.relative?a-e:2*a-e),n.type&E.CURVE_TO?(t=n.relative?s+n.x2:n.x2,e=n.relative?a+n.y2:n.y2):(t=NaN,e=NaN),n.type&E.SMOOTH_QUAD_TO&&(n.type=E.QUAD_TO,r=isNaN(r)?s:r,i=isNaN(i)?a:i,n.x1=n.relative?s-r:2*s-r,n.y1=n.relative?a-i:2*a-i),n.type&E.QUAD_TO?(r=n.relative?s+n.x1:n.x1,i=n.relative?a+n.y1:n.y1):(r=NaN,i=NaN),n})}function i(){var t=NaN,e=NaN;return n(function(r,i,n){if(r.type&E.SMOOTH_QUAD_TO&&(r.type=E.QUAD_TO,t=isNaN(t)?i:t,e=isNaN(e)?n:e,r.x1=r.relative?i-t:2*i-t,r.y1=r.relative?n-e:2*n-e),r.type&E.QUAD_TO){t=r.relative?i+r.x1:r.x1,e=r.relative?n+r.y1:r.y1;var s=r.x1,a=r.y1;r.type=E.CURVE_TO,r.x1=((r.relative?0:i)+2*s)/3,r.y1=((r.relative?0:n)+2*a)/3,r.x2=(r.x+2*s)/3,r.y2=(r.y+2*a)/3}else t=NaN,e=NaN;return r})}function n(t){var e=0,r=0,i=NaN,n=NaN;return function(s){if(isNaN(i)&&!(s.type&E.MOVE_TO))throw new Error(\"path must start with moveto\");var a=t(s,e,r,i,n);return s.type&E.CLOSE_PATH&&(e=i,r=n),void 0!==s.x&&(e=s.relative?e+s.x:s.x),void 0!==s.y&&(r=s.relative?r+s.y:s.y),s.type&E.MOVE_TO&&(i=e,n=r),a}}function s(t,e,r,i,s,a){return p(t,e,r,i,s,a),n(function(n,o,h,u){var l=n.x1,c=n.x2,g=n.relative&&!isNaN(u),p=void 0!==n.x?n.x:g?0:o,f=void 0!==n.y?n.y:g?0:h;function d(t){return t*t}n.type&E.HORIZ_LINE_TO&&0!==e&&(n.type=E.LINE_TO,n.y=n.relative?0:h),n.type&E.VERT_LINE_TO&&0!==r&&(n.type=E.LINE_TO,n.x=n.relative?0:o),void 0!==n.x&&(n.x=n.x*t+f*r+(g?0:s)),void 0!==n.y&&(n.y=p*e+n.y*i+(g?0:a)),void 0!==n.x1&&(n.x1=n.x1*t+n.y1*r+(g?0:s)),void 0!==n.y1&&(n.y1=l*e+n.y1*i+(g?0:a)),void 0!==n.x2&&(n.x2=n.x2*t+n.y2*r+(g?0:s)),void 0!==n.y2&&(n.y2=c*e+n.y2*i+(g?0:a));var y=t*i-e*r;if(void 0!==n.xRot&&(1!==t||0!==e||0!==r||1!==i))if(0===y)delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag,n.type=E.LINE_TO;else{var v=n.xRot*Math.PI/180,m=Math.sin(v),x=Math.cos(v),b=1/d(n.rX),S=1/d(n.rY),w=d(x)*b+d(m)*S,T=2*m*x*(b-S),A=d(m)*b+d(x)*S,O=w*i*i-T*e*i+A*e*e,C=T*(t*i+e*r)-2*(w*r*i+A*t*e),P=w*r*r-T*t*r+A*t*t,M=(Math.atan2(C,O-P)+Math.PI)%Math.PI/2,N=Math.sin(M),_=Math.cos(M);n.rX=Math.abs(y)/Math.sqrt(O*d(_)+C*N*_+P*d(N)),n.rY=Math.abs(y)/Math.sqrt(O*d(N)-C*N*_+P*d(_)),n.xRot=180*M/Math.PI}return void 0!==n.sweepFlag&&0>y&&(n.sweepFlag=+!n.sweepFlag),n})}t.ROUND=function(t){function e(e){return Math.round(e*t)/t}return void 0===t&&(t=1e13),p(t),function(t){return void 0!==t.x1&&(t.x1=e(t.x1)),void 0!==t.y1&&(t.y1=e(t.y1)),void 0!==t.x2&&(t.x2=e(t.x2)),void 0!==t.y2&&(t.y2=e(t.y2)),void 0!==t.x&&(t.x=e(t.x)),void 0!==t.y&&(t.y=e(t.y)),void 0!==t.rX&&(t.rX=e(t.rX)),void 0!==t.rY&&(t.rY=e(t.rY)),t}},t.TO_ABS=e,t.TO_REL=function(){return n(function(t,e,r){return t.relative||(void 0!==t.x1&&(t.x1-=e),void 0!==t.y1&&(t.y1-=r),void 0!==t.x2&&(t.x2-=e),void 0!==t.y2&&(t.y2-=r),void 0!==t.x&&(t.x-=e),void 0!==t.y&&(t.y-=r),t.relative=!0),t})},t.NORMALIZE_HVZ=function(t,e,r){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),n(function(i,n,s,a,o){if(isNaN(a)&&!(i.type&E.MOVE_TO))throw new Error(\"path must start with moveto\");return e&&i.type&E.HORIZ_LINE_TO&&(i.type=E.LINE_TO,i.y=i.relative?0:s),r&&i.type&E.VERT_LINE_TO&&(i.type=E.LINE_TO,i.x=i.relative?0:n),t&&i.type&E.CLOSE_PATH&&(i.type=E.LINE_TO,i.x=i.relative?a-n:a,i.y=i.relative?o-s:o),i.type&E.ARC&&(0===i.rX||0===i.rY)&&(i.type=E.LINE_TO,delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag),i})},t.NORMALIZE_ST=r,t.QT_TO_C=i,t.INFO=n,t.SANITIZE=function(t){void 0===t&&(t=0),p(t);var e=NaN,r=NaN,i=NaN,s=NaN;return n(function(n,a,o,h,u){var l=Math.abs,c=!1,g=0,p=0;if(n.type&E.SMOOTH_CURVE_TO&&(g=isNaN(e)?0:a-e,p=isNaN(r)?0:o-r),n.type&(E.CURVE_TO|E.SMOOTH_CURVE_TO)?(e=n.relative?a+n.x2:n.x2,r=n.relative?o+n.y2:n.y2):(e=NaN,r=NaN),n.type&E.SMOOTH_QUAD_TO?(i=isNaN(i)?a:2*a-i,s=isNaN(s)?o:2*o-s):n.type&E.QUAD_TO?(i=n.relative?a+n.x1:n.x1,s=n.relative?o+n.y1:n.y2):(i=NaN,s=NaN),n.type&E.LINE_COMMANDS||n.type&E.ARC&&(0===n.rX||0===n.rY||!n.lArcFlag)||n.type&E.CURVE_TO||n.type&E.SMOOTH_CURVE_TO||n.type&E.QUAD_TO||n.type&E.SMOOTH_QUAD_TO){var f=void 0===n.x?0:n.relative?n.x:n.x-a,d=void 0===n.y?0:n.relative?n.y:n.y-o;g=isNaN(i)?void 0===n.x1?g:n.relative?n.x:n.x1-a:i-a,p=isNaN(s)?void 0===n.y1?p:n.relative?n.y:n.y1-o:s-o;var y=void 0===n.x2?0:n.relative?n.x:n.x2-a,v=void 0===n.y2?0:n.relative?n.y:n.y2-o;l(f)<=t&&l(d)<=t&&l(g)<=t&&l(p)<=t&&l(y)<=t&&l(v)<=t&&(c=!0)}return n.type&E.CLOSE_PATH&&l(a-h)<=t&&l(o-u)<=t&&(c=!0),c?[]:n})},t.MATRIX=s,t.ROTATE=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),p(t,e,r);var i=Math.sin(t),n=Math.cos(t);return s(n,i,-i,n,e-e*n+r*i,r-e*i-r*n)},t.TRANSLATE=function(t,e){return void 0===e&&(e=0),p(t,e),s(1,0,0,1,t,e)},t.SCALE=function(t,e){return void 0===e&&(e=t),p(t,e),s(t,0,0,e,0,0)},t.SKEW_X=function(t){return p(t),s(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return p(t),s(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),p(t),s(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),p(t),s(1,0,0,-1,0,t)},t.A_TO_C=function(){return n(function(t,e,r){return E.ARC===t.type?function(t,e,r){var i,n,s,a;t.cX||d(t,e,r);for(var o=Math.min(t.phi1,t.phi2),h=Math.max(t.phi1,t.phi2)-o,u=Math.ceil(h/90),l=new Array(u),c=e,p=r,f=0;f<u;f++){var y=x(t.phi1,t.phi2,f/u),v=x(t.phi1,t.phi2,(f+1)/u),b=v-y,S=4/3*Math.tan(b*m/4),w=[Math.cos(y*m)-S*Math.sin(y*m),Math.sin(y*m)+S*Math.cos(y*m)],T=w[0],A=w[1],O=[Math.cos(v*m),Math.sin(v*m)],C=O[0],P=O[1],M=[C+S*Math.sin(v*m),P-S*Math.cos(v*m)],N=M[0],_=M[1];l[f]={relative:t.relative,type:E.CURVE_TO};var V=function(e,r){var i=g([e*t.rX,r*t.rY],t.xRot),n=i[0],s=i[1];return[t.cX+n,t.cY+s]};i=V(T,A),l[f].x1=i[0],l[f].y1=i[1],n=V(N,_),l[f].x2=n[0],l[f].y2=n[1],s=V(C,P),l[f].x=s[0],l[f].y=s[1],t.relative&&(l[f].x1-=c,l[f].y1-=p,l[f].x2-=c,l[f].y2-=p,l[f].x-=c,l[f].y-=p),c=(a=[l[f].x,l[f].y])[0],p=a[1]}return l}(t,t.relative?0:e,t.relative?0:r):t})},t.ANNOTATE_ARCS=function(){return n(function(t,e,r){return t.relative&&(e=0,r=0),E.ARC===t.type&&d(t,e,r),t})},t.CLONE=function(){return function(t){var e={};for(var r in t)e[r]=t[r];return e}},t.CALCULATE_BOUNDS=function(){var t=e(),s=i(),a=r(),o=n(function(e,r,i){var n=a(s(t(function(t){var e={};for(var r in t)e[r]=t[r];return e}(e))));function h(t){t>o.maxX&&(o.maxX=t),t<o.minX&&(o.minX=t)}function u(t){t>o.maxY&&(o.maxY=t),t<o.minY&&(o.minY=t)}if(n.type&E.DRAWING_COMMANDS&&(h(r),u(i)),n.type&E.HORIZ_LINE_TO&&h(n.x),n.type&E.VERT_LINE_TO&&u(n.y),n.type&E.LINE_TO&&(h(n.x),u(n.y)),n.type&E.CURVE_TO){h(n.x),u(n.y);for(var l=0,c=S(r,n.x1,n.x2,n.x);l<c.length;l++)0<(R=c[l])&&1>R&&h(w(r,n.x1,n.x2,n.x,R));for(var g=0,p=S(i,n.y1,n.y2,n.y);g<p.length;g++)0<(R=p[g])&&1>R&&u(w(i,n.y1,n.y2,n.y,R))}if(n.type&E.ARC){h(n.x),u(n.y),d(n,r,i);for(var f=n.xRot/180*Math.PI,v=Math.cos(f)*n.rX,m=Math.sin(f)*n.rX,x=-Math.sin(f)*n.rY,T=Math.cos(f)*n.rY,A=n.phi1<n.phi2?[n.phi1,n.phi2]:-180>n.phi2?[n.phi2+360,n.phi1+360]:[n.phi2,n.phi1],O=A[0],C=A[1],P=function(t){var e=t[0],r=t[1],i=180*Math.atan2(r,e)/Math.PI;return i<O?i+360:i},M=0,N=y(x,-v,0).map(P);M<N.length;M++)(R=N[M])>O&&R<C&&h(b(n.cX,v,x,R));for(var _=0,V=y(T,-m,0).map(P);_<V.length;_++){var R;(R=V[_])>O&&R<C&&u(b(n.cY,m,T,R))}}return e});return o.minX=1/0,o.maxX=-1/0,o.minY=1/0,o.maxY=-1/0,o}}(v||(v={}));var T,A=function(){function t(){}return t.prototype.round=function(t){return this.transform(v.ROUND(t))},t.prototype.toAbs=function(){return this.transform(v.TO_ABS())},t.prototype.toRel=function(){return this.transform(v.TO_REL())},t.prototype.normalizeHVZ=function(t,e,r){return this.transform(v.NORMALIZE_HVZ(t,e,r))},t.prototype.normalizeST=function(){return this.transform(v.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(v.QT_TO_C())},t.prototype.aToC=function(){return this.transform(v.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(v.SANITIZE(t))},t.prototype.translate=function(t,e){return this.transform(v.TRANSLATE(t,e))},t.prototype.scale=function(t,e){return this.transform(v.SCALE(t,e))},t.prototype.rotate=function(t,e,r){return this.transform(v.ROTATE(t,e,r))},t.prototype.matrix=function(t,e,r,i,n,s){return this.transform(v.MATRIX(t,e,r,i,n,s))},t.prototype.skewX=function(t){return this.transform(v.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(v.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(v.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(v.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(v.ANNOTATE_ARCS())},t}(),O=function(t){return\" \"===t||\"\\t\"===t||\"\\r\"===t||\"\\n\"===t},C=function(t){return\"0\".charCodeAt(0)<=t.charCodeAt(0)&&t.charCodeAt(0)<=\"9\".charCodeAt(0)},P=function(t){function e(){var e=t.call(this)||this;return e.curNumber=\"\",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return c(e,t),e.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(\" \",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError(\"Unterminated command at the path end.\");return t},e.prototype.parse=function(t,e){var r=this;void 0===e&&(e=[]);for(var i=function(t){e.push(t),r.curArgs.length=0,r.canParseCommandOrComma=!0},n=0;n<t.length;n++){var s=t[n],a=!(this.curCommandType!==E.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||\"0\"!==this.curNumber&&\"1\"!==this.curNumber),o=C(s)&&(\"0\"===this.curNumber&&\"0\"===s||a);if(!C(s)||o)if(\"e\"!==s&&\"E\"!==s)if(\"-\"!==s&&\"+\"!==s||!this.curNumberHasExp||this.curNumberHasExpDigits)if(\".\"!==s||this.curNumberHasExp||this.curNumberHasDecimal||a){if(this.curNumber&&-1!==this.curCommandType){var h=Number(this.curNumber);if(isNaN(h))throw new SyntaxError(\"Invalid number ending at \"+n);if(this.curCommandType===E.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>h)throw new SyntaxError('Expected positive number, got \"'+h+'\" at index \"'+n+'\"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&\"0\"!==this.curNumber&&\"1\"!==this.curNumber)throw new SyntaxError('Expected a flag, got \"'+this.curNumber+'\" at index \"'+n+'\"');this.curArgs.push(h),this.curArgs.length===M[this.curCommandType]&&(E.HORIZ_LINE_TO===this.curCommandType?i({type:E.HORIZ_LINE_TO,relative:this.curCommandRelative,x:h}):E.VERT_LINE_TO===this.curCommandType?i({type:E.VERT_LINE_TO,relative:this.curCommandRelative,y:h}):this.curCommandType===E.MOVE_TO||this.curCommandType===E.LINE_TO||this.curCommandType===E.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),E.MOVE_TO===this.curCommandType&&(this.curCommandType=E.LINE_TO)):this.curCommandType===E.CURVE_TO?i({type:E.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===E.SMOOTH_CURVE_TO?i({type:E.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.QUAD_TO?i({type:E.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.ARC&&i({type:E.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber=\"\",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!O(s))if(\",\"===s&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(\"+\"!==s&&\"-\"!==s&&\".\"!==s)if(o)this.curNumber=s,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError(\"Unterminated command at index \"+n+\".\");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character \"'+s+'\" at index '+n+\". Command cannot follow comma\");if(this.canParseCommandOrComma=!1,\"z\"!==s&&\"Z\"!==s)if(\"h\"===s||\"H\"===s)this.curCommandType=E.HORIZ_LINE_TO,this.curCommandRelative=\"h\"===s;else if(\"v\"===s||\"V\"===s)this.curCommandType=E.VERT_LINE_TO,this.curCommandRelative=\"v\"===s;else if(\"m\"===s||\"M\"===s)this.curCommandType=E.MOVE_TO,this.curCommandRelative=\"m\"===s;else if(\"l\"===s||\"L\"===s)this.curCommandType=E.LINE_TO,this.curCommandRelative=\"l\"===s;else if(\"c\"===s||\"C\"===s)this.curCommandType=E.CURVE_TO,this.curCommandRelative=\"c\"===s;else if(\"s\"===s||\"S\"===s)this.curCommandType=E.SMOOTH_CURVE_TO,this.curCommandRelative=\"s\"===s;else if(\"q\"===s||\"Q\"===s)this.curCommandType=E.QUAD_TO,this.curCommandRelative=\"q\"===s;else if(\"t\"===s||\"T\"===s)this.curCommandType=E.SMOOTH_QUAD_TO,this.curCommandRelative=\"t\"===s;else{if(\"a\"!==s&&\"A\"!==s)throw new SyntaxError('Unexpected character \"'+s+'\" at index '+n+\".\");this.curCommandType=E.ARC,this.curCommandRelative=\"a\"===s}else e.push({type:E.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=s,this.curNumberHasDecimal=\".\"===s}else this.curNumber+=s,this.curNumberHasDecimal=!0;else this.curNumber+=s;else this.curNumber+=s,this.curNumberHasExp=!0;else this.curNumber+=s,this.curNumberHasExpDigits=this.curNumberHasExp}return e},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(e,r){void 0===r&&(r=[]);for(var i=0,n=Object.getPrototypeOf(this).parse.call(this,e);i<n.length;i++){var s=n[i],a=t(s);Array.isArray(a)?r.push.apply(r,a):r.push(a)}return r}}})},e}(A),E=function(t){function e(r){var i=t.call(this)||this;return i.commands=\"string\"==typeof r?e.parse(r):r,i}return c(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=v.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var e=[],r=0,i=this.commands;r<i.length;r++){var n=t(i[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return this.commands=e,this},e.encode=function(t){return function(t){var e=\"\";Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if(i.type===E.CLOSE_PATH)e+=\"z\";else if(i.type===E.HORIZ_LINE_TO)e+=(i.relative?\"h\":\"H\")+i.x;else if(i.type===E.VERT_LINE_TO)e+=(i.relative?\"v\":\"V\")+i.y;else if(i.type===E.MOVE_TO)e+=(i.relative?\"m\":\"M\")+i.x+\" \"+i.y;else if(i.type===E.LINE_TO)e+=(i.relative?\"l\":\"L\")+i.x+\" \"+i.y;else if(i.type===E.CURVE_TO)e+=(i.relative?\"c\":\"C\")+i.x1+\" \"+i.y1+\" \"+i.x2+\" \"+i.y2+\" \"+i.x+\" \"+i.y;else if(i.type===E.SMOOTH_CURVE_TO)e+=(i.relative?\"s\":\"S\")+i.x2+\" \"+i.y2+\" \"+i.x+\" \"+i.y;else if(i.type===E.QUAD_TO)e+=(i.relative?\"q\":\"Q\")+i.x1+\" \"+i.y1+\" \"+i.x+\" \"+i.y;else if(i.type===E.SMOOTH_QUAD_TO)e+=(i.relative?\"t\":\"T\")+i.x+\" \"+i.y;else{if(i.type!==E.ARC)throw new Error('Unexpected command type \"'+i.type+'\" at index '+r+\".\");e+=(i.relative?\"a\":\"A\")+i.rX+\" \"+i.rY+\" \"+i.xRot+\" \"+ +i.lArcFlag+\" \"+ +i.sweepFlag+\" \"+i.x+\" \"+i.y}}return e}(t)},e.parse=function(t){var e=new P,r=[];return e.parse(t,r),e.finish(r),r},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(A),M=((T={})[E.MOVE_TO]=2,T[E.LINE_TO]=2,T[E.HORIZ_LINE_TO]=1,T[E.VERT_LINE_TO]=1,T[E.CLOSE_PATH]=0,T[E.QUAD_TO]=4,T[E.SMOOTH_QUAD_TO]=2,T[E.CURVE_TO]=6,T[E.SMOOTH_CURVE_TO]=4,T[E.ARC]=7,T);function N(t){return N=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},N(t)}var _=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],V=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function R(t,e,r,i,n){if(\"string\"===typeof t&&(t=document.getElementById(t)),!t||\"object\"!==N(t)||!(\"getContext\"in t))throw new TypeError(\"Expecting canvas with `getContext` method in processCanvasRGB(A) calls!\");var s=t.getContext(\"2d\");try{return s.getImageData(e,r,i,n)}catch(a){throw new Error(\"unable to access image data: \"+a)}}function k(t,e,r,i,n,s){if(!(isNaN(s)||s<1)){s|=0;var a=R(t,e,r,i,n);a=function(t,e,r,i,n,s){for(var a,o=t.data,h=2*s+1,u=i-1,l=n-1,c=s+1,g=c*(c+1)/2,p=new I,f=p,d=1;d<h;d++)f=f.next=new I,d===c&&(a=f);f.next=p;for(var y=null,v=null,m=0,x=0,b=_[s],S=V[s],w=0;w<n;w++){f=p;for(var T=o[x],A=o[x+1],O=o[x+2],C=o[x+3],P=0;P<c;P++)f.r=T,f.g=A,f.b=O,f.a=C,f=f.next;for(var E=0,M=0,N=0,R=0,k=c*T,L=c*A,D=c*O,B=c*C,z=g*T,F=g*A,j=g*O,H=g*C,U=1;U<c;U++){var X=x+((u<U?u:U)<<2),Y=o[X],q=o[X+1],G=o[X+2],W=o[X+3],Q=c-U;z+=(f.r=Y)*Q,F+=(f.g=q)*Q,j+=(f.b=G)*Q,H+=(f.a=W)*Q,E+=Y,M+=q,N+=G,R+=W,f=f.next}y=p,v=a;for(var $=0;$<i;$++){var Z=H*b>>>S;if(o[x+3]=Z,0!==Z){var K=255/Z;o[x]=(z*b>>>S)*K,o[x+1]=(F*b>>>S)*K,o[x+2]=(j*b>>>S)*K}else o[x]=o[x+1]=o[x+2]=0;z-=k,F-=L,j-=D,H-=B,k-=y.r,L-=y.g,D-=y.b,B-=y.a;var J=$+s+1;J=m+(J<u?J:u)<<2,z+=E+=y.r=o[J],F+=M+=y.g=o[J+1],j+=N+=y.b=o[J+2],H+=R+=y.a=o[J+3],y=y.next;var tt=v,et=tt.r,rt=tt.g,it=tt.b,nt=tt.a;k+=et,L+=rt,D+=it,B+=nt,E-=et,M-=rt,N-=it,R-=nt,v=v.next,x+=4}m+=i}for(var st=0;st<i;st++){var at=o[x=st<<2],ot=o[x+1],ht=o[x+2],ut=o[x+3],lt=c*at,ct=c*ot,gt=c*ht,pt=c*ut,ft=g*at,dt=g*ot,yt=g*ht,vt=g*ut;f=p;for(var mt=0;mt<c;mt++)f.r=at,f.g=ot,f.b=ht,f.a=ut,f=f.next;for(var xt=i,bt=0,St=0,wt=0,Tt=0,At=1;At<=s;At++){x=xt+st<<2;var Ot=c-At;ft+=(f.r=at=o[x])*Ot,dt+=(f.g=ot=o[x+1])*Ot,yt+=(f.b=ht=o[x+2])*Ot,vt+=(f.a=ut=o[x+3])*Ot,Tt+=at,bt+=ot,St+=ht,wt+=ut,f=f.next,At<l&&(xt+=i)}x=st,y=p,v=a;for(var Ct=0;Ct<n;Ct++){var Pt=x<<2;o[Pt+3]=ut=vt*b>>>S,ut>0?(ut=255/ut,o[Pt]=(ft*b>>>S)*ut,o[Pt+1]=(dt*b>>>S)*ut,o[Pt+2]=(yt*b>>>S)*ut):o[Pt]=o[Pt+1]=o[Pt+2]=0,ft-=lt,dt-=ct,yt-=gt,vt-=pt,lt-=y.r,ct-=y.g,gt-=y.b,pt-=y.a,Pt=st+((Pt=Ct+c)<l?Pt:l)*i<<2,ft+=Tt+=y.r=o[Pt],dt+=bt+=y.g=o[Pt+1],yt+=St+=y.b=o[Pt+2],vt+=wt+=y.a=o[Pt+3],y=y.next,lt+=at=v.r,ct+=ot=v.g,gt+=ht=v.b,pt+=ut=v.a,Tt-=at,bt-=ot,St-=ht,wt-=ut,v=v.next,x+=i}}return t}(a,0,0,i,n,s),t.getContext(\"2d\").putImageData(a,e,r)}}var I=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var L=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas:(t,e)=>new OffscreenCanvas(t,e),createImage:t=>n(function*(){var e=yield fetch(t),r=yield e.blob();return yield createImageBitmap(r)})()};return\"undefined\"===typeof DOMParser&&\"undefined\"!==typeof t||Reflect.deleteProperty(e,\"DOMParser\"),e},node:function(t){var{DOMParser:e,canvas:r,fetch:i}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:i,createCanvas:r.createCanvas,createImage:r.loadImage}}});function D(t){return t.replace(/(?!\\u3000)\\s+/gm,\" \")}function B(t){return t.replace(/^[\\n \\t]+/,\"\")}function z(t){return t.replace(/[\\n \\t]+$/,\"\")}function F(t){return((t||\"\").match(/-?(\\d+(?:\\.\\d*(?:[eE][+-]?\\d+)?)?|\\.\\d+)(?=\\D|$)/gm)||[]).map(parseFloat)}var j=/^[A-Z-]+$/;function H(t){return j.test(t)?t.toLowerCase():t}function U(t){var e=/url\\(('([^']+)'|\"([^\"]+)\"|([^'\")]+))\\)/.exec(t)||[];return e[2]||e[3]||e[4]}function X(t){if(!t.startsWith(\"rgb\"))return t;var e=3;return t.replace(/\\d+(\\.\\d+)?/g,(t,r)=>e--&&r?String(Math.round(parseFloat(t))):t)}var Y=/(\\[[^\\]]+\\])/g,q=/(#[^\\s+>~.[:]+)/g,G=/(\\.[^\\s+>~.[:]+)/g,W=/(::[^\\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,Q=/(:[\\w-]+\\([^)]*\\))/gi,$=/(:[^\\s+>~.[:]+)/g,Z=/([^\\s+>~.[:]+)/g;function K(t,e){var r=e.exec(t);return r?[t.replace(e,\" \"),r.length]:[t,0]}function J(t){var e=[0,0,0],r=t.replace(/:not\\(([^)]*)\\)/g,\"     $1 \").replace(/{[\\s\\S]*/gm,\" \"),i=0;return[r,i]=K(r,Y),e[1]+=i,[r,i]=K(r,q),e[0]+=i,[r,i]=K(r,G),e[1]+=i,[r,i]=K(r,W),e[2]+=i,[r,i]=K(r,Q),e[1]+=i,[r,i]=K(r,$),e[1]+=i,r=r.replace(/[*\\s+>~]/g,\" \").replace(/[#.]/g,\" \"),[r,i]=K(r,Z),e[2]+=i,e.join(\"\")}var tt=1e-8;function et(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function rt(t,e){return(t[0]*e[0]+t[1]*e[1])/(et(t)*et(e))}function it(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(rt(t,e))}function nt(t){return t*t*t}function st(t){return 3*t*t*(1-t)}function at(t){return 3*t*(1-t)*(1-t)}function ot(t){return(1-t)*(1-t)*(1-t)}function ht(t){return t*t}function ut(t){return 2*t*(1-t)}function lt(t){return(1-t)*(1-t)}class ct{constructor(t,e,r){this.document=t,this.name=e,this.value=r,this.isNormalizedColor=!1}static empty(t){return new ct(t,\"EMPTY\",\"\")}split(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\" \",{document:e,name:r}=this;return D(this.getString()).trim().split(t).map(t=>new ct(e,r,t))}hasValue(t){var{value:e}=this;return null!==e&&\"\"!==e&&(t||0!==e)&&\"undefined\"!==typeof e}isString(t){var{value:e}=this,r=\"string\"===typeof e;return r&&t?t.test(e):r}isUrlDefinition(){return this.isString(/^url\\(/)}isPixels(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case t.endsWith(\"px\"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return\"undefined\"===typeof t||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return\"undefined\"===typeof t?0:parseFloat(t);var{value:e}=this,r=parseFloat(e);return this.isString(/%$/)&&(r/=100),r}getString(t){return\"undefined\"===typeof t||this.hasValue()?\"undefined\"===typeof this.value?\"\":String(this.value):String(t)}getColor(t){var e=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,e=X(e),this.value=e),e}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,\"\")}getPixels(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[r,i]=\"boolean\"===typeof t?[void 0,t]:[t],{viewPort:n}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(n.computeSize(\"x\"),n.computeSize(\"y\"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(n.computeSize(\"x\"),n.computeSize(\"y\"));case this.isString(/vw$/):return this.getNumber()/100*n.computeSize(\"x\");case this.isString(/vh$/):return this.getNumber()/100*n.computeSize(\"y\");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&i:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*n.computeSize(r);default:var s=this.getNumber();return e&&s<1?s*n.computeSize(r):s}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var t=this.getString(),e=/#([^)'\"]+)/.exec(t);return e&&(e=e[1]),e||(e=t),this.document.definitions[e]}getFillStyleDefinition(t,e){var r=this.getDefinition();if(!r)return null;if(\"function\"===typeof r.createGradient)return r.createGradient(this.document.ctx,t,e);if(\"function\"===typeof r.createPattern){if(r.getHrefAttribute().hasValue()){var i=r.getAttribute(\"patternTransform\");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&r.getAttribute(\"patternTransform\",!0).setValue(i.value)}return r.createPattern(this.document.ctx,t,e)}return null}getTextBaseline(){return this.hasValue()?ct.textBaselineMapping[this.getString()]:null}addOpacity(t){for(var e=this.getColor(),r=e.length,i=0,n=0;n<r&&(\",\"===e[n]&&i++,3!==i);n++);if(t.hasValue()&&this.isString()&&3!==i){var s=new u(e);s.ok&&(s.alpha=t.getNumber(),e=s.toRGBA())}return new ct(this.document,this.name,e)}}ct.textBaselineMapping={baseline:\"alphabetic\",\"before-edge\":\"top\",\"text-before-edge\":\"top\",middle:\"middle\",central:\"middle\",\"after-edge\":\"bottom\",\"text-after-edge\":\"bottom\",ideographic:\"ideographic\",alphabetic:\"alphabetic\",hanging:\"hanging\",mathematical:\"alphabetic\"};class gt{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(t,e){this.viewPorts.push({width:t,height:e})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:t}=this;return t[t.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return\"number\"===typeof t?t:\"x\"===t?this.width:\"y\"===t?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class pt{constructor(t,e){this.x=t,this.y=e}static parse(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[r=e,i=e]=F(t);return new pt(r,i)}static parseScale(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[r=e,i=r]=F(t);return new pt(r,i)}static parsePath(t){for(var e=F(t),r=e.length,i=[],n=0;n<r;n+=2)i.push(new pt(e[n],e[n+1]));return i}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){var{x:e,y:r}=this,i=e*t[0]+r*t[2]+t[4],n=e*t[1]+r*t[3]+t[5];this.x=i,this.y=n}}class ft{constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:t,onClick:e,onMouseMove:r}=this,i=t.ctx.canvas;i.onclick=e,i.onmousemove=r,this.working=!0}}stop(){if(this.working){var t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:t,events:e,eventElements:r}=this,{style:i}=t.ctx.canvas;i&&(i.cursor=\"\"),e.forEach((t,e)=>{for(var{run:i}=t,n=r[e];n;)i(n),n=n.parent}),this.events=[],this.eventElements=[]}}checkPath(t,e){if(this.working&&e){var{events:r,eventElements:i}=this;r.forEach((r,n)=>{var{x:s,y:a}=r;!i[n]&&e.isPointInPath&&e.isPointInPath(s,a)&&(i[n]=t)})}}checkBoundingBox(t,e){if(this.working&&e){var{events:r,eventElements:i}=this;r.forEach((r,n)=>{var{x:s,y:a}=r;!i[n]&&e.isPointInBox(s,a)&&(i[n]=t)})}}mapXY(t,e){for(var{window:r,ctx:i}=this.screen,n=new pt(t,e),s=i.canvas;s;)n.x-=s.offsetLeft,n.y-=s.offsetTop,s=s.offsetParent;return r.scrollX&&(n.x+=r.scrollX),r.scrollY&&(n.y+=r.scrollY),n}onClick(t){var{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:\"onclick\",x:e,y:r,run(t){t.onClick&&t.onClick()}})}onMouseMove(t){var{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:\"onmousemove\",x:e,y:r,run(t){t.onMouseMove&&t.onMouseMove()}})}}var dt=\"undefined\"!==typeof window?window:null,yt=\"undefined\"!==typeof fetch?fetch.bind(void 0):null;class vt{constructor(t){var{fetch:e=yt,window:r=dt}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new gt,this.mouse=new ft(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,this.fetch=e}wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var t=this.waits.every(t=>t());return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle=\"rgba(0,0,0,0)\",t.lineCap=\"butt\",t.lineJoin=\"miter\",t.miterLimit=4}setViewBox(t){var{document:e,ctx:r,aspectRatio:i,width:n,desiredWidth:s,height:a,desiredHeight:o,minX:h=0,minY:u=0,refX:l,refY:c,clip:g=!1,clipX:p=0,clipY:f=0}=t,d=D(i).replace(/^defer\\s/,\"\"),[y,v]=d.split(\" \"),m=y||\"xMidYMid\",x=v||\"meet\",b=n/s,S=a/o,w=Math.min(b,S),T=Math.max(b,S),A=s,O=o;\"meet\"===x&&(A*=w,O*=w),\"slice\"===x&&(A*=T,O*=T);var C=new ct(e,\"refX\",l),P=new ct(e,\"refY\",c),E=C.hasValue()&&P.hasValue();if(E&&r.translate(-w*C.getPixels(\"x\"),-w*P.getPixels(\"y\")),g){var M=w*p,N=w*f;r.beginPath(),r.moveTo(M,N),r.lineTo(n,N),r.lineTo(n,a),r.lineTo(M,a),r.closePath(),r.clip()}if(!E){var _=\"meet\"===x&&w===S,V=\"slice\"===x&&T===S,R=\"meet\"===x&&w===b,k=\"slice\"===x&&T===b;m.startsWith(\"xMid\")&&(_||V)&&r.translate(n/2-A/2,0),m.endsWith(\"YMid\")&&(R||k)&&r.translate(0,a/2-O/2),m.startsWith(\"xMax\")&&(_||V)&&r.translate(n-A,0),m.endsWith(\"YMax\")&&(R||k)&&r.translate(0,a-O)}switch(!0){case\"none\"===m:r.scale(b,S);break;case\"meet\"===x:r.scale(w,w);break;case\"slice\"===x:r.scale(T,T)}r.translate(-h,-u)}start(t){var{enableRedraw:e=!1,ignoreMouse:r=!1,ignoreAnimation:i=!1,ignoreDimensions:n=!1,ignoreClear:s=!1,forceRedraw:a,scaleWidth:o,scaleHeight:u,offsetX:l,offsetY:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:g,mouse:p}=this,f=1e3/g;if(this.frameDuration=f,this.readyPromise=new Promise(t=>{this.resolveReady=t}),this.isReady()&&this.render(t,n,s,o,u,l,c),e){var d=Date.now(),y=d,v=0,m=()=>{d=Date.now(),(v=d-y)>=f&&(y=d-v%f,this.shouldUpdate(i,a)&&(this.render(t,n,s,o,u,l,c),p.runEvents())),this.intervalId=h(m)};r||p.start(),this.intervalId=h(m)}}stop(){this.intervalId&&(h.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,e){if(!t){var{frameDuration:r}=this;if(this.animations.reduce((t,e)=>e.update(r)||t,!1))return!0}return!(\"function\"!==typeof e||!e())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}render(t,e,r,i,n,s,a){var{CLIENT_WIDTH:o,CLIENT_HEIGHT:h,viewPort:u,ctx:l,isFirstRender:c}=this,g=l.canvas;u.clear(),g.width&&g.height?u.setCurrent(g.width,g.height):u.setCurrent(o,h);var p=t.getStyle(\"width\"),f=t.getStyle(\"height\");!e&&(c||\"number\"!==typeof i&&\"number\"!==typeof n)&&(p.hasValue()&&(g.width=p.getPixels(\"x\"),g.style&&(g.style.width=\"\".concat(g.width,\"px\"))),f.hasValue()&&(g.height=f.getPixels(\"y\"),g.style&&(g.style.height=\"\".concat(g.height,\"px\"))));var d=g.clientWidth||g.width,y=g.clientHeight||g.height;if(e&&p.hasValue()&&f.hasValue()&&(d=p.getPixels(\"x\"),y=f.getPixels(\"y\")),u.setCurrent(d,y),\"number\"===typeof s&&t.getAttribute(\"x\",!0).setValue(s),\"number\"===typeof a&&t.getAttribute(\"y\",!0).setValue(a),\"number\"===typeof i||\"number\"===typeof n){var v=F(t.getAttribute(\"viewBox\").getString()),m=0,x=0;if(\"number\"===typeof i){var b=t.getStyle(\"width\");b.hasValue()?m=b.getPixels(\"x\")/i:isNaN(v[2])||(m=v[2]/i)}if(\"number\"===typeof n){var S=t.getStyle(\"height\");S.hasValue()?x=S.getPixels(\"y\")/n:isNaN(v[3])||(x=v[3]/n)}m||(m=x),x||(x=m),t.getAttribute(\"width\",!0).setValue(i),t.getAttribute(\"height\",!0).setValue(n);var w=t.getStyle(\"transform\",!0,!0);w.setValue(\"\".concat(w.getString(),\" scale(\").concat(1/m,\", \").concat(1/x,\")\"))}r||l.clearRect(0,0,d,y),t.render(l),c&&(this.isFirstRender=!1)}}vt.defaultWindow=dt,vt.defaultFetch=yt;var{defaultFetch:mt}=vt,xt=\"undefined\"!==typeof DOMParser?DOMParser:null;class bt{constructor(){var{fetch:t=mt,DOMParser:e=xt}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=t,this.DOMParser=e}parse(t){var e=this;return n(function*(){return t.startsWith(\"<\")?e.parseFromString(t):e.load(t)})()}parseFromString(t){var e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,\"image/svg+xml\"))}catch(r){return this.checkDocument(e.parseFromString(t,\"text/xml\"))}}checkDocument(t){var e=t.getElementsByTagName(\"parsererror\")[0];if(e)throw new Error(e.textContent);return t}load(t){var e=this;return n(function*(){var r=yield e.fetch(t),i=yield r.text();return e.parseFromString(i)})()}}class St{constructor(t,e){this.type=\"translate\",this.point=null,this.point=pt.parse(e)}apply(t){var{x:e,y:r}=this.point;t.translate(e||0,r||0)}unapply(t){var{x:e,y:r}=this.point;t.translate(-1*e||0,-1*r||0)}applyToPoint(t){var{x:e,y:r}=this.point;t.applyTransform([1,0,0,1,e||0,r||0])}}class wt{constructor(t,e,r){this.type=\"rotate\",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=F(e);this.angle=new ct(t,\"angle\",i[0]),this.originX=r[0],this.originY=r[1],this.cx=i[1]||0,this.cy=i[2]||0}apply(t){var{cx:e,cy:r,originX:i,originY:n,angle:s}=this,a=e+i.getPixels(\"x\"),o=r+n.getPixels(\"y\");t.translate(a,o),t.rotate(s.getRadians()),t.translate(-a,-o)}unapply(t){var{cx:e,cy:r,originX:i,originY:n,angle:s}=this,a=e+i.getPixels(\"x\"),o=r+n.getPixels(\"y\");t.translate(a,o),t.rotate(-1*s.getRadians()),t.translate(-a,-o)}applyToPoint(t){var{cx:e,cy:r,angle:i}=this,n=i.getRadians();t.applyTransform([1,0,0,1,e||0,r||0]),t.applyTransform([Math.cos(n),Math.sin(n),-Math.sin(n),Math.cos(n),0,0]),t.applyTransform([1,0,0,1,-e||0,-r||0])}}class Tt{constructor(t,e,r){this.type=\"scale\",this.scale=null,this.originX=null,this.originY=null;var i=pt.parseScale(e);0!==i.x&&0!==i.y||(i.x=tt,i.y=tt),this.scale=i,this.originX=r[0],this.originY=r[1]}apply(t){var{scale:{x:e,y:r},originX:i,originY:n}=this,s=i.getPixels(\"x\"),a=n.getPixels(\"y\");t.translate(s,a),t.scale(e,r||e),t.translate(-s,-a)}unapply(t){var{scale:{x:e,y:r},originX:i,originY:n}=this,s=i.getPixels(\"x\"),a=n.getPixels(\"y\");t.translate(s,a),t.scale(1/e,1/r||e),t.translate(-s,-a)}applyToPoint(t){var{x:e,y:r}=this.scale;t.applyTransform([e||0,0,0,r||0,0,0])}}class At{constructor(t,e,r){this.type=\"matrix\",this.matrix=[],this.originX=null,this.originY=null,this.matrix=F(e),this.originX=r[0],this.originY=r[1]}apply(t){var{originX:e,originY:r,matrix:i}=this,n=e.getPixels(\"x\"),s=r.getPixels(\"y\");t.translate(n,s),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),t.translate(-n,-s)}unapply(t){var{originX:e,originY:r,matrix:i}=this,n=i[0],s=i[2],a=i[4],o=i[1],h=i[3],u=i[5],l=1/(n*(1*h-0*u)-s*(1*o-0*u)+a*(0*o-0*h)),c=e.getPixels(\"x\"),g=r.getPixels(\"y\");t.translate(c,g),t.transform(l*(1*h-0*u),l*(0*u-1*o),l*(0*a-1*s),l*(1*n-0*a),l*(s*u-a*h),l*(a*o-n*u)),t.translate(-c,-g)}applyToPoint(t){t.applyTransform(this.matrix)}}class Ot extends At{constructor(t,e,r){super(t,e,r),this.type=\"skew\",this.angle=null,this.angle=new ct(t,\"angle\",e)}}class Ct extends Ot{constructor(t,e,r){super(t,e,r),this.type=\"skewX\",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Pt extends Ot{constructor(t,e,r){super(t,e,r),this.type=\"skewY\",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class Et{constructor(t,e,r){this.document=t,this.transforms=[];var i=function(t){return D(t).trim().replace(/\\)([a-zA-Z])/g,\") $1\").replace(/\\)(\\s?,\\s?)/g,\") \").split(/\\s(?=[a-z])/)}(e);i.forEach(t=>{if(\"none\"!==t){var[e,i]=function(t){var[e,r]=t.split(\"(\");return[e.trim(),r.trim().replace(\")\",\"\")]}(t),n=Et.transformTypes[e];\"undefined\"!==typeof n&&this.transforms.push(new n(this.document,i,r))}})}static fromElement(t,e){var r=e.getStyle(\"transform\",!1,!0),[i,n=i]=e.getStyle(\"transform-origin\",!1,!0).split(),s=[i,n];return r.hasValue()?new Et(t,r.getString(),s):null}apply(t){for(var{transforms:e}=this,r=e.length,i=0;i<r;i++)e[i].apply(t)}unapply(t){for(var{transforms:e}=this,r=e.length-1;r>=0;r--)e[r].unapply(t)}applyToPoint(t){for(var{transforms:e}=this,r=e.length,i=0;i<r;i++)e[i].applyToPoint(t)}}Et.transformTypes={translate:St,rotate:wt,scale:Tt,matrix:At,skewX:Ct,skewY:Pt};class Mt{constructor(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=t,this.node=e,this.captureTextNodes=r,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue=\"\",this.parent=null,this.children=[],e&&1===e.nodeType){if(Array.from(e.attributes).forEach(e=>{var r=H(e.nodeName);this.attributes[r]=new ct(t,r,e.value)}),this.addStylesFromStyleDefinition(),this.getAttribute(\"style\").hasValue()){var i=this.getAttribute(\"style\").getString().split(\";\").map(t=>t.trim());i.forEach(e=>{if(e){var[r,i]=e.split(\":\").map(t=>t.trim());this.styles[r]=new ct(t,r,i)}})}var{definitions:n}=t,s=this.getAttribute(\"id\");s.hasValue()&&(n[s.getString()]||(n[s.getString()]=this)),Array.from(e.childNodes).forEach(e=>{if(1===e.nodeType)this.addChild(e);else if(r&&(3===e.nodeType||4===e.nodeType)){var i=t.createTextNode(e);i.getText().length>0&&this.addChild(i)}})}}getAttribute(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.attributes[t];if(!r&&e){var i=new ct(this.document,t,\"\");return this.attributes[t]=i,i}return r||ct.empty(this.document)}getHrefAttribute(){for(var t in this.attributes)if(\"href\"===t||t.endsWith(\":href\"))return this.attributes[t];return ct.empty(this.document)}getStyle(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.styles[t];if(i)return i;var n=this.getAttribute(t);if(null!==n&&void 0!==n&&n.hasValue())return this.styles[t]=n,n;if(!r){var{parent:s}=this;if(s){var a=s.getStyle(t);if(null!==a&&void 0!==a&&a.hasValue())return a}}if(e){var o=new ct(this.document,t,\"\");return this.styles[t]=o,o}return i||ct.empty(this.document)}render(t){if(\"none\"!==this.getStyle(\"display\").getString()&&\"hidden\"!==this.getStyle(\"visibility\").getString()){if(t.save(),this.getStyle(\"mask\").hasValue()){var e=this.getStyle(\"mask\").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else if(\"none\"!==this.getStyle(\"filter\").getValue(\"none\")){var r=this.getStyle(\"filter\").getDefinition();r&&(this.applyEffects(t),r.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){var e=Et.fromElement(this.document,this);e&&e.apply(t);var r=this.getStyle(\"clip-path\",!1,!0);if(r.hasValue()){var i=r.getDefinition();i&&i.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach(e=>{e.render(t)})}addChild(t){var e=t instanceof Mt?t:this.document.createElement(t);e.parent=this,Mt.ignoreChildTypes.includes(e.type)||this.children.push(e)}matchesSelector(t){var e,{node:r}=this;if(\"function\"===typeof r.matches)return r.matches(t);var i=null===(e=r.getAttribute)||void 0===e?void 0:e.call(r,\"class\");return!(!i||\"\"===i)&&i.split(\" \").some(e=>\".\".concat(e)===t)}addStylesFromStyleDefinition(){var{styles:t,stylesSpecificity:e}=this.document;for(var r in t)if(!r.startsWith(\"@\")&&this.matchesSelector(r)){var i=t[r],n=e[r];if(i)for(var s in i){var a=this.stylesSpecificity[s];\"undefined\"===typeof a&&(a=\"000\"),n>=a&&(this.styles[s]=i[s],this.stylesSpecificity[s]=n)}}}removeStyles(t,e){return e.reduce((e,r)=>{var i=t.getStyle(r);if(!i.hasValue())return e;var n=i.getString();return i.setValue(\"\"),[...e,[r,n]]},[])}restoreStyles(t,e){e.forEach(e=>{var[r,i]=e;t.getStyle(r,!0).setValue(i)})}isFirstChild(){var t;return 0===(null===(t=this.parent)||void 0===t?void 0:t.children.indexOf(this))}}Mt.ignoreChildTypes=[\"title\"];class Nt extends Mt{constructor(t,e,r){super(t,e,r)}}function _t(t){var e=t.trim();return/^('|\")/.test(e)?e:'\"'.concat(e,'\"')}function Vt(t){if(!t)return\"\";var e=t.trim().toLowerCase();switch(e){case\"normal\":case\"italic\":case\"oblique\":case\"inherit\":case\"initial\":case\"unset\":return e;default:return/^oblique\\s+(-|)\\d+deg$/.test(e)?e:\"\"}}function Rt(t){if(!t)return\"\";var e=t.trim().toLowerCase();switch(e){case\"normal\":case\"bold\":case\"lighter\":case\"bolder\":case\"inherit\":case\"initial\":case\"unset\":return e;default:return/^[\\d.]+$/.test(e)?e:\"\"}}class kt{constructor(t,e,r,i,n,s){var a=s?\"string\"===typeof s?kt.parse(s):s:{};this.fontFamily=n||a.fontFamily,this.fontSize=i||a.fontSize,this.fontStyle=t||a.fontStyle,this.fontWeight=r||a.fontWeight,this.fontVariant=e||a.fontVariant}static parse(){var t=arguments.length>1?arguments[1]:void 0,e=\"\",r=\"\",i=\"\",n=\"\",s=\"\",a=D(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\").trim().split(\" \"),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return a.forEach(t=>{switch(!0){case!o.fontStyle&&kt.styles.includes(t):\"inherit\"!==t&&(e=t),o.fontStyle=!0;break;case!o.fontVariant&&kt.variants.includes(t):\"inherit\"!==t&&(r=t),o.fontStyle=!0,o.fontVariant=!0;break;case!o.fontWeight&&kt.weights.includes(t):\"inherit\"!==t&&(i=t),o.fontStyle=!0,o.fontVariant=!0,o.fontWeight=!0;break;case!o.fontSize:\"inherit\"!==t&&([n]=t.split(\"/\")),o.fontStyle=!0,o.fontVariant=!0,o.fontWeight=!0,o.fontSize=!0;break;default:\"inherit\"!==t&&(s+=t)}}),new kt(e,r,i,n,s,t)}toString(){return[Vt(this.fontStyle),this.fontVariant,Rt(this.fontWeight),this.fontSize,(t=this.fontFamily,\"undefined\"===typeof process?t:t.trim().split(\",\").map(_t).join(\",\"))].join(\" \").trim();var t}}kt.styles=\"normal|italic|oblique|inherit\",kt.variants=\"normal|small-caps|inherit\",kt.weights=\"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit\";class It{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=t,this.y1=e,this.x2=r,this.y2=i,this.addPoint(t,e),this.addPoint(r,i)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,e){\"undefined\"!==typeof t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),\"undefined\"!==typeof e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}addX(t){this.addPoint(t,null)}addY(t){this.addPoint(null,t)}addBoundingBox(t){if(t){var{x1:e,y1:r,x2:i,y2:n}=t;this.addPoint(e,r),this.addPoint(i,n)}}sumCubic(t,e,r,i,n){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*r+3*(1-t)*Math.pow(t,2)*i+Math.pow(t,3)*n}bezierCurveAdd(t,e,r,i,n){var s=6*e-12*r+6*i,a=-3*e+9*r-9*i+3*n,o=3*r-3*e;if(0!==a){var h=Math.pow(s,2)-4*o*a;if(!(h<0)){var u=(-s+Math.sqrt(h))/(2*a);0<u&&u<1&&(t?this.addX(this.sumCubic(u,e,r,i,n)):this.addY(this.sumCubic(u,e,r,i,n)));var l=(-s-Math.sqrt(h))/(2*a);0<l&&l<1&&(t?this.addX(this.sumCubic(l,e,r,i,n)):this.addY(this.sumCubic(l,e,r,i,n)))}}else{if(0===s)return;var c=-o/s;0<c&&c<1&&(t?this.addX(this.sumCubic(c,e,r,i,n)):this.addY(this.sumCubic(c,e,r,i,n)))}}addBezierCurve(t,e,r,i,n,s,a,o){this.addPoint(t,e),this.addPoint(a,o),this.bezierCurveAdd(!0,t,r,n,a),this.bezierCurveAdd(!1,e,i,s,o)}addQuadraticCurve(t,e,r,i,n,s){var a=t+2/3*(r-t),o=e+2/3*(i-e),h=a+1/3*(n-t),u=o+1/3*(s-e);this.addBezierCurve(t,e,a,h,o,u,n,s)}isPointInBox(t,e){var{x1:r,y1:i,x2:n,y2:s}=this;return r<=t&&t<=n&&i<=e&&e<=s}}class Lt extends E{constructor(t){super(t.replace(/([+\\-.])\\s+/gm,\"$1\").replace(/[^MmZzLlHhVvCcSsQqTtAae\\d\\s.,+-].*/g,\"\")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new pt(0,0),this.control=new pt(0,0),this.current=new pt(0,0),this.points=[],this.angles=[]}isEnd(){var{i:t,commands:e}=this;return t>=e.length-1}next(){var t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"x\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"y\",r=new pt(this.command[t],this.command[e]);return this.makeAbsolute(r)}getAsControlPoint(t,e){var r=this.getPoint(t,e);return this.control=r,r}getAsCurrentPoint(t,e){var r=this.getPoint(t,e);return this.current=r,r}getReflectedControlPoint(){var t=this.previousCommand.type;if(t!==E.CURVE_TO&&t!==E.SMOOTH_CURVE_TO&&t!==E.QUAD_TO&&t!==E.SMOOTH_QUAD_TO)return this.current;var{current:{x:e,y:r},control:{x:i,y:n}}=this;return new pt(2*e-i,2*r-n)}makeAbsolute(t){if(this.command.relative){var{x:e,y:r}=this.current;t.x+=e,t.y+=r}return t}addMarker(t,e,r){var{points:i,angles:n}=this;r&&n.length>0&&!n[n.length-1]&&(n[n.length-1]=i[i.length-1].angleTo(r)),this.addMarkerAngle(t,e?e.angleTo(t):null)}addMarkerAngle(t,e){this.points.push(t),this.angles.push(e)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:t}=this,e=t.length,r=0;r<e;r++)if(!t[r])for(var i=r+1;i<e;i++)if(t[i]){t[r]=t[i];break}return t}}class Dt extends Mt{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var t=1,e=this;e;){var r=e.getStyle(\"opacity\",!1,!0);r.hasValue(!0)&&(t*=r.getNumber()),e=e.parent}return t}setContext(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){var r=this.getStyle(\"fill\"),i=this.getStyle(\"fill-opacity\"),n=this.getStyle(\"stroke\"),s=this.getStyle(\"stroke-opacity\");if(r.isUrlDefinition()){var a=r.getFillStyleDefinition(this,i);a&&(t.fillStyle=a)}else if(r.hasValue()){\"currentColor\"===r.getString()&&r.setValue(this.getStyle(\"color\").getColor());var o=r.getColor();\"inherit\"!==o&&(t.fillStyle=\"none\"===o?\"rgba(0,0,0,0)\":o)}if(i.hasValue()){var h=new ct(this.document,\"fill\",t.fillStyle).addOpacity(i).getColor();t.fillStyle=h}if(n.isUrlDefinition()){var u=n.getFillStyleDefinition(this,s);u&&(t.strokeStyle=u)}else if(n.hasValue()){\"currentColor\"===n.getString()&&n.setValue(this.getStyle(\"color\").getColor());var l=n.getString();\"inherit\"!==l&&(t.strokeStyle=\"none\"===l?\"rgba(0,0,0,0)\":l)}if(s.hasValue()){var c=new ct(this.document,\"stroke\",t.strokeStyle).addOpacity(s).getString();t.strokeStyle=c}var g=this.getStyle(\"stroke-width\");if(g.hasValue()){var p=g.getPixels();t.lineWidth=p||tt}var f=this.getStyle(\"stroke-linecap\"),d=this.getStyle(\"stroke-linejoin\"),y=this.getStyle(\"stroke-miterlimit\"),v=this.getStyle(\"stroke-dasharray\"),m=this.getStyle(\"stroke-dashoffset\");if(f.hasValue()&&(t.lineCap=f.getString()),d.hasValue()&&(t.lineJoin=d.getString()),y.hasValue()&&(t.miterLimit=y.getNumber()),v.hasValue()&&\"none\"!==v.getString()){var x=F(v.getString());\"undefined\"!==typeof t.setLineDash?t.setLineDash(x):\"undefined\"!==typeof t.webkitLineDash?t.webkitLineDash=x:\"undefined\"===typeof t.mozDash||1===x.length&&0===x[0]||(t.mozDash=x);var b=m.getPixels();\"undefined\"!==typeof t.lineDashOffset?t.lineDashOffset=b:\"undefined\"!==typeof t.webkitLineDashOffset?t.webkitLineDashOffset=b:\"undefined\"!==typeof t.mozDashOffset&&(t.mozDashOffset=b)}}if(this.modifiedEmSizeStack=!1,\"undefined\"!==typeof t.font){var S=this.getStyle(\"font\"),w=this.getStyle(\"font-style\"),T=this.getStyle(\"font-variant\"),A=this.getStyle(\"font-weight\"),O=this.getStyle(\"font-size\"),C=this.getStyle(\"font-family\"),P=new kt(w.getString(),T.getString(),A.getString(),O.hasValue()?\"\".concat(O.getPixels(!0),\"px\"):\"\",C.getString(),kt.parse(S.getString(),t.font));w.setValue(P.fontStyle),T.setValue(P.fontVariant),A.setValue(P.fontWeight),O.setValue(P.fontSize),C.setValue(P.fontFamily),t.font=P.toString(),O.isPixels()&&(this.document.emSize=O.getPixels(),this.modifiedEmSizeStack=!0)}e||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Bt extends Dt{constructor(t,e,r){super(t,e,r),this.type=\"path\",this.pathParser=null,this.pathParser=new Lt(this.getAttribute(\"d\").getString())}path(t){var{pathParser:e}=this,r=new It;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.next().type){case Lt.MOVE_TO:this.pathM(t,r);break;case Lt.LINE_TO:this.pathL(t,r);break;case Lt.HORIZ_LINE_TO:this.pathH(t,r);break;case Lt.VERT_LINE_TO:this.pathV(t,r);break;case Lt.CURVE_TO:this.pathC(t,r);break;case Lt.SMOOTH_CURVE_TO:this.pathS(t,r);break;case Lt.QUAD_TO:this.pathQ(t,r);break;case Lt.SMOOTH_QUAD_TO:this.pathT(t,r);break;case Lt.ARC:this.pathA(t,r);break;case Lt.CLOSE_PATH:this.pathZ(t,r)}return r}getBoundingBox(t){return this.path()}getMarkers(){var{pathParser:t}=this,e=t.getMarkerPoints(),r=t.getMarkerAngles(),i=e.map((t,e)=>[t,r[e]]);return i}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var e=this.getStyle(\"fill-rule\");\"\"!==t.fillStyle&&(\"inherit\"!==e.getString(\"inherit\")?t.fill(e.getString()):t.fill()),\"\"!==t.strokeStyle&&(\"non-scaling-stroke\"===this.getAttribute(\"vector-effect\").getString()?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());var r=this.getMarkers();if(r){var i=r.length-1,n=this.getStyle(\"marker-start\"),s=this.getStyle(\"marker-mid\"),a=this.getStyle(\"marker-end\");if(n.isUrlDefinition()){var o=n.getDefinition(),[h,u]=r[0];o.render(t,h,u)}if(s.isUrlDefinition())for(var l=s.getDefinition(),c=1;c<i;c++){var[g,p]=r[c];l.render(t,g,p)}if(a.isUrlDefinition()){var f=a.getDefinition(),[d,y]=r[i];f.render(t,d,y)}}}static pathM(t){var e=t.getAsCurrentPoint();return t.start=t.current,{point:e}}pathM(t,e){var{pathParser:r}=this,{point:i}=Bt.pathM(r),{x:n,y:s}=i;r.addMarker(i),e.addPoint(n,s),t&&t.moveTo(n,s)}static pathL(t){var{current:e}=t;return{current:e,point:t.getAsCurrentPoint()}}pathL(t,e){var{pathParser:r}=this,{current:i,point:n}=Bt.pathL(r),{x:s,y:a}=n;r.addMarker(n,i),e.addPoint(s,a),t&&t.lineTo(s,a)}static pathH(t){var{current:e,command:r}=t,i=new pt((r.relative?e.x:0)+r.x,e.y);return t.current=i,{current:e,point:i}}pathH(t,e){var{pathParser:r}=this,{current:i,point:n}=Bt.pathH(r),{x:s,y:a}=n;r.addMarker(n,i),e.addPoint(s,a),t&&t.lineTo(s,a)}static pathV(t){var{current:e,command:r}=t,i=new pt(e.x,(r.relative?e.y:0)+r.y);return t.current=i,{current:e,point:i}}pathV(t,e){var{pathParser:r}=this,{current:i,point:n}=Bt.pathV(r),{x:s,y:a}=n;r.addMarker(n,i),e.addPoint(s,a),t&&t.lineTo(s,a)}static pathC(t){var{current:e}=t;return{current:e,point:t.getPoint(\"x1\",\"y1\"),controlPoint:t.getAsControlPoint(\"x2\",\"y2\"),currentPoint:t.getAsCurrentPoint()}}pathC(t,e){var{pathParser:r}=this,{current:i,point:n,controlPoint:s,currentPoint:a}=Bt.pathC(r);r.addMarker(a,s,n),e.addBezierCurve(i.x,i.y,n.x,n.y,s.x,s.y,a.x,a.y),t&&t.bezierCurveTo(n.x,n.y,s.x,s.y,a.x,a.y)}static pathS(t){var{current:e}=t;return{current:e,point:t.getReflectedControlPoint(),controlPoint:t.getAsControlPoint(\"x2\",\"y2\"),currentPoint:t.getAsCurrentPoint()}}pathS(t,e){var{pathParser:r}=this,{current:i,point:n,controlPoint:s,currentPoint:a}=Bt.pathS(r);r.addMarker(a,s,n),e.addBezierCurve(i.x,i.y,n.x,n.y,s.x,s.y,a.x,a.y),t&&t.bezierCurveTo(n.x,n.y,s.x,s.y,a.x,a.y)}static pathQ(t){var{current:e}=t;return{current:e,controlPoint:t.getAsControlPoint(\"x1\",\"y1\"),currentPoint:t.getAsCurrentPoint()}}pathQ(t,e){var{pathParser:r}=this,{current:i,controlPoint:n,currentPoint:s}=Bt.pathQ(r);r.addMarker(s,n,n),e.addQuadraticCurve(i.x,i.y,n.x,n.y,s.x,s.y),t&&t.quadraticCurveTo(n.x,n.y,s.x,s.y)}static pathT(t){var{current:e}=t,r=t.getReflectedControlPoint();return t.control=r,{current:e,controlPoint:r,currentPoint:t.getAsCurrentPoint()}}pathT(t,e){var{pathParser:r}=this,{current:i,controlPoint:n,currentPoint:s}=Bt.pathT(r);r.addMarker(s,n,n),e.addQuadraticCurve(i.x,i.y,n.x,n.y,s.x,s.y),t&&t.quadraticCurveTo(n.x,n.y,s.x,s.y)}static pathA(t){var{current:e,command:r}=t,{rX:i,rY:n,xRot:s,lArcFlag:a,sweepFlag:o}=r,h=s*(Math.PI/180),u=t.getAsCurrentPoint(),l=new pt(Math.cos(h)*(e.x-u.x)/2+Math.sin(h)*(e.y-u.y)/2,-Math.sin(h)*(e.x-u.x)/2+Math.cos(h)*(e.y-u.y)/2),c=Math.pow(l.x,2)/Math.pow(i,2)+Math.pow(l.y,2)/Math.pow(n,2);c>1&&(i*=Math.sqrt(c),n*=Math.sqrt(c));var g=(a===o?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(n,2)-Math.pow(i,2)*Math.pow(l.y,2)-Math.pow(n,2)*Math.pow(l.x,2))/(Math.pow(i,2)*Math.pow(l.y,2)+Math.pow(n,2)*Math.pow(l.x,2)));isNaN(g)&&(g=0);var p=new pt(g*i*l.y/n,g*-n*l.x/i),f=new pt((e.x+u.x)/2+Math.cos(h)*p.x-Math.sin(h)*p.y,(e.y+u.y)/2+Math.sin(h)*p.x+Math.cos(h)*p.y),d=it([1,0],[(l.x-p.x)/i,(l.y-p.y)/n]),y=[(l.x-p.x)/i,(l.y-p.y)/n],v=[(-l.x-p.x)/i,(-l.y-p.y)/n],m=it(y,v);return rt(y,v)<=-1&&(m=Math.PI),rt(y,v)>=1&&(m=0),{currentPoint:u,rX:i,rY:n,sweepFlag:o,xAxisRotation:h,centp:f,a1:d,ad:m}}pathA(t,e){var{pathParser:r}=this,{currentPoint:i,rX:n,rY:s,sweepFlag:a,xAxisRotation:o,centp:h,a1:u,ad:l}=Bt.pathA(r),c=1-a?1:-1,g=u+c*(l/2),p=new pt(h.x+n*Math.cos(g),h.y+s*Math.sin(g));if(r.addMarkerAngle(p,g-c*Math.PI/2),r.addMarkerAngle(i,g-c*Math.PI),e.addPoint(i.x,i.y),t&&!isNaN(u)&&!isNaN(l)){var f=n>s?n:s,d=n>s?1:n/s,y=n>s?s/n:1;t.translate(h.x,h.y),t.rotate(o),t.scale(d,y),t.arc(0,0,f,u,u+l,Boolean(1-a)),t.scale(1/d,1/y),t.rotate(-o),t.translate(-h.x,-h.y)}}static pathZ(t){t.current=t.start}pathZ(t,e){Bt.pathZ(this.pathParser),t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath()}}class zt extends Bt{constructor(t,e,r){super(t,e,r),this.type=\"glyph\",this.horizAdvX=this.getAttribute(\"horiz-adv-x\").getNumber(),this.unicode=this.getAttribute(\"unicode\").getString(),this.arabicForm=this.getAttribute(\"arabic-form\").getString()}}class Ft extends Dt{constructor(t,e,r){super(t,e,new.target===Ft||r),this.type=\"text\",this.x=0,this.y=0,this.measureCache=-1}setContext(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(t,e);var r=this.getStyle(\"dominant-baseline\").getTextBaseline()||this.getStyle(\"alignment-baseline\").getTextBaseline();r&&(t.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if(\"text\"!==this.type)return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);var e=null;return this.children.forEach((r,i)=>{var n=this.getChildBoundingBox(t,this,this,i);e?e.addBoundingBox(n):e=n}),e}getFontSize(){var{document:t,parent:e}=this,r=kt.parse(t.ctx.font).fontSize;return e.getStyle(\"font-size\").getNumber(r)}getTElementBoundingBox(t){var e=this.getFontSize();return new It(this.x,this.y-e,this.x+this.measureText(t),this.y)}getGlyph(t,e,r){var i=e[r],n=null;if(t.isArabic){var s=e.length,a=e[r-1],o=e[r+1],h=\"isolated\";if((0===r||\" \"===a)&&r<s-1&&\" \"!==o&&(h=\"terminal\"),r>0&&\" \"!==a&&r<s-1&&\" \"!==o&&(h=\"medial\"),r>0&&\" \"!==a&&(r===s-1||\" \"===o)&&(h=\"initial\"),\"undefined\"!==typeof t.glyphs[i]){var u=t.glyphs[i];n=u instanceof zt?u:u[h]}}else n=t.glyphs[i];return n||(n=t.missingGlyph),n}getText(){return\"\"}getTextFromNode(t){var e=t||this.node,r=Array.from(e.parentNode.childNodes),i=r.indexOf(e),n=r.length-1,s=D(e.textContent||\"\");return 0===i&&(s=B(s)),i===n&&(s=z(s)),s}renderChildren(t){if(\"text\"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach((e,r)=>{this.renderChild(t,this,this,r)});var{mouse:e}=this.document.screen;e.isWorking()&&e.checkBoundingBox(this,this.getBoundingBox(t))}else this.renderTElementChildren(t)}renderTElementChildren(t){var{document:e,parent:r}=this,i=this.getText(),n=r.getStyle(\"font-family\").getDefinition();if(n)for(var{unitsPerEm:s}=n.fontFace,a=kt.parse(e.ctx.font),o=r.getStyle(\"font-size\").getNumber(a.fontSize),h=r.getStyle(\"font-style\").getString(a.fontStyle),u=o/s,l=n.isRTL?i.split(\"\").reverse().join(\"\"):i,c=F(r.getAttribute(\"dx\").getString()),g=l.length,p=0;p<g;p++){var f=this.getGlyph(n,l,p);t.translate(this.x,this.y),t.scale(u,-u);var d=t.lineWidth;t.lineWidth=t.lineWidth*s/o,\"italic\"===h&&t.transform(1,0,.4,1,0,0),f.render(t),\"italic\"===h&&t.transform(1,0,-.4,1,0,0),t.lineWidth=d,t.scale(1/u,-1/u),t.translate(-this.x,-this.y),this.x+=o*(f.horizAdvX||n.horizAdvX)/s,\"undefined\"===typeof c[p]||isNaN(c[p])||(this.x+=c[p])}else{var{x:y,y:v}=this;t.fillStyle&&t.fillText(i,y,v),t.strokeStyle&&t.strokeText(i,y,v)}}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var t=this.leafTexts[this.textChunkStart],e=t.getStyle(\"text-anchor\").getString(\"start\"),r=0;r=\"start\"===e?t.x-this.minX:\"end\"===e?t.x-this.maxX:t.x-(this.minX+this.maxX)/2;for(var i=this.textChunkStart;i<this.leafTexts.length;i++)this.leafTexts[i].x+=r;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(t){this.children.forEach((e,r)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,r)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,e,r,i){var n=r.children[i];n.children.length>0?n.children.forEach((r,i)=>{e.adjustChildCoordinatesRecursiveCore(t,e,n,i)}):this.adjustChildCoordinates(t,e,r,i)}adjustChildCoordinates(t,e,r,i){var n=r.children[i];if(\"function\"!==typeof n.measureText)return n;t.save(),n.setContext(t,!0);var s=n.getAttribute(\"x\"),a=n.getAttribute(\"y\"),o=n.getAttribute(\"dx\"),h=n.getAttribute(\"dy\"),u=n.getStyle(\"font-family\").getDefinition(),l=Boolean(u)&&u.isRTL;0===i&&(s.hasValue()||s.setValue(n.getInheritedAttribute(\"x\")),a.hasValue()||a.setValue(n.getInheritedAttribute(\"y\")),o.hasValue()||o.setValue(n.getInheritedAttribute(\"dx\")),h.hasValue()||h.setValue(n.getInheritedAttribute(\"dy\")));var c=n.measureText(t);return l&&(e.x-=c),s.hasValue()?(e.applyAnchoring(),n.x=s.getPixels(\"x\"),o.hasValue()&&(n.x+=o.getPixels(\"x\"))):(o.hasValue()&&(e.x+=o.getPixels(\"x\")),n.x=e.x),e.x=n.x,l||(e.x+=c),a.hasValue()?(n.y=a.getPixels(\"y\"),h.hasValue()&&(n.y+=h.getPixels(\"y\"))):(h.hasValue()&&(e.y+=h.getPixels(\"y\")),n.y=e.y),e.y=n.y,e.leafTexts.push(n),e.minX=Math.min(e.minX,n.x,n.x+c),e.maxX=Math.max(e.maxX,n.x,n.x+c),n.clearContext(t),t.restore(),n}getChildBoundingBox(t,e,r,i){var n=r.children[i];if(\"function\"!==typeof n.getBoundingBox)return null;var s=n.getBoundingBox(t);return s?(n.children.forEach((r,i)=>{var a=e.getChildBoundingBox(t,e,n,i);s.addBoundingBox(a)}),s):null}renderChild(t,e,r,i){var n=r.children[i];n.render(t),n.children.forEach((r,i)=>{e.renderChild(t,e,n,i)})}measureText(t){var{measureCache:e}=this;if(~e)return e;var r=this.getText(),i=this.measureTargetText(t,r);return this.measureCache=i,i}measureTargetText(t,e){if(!e.length)return 0;var{parent:r}=this,i=r.getStyle(\"font-family\").getDefinition();if(i){for(var n=this.getFontSize(),s=i.isRTL?e.split(\"\").reverse().join(\"\"):e,a=F(r.getAttribute(\"dx\").getString()),o=s.length,h=0,u=0;u<o;u++){h+=(this.getGlyph(i,s,u).horizAdvX||i.horizAdvX)*n/i.fontFace.unitsPerEm,\"undefined\"===typeof a[u]||isNaN(a[u])||(h+=a[u])}return h}if(!t.measureText)return 10*e.length;t.save(),this.setContext(t,!0);var{width:l}=t.measureText(e);return this.clearContext(t),t.restore(),l}getInheritedAttribute(t){for(var e=this;e instanceof Ft&&e.isFirstChild();){var r=e.parent.getAttribute(t);if(r.hasValue(!0))return r.getValue(\"0\");e=e.parent}return null}}class jt extends Ft{constructor(t,e,r){super(t,e,new.target===jt||r),this.type=\"tspan\",this.text=this.children.length>0?\"\":this.getTextFromNode()}getText(){return this.text}}class Ht extends jt{constructor(){super(...arguments),this.type=\"textNode\"}}class Ut extends Dt{constructor(){super(...arguments),this.type=\"svg\",this.root=!1}setContext(t){var e,{document:r}=this,{screen:i,window:n}=r,s=t.canvas;if(i.setDefaults(t),s.style&&\"undefined\"!==typeof t.font&&n&&\"undefined\"!==typeof n.getComputedStyle){t.font=n.getComputedStyle(s).getPropertyValue(\"font\");var a=new ct(r,\"fontSize\",kt.parse(t.font).fontSize);a.hasValue()&&(r.rootEmSize=a.getPixels(\"y\"),r.emSize=r.rootEmSize)}this.getAttribute(\"x\").hasValue()||this.getAttribute(\"x\",!0).setValue(0),this.getAttribute(\"y\").hasValue()||this.getAttribute(\"y\",!0).setValue(0);var{width:o,height:h}=i.viewPort;this.getStyle(\"width\").hasValue()||this.getStyle(\"width\",!0).setValue(\"100%\"),this.getStyle(\"height\").hasValue()||this.getStyle(\"height\",!0).setValue(\"100%\"),this.getStyle(\"color\").hasValue()||this.getStyle(\"color\",!0).setValue(\"black\");var u=this.getAttribute(\"refX\"),l=this.getAttribute(\"refY\"),c=this.getAttribute(\"viewBox\"),g=c.hasValue()?F(c.getString()):null,p=!this.root&&\"visible\"!==this.getStyle(\"overflow\").getValue(\"hidden\"),f=0,d=0,y=0,v=0;g&&(f=g[0],d=g[1]),this.root||(o=this.getStyle(\"width\").getPixels(\"x\"),h=this.getStyle(\"height\").getPixels(\"y\"),\"marker\"===this.type&&(y=f,v=d,f=0,d=0)),i.viewPort.setCurrent(o,h),!this.node||this.parent&&\"foreignObject\"!==(null===(e=this.node.parentNode)||void 0===e?void 0:e.nodeName)||!this.getStyle(\"transform\",!1,!0).hasValue()||this.getStyle(\"transform-origin\",!1,!0).hasValue()||this.getStyle(\"transform-origin\",!0,!0).setValue(\"50% 50%\"),super.setContext(t),t.translate(this.getAttribute(\"x\").getPixels(\"x\"),this.getAttribute(\"y\").getPixels(\"y\")),g&&(o=g[2],h=g[3]),r.setViewBox({ctx:t,aspectRatio:this.getAttribute(\"preserveAspectRatio\").getString(),width:i.viewPort.width,desiredWidth:o,height:i.viewPort.height,desiredHeight:h,minX:f,minY:d,refX:u.getValue(),refY:l.getValue(),clip:p,clipX:y,clipY:v}),g&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(o,h))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getAttribute(\"width\",!0),n=this.getAttribute(\"height\",!0),s=this.getAttribute(\"viewBox\"),a=this.getAttribute(\"style\"),o=i.getNumber(0),h=n.getNumber(0);if(r)if(\"string\"===typeof r)this.getAttribute(\"preserveAspectRatio\",!0).setValue(r);else{var u=this.getAttribute(\"preserveAspectRatio\");u.hasValue()&&u.setValue(u.getString().replace(/^\\s*(\\S.*\\S)\\s*$/,\"$1\"))}if(i.setValue(t),n.setValue(e),s.hasValue()||s.setValue(\"0 0 \".concat(o||t,\" \").concat(h||e)),a.hasValue()){var l=this.getStyle(\"width\"),c=this.getStyle(\"height\");l.hasValue()&&l.setValue(\"\".concat(t,\"px\")),c.hasValue()&&c.setValue(\"\".concat(e,\"px\"))}}}class Xt extends Bt{constructor(){super(...arguments),this.type=\"rect\"}path(t){var e=this.getAttribute(\"x\").getPixels(\"x\"),r=this.getAttribute(\"y\").getPixels(\"y\"),i=this.getStyle(\"width\",!1,!0).getPixels(\"x\"),n=this.getStyle(\"height\",!1,!0).getPixels(\"y\"),s=this.getAttribute(\"rx\"),a=this.getAttribute(\"ry\"),o=s.getPixels(\"x\"),h=a.getPixels(\"y\");if(s.hasValue()&&!a.hasValue()&&(h=o),a.hasValue()&&!s.hasValue()&&(o=h),o=Math.min(o,i/2),h=Math.min(h,n/2),t){var u=(Math.sqrt(2)-1)/3*4;t.beginPath(),n>0&&i>0&&(t.moveTo(e+o,r),t.lineTo(e+i-o,r),t.bezierCurveTo(e+i-o+u*o,r,e+i,r+h-u*h,e+i,r+h),t.lineTo(e+i,r+n-h),t.bezierCurveTo(e+i,r+n-h+u*h,e+i-o+u*o,r+n,e+i-o,r+n),t.lineTo(e+o,r+n),t.bezierCurveTo(e+o-u*o,r+n,e,r+n-h+u*h,e,r+n-h),t.lineTo(e,r+h),t.bezierCurveTo(e,r+h-u*h,e+o-u*o,r,e+o,r),t.closePath())}return new It(e,r,e+i,r+n)}getMarkers(){return null}}class Yt extends Bt{constructor(){super(...arguments),this.type=\"circle\"}path(t){var e=this.getAttribute(\"cx\").getPixels(\"x\"),r=this.getAttribute(\"cy\").getPixels(\"y\"),i=this.getAttribute(\"r\").getPixels();return t&&i>0&&(t.beginPath(),t.arc(e,r,i,0,2*Math.PI,!1),t.closePath()),new It(e-i,r-i,e+i,r+i)}getMarkers(){return null}}class qt extends Bt{constructor(){super(...arguments),this.type=\"ellipse\"}path(t){var e=(Math.sqrt(2)-1)/3*4,r=this.getAttribute(\"rx\").getPixels(\"x\"),i=this.getAttribute(\"ry\").getPixels(\"y\"),n=this.getAttribute(\"cx\").getPixels(\"x\"),s=this.getAttribute(\"cy\").getPixels(\"y\");return t&&r>0&&i>0&&(t.beginPath(),t.moveTo(n+r,s),t.bezierCurveTo(n+r,s+e*i,n+e*r,s+i,n,s+i),t.bezierCurveTo(n-e*r,s+i,n-r,s+e*i,n-r,s),t.bezierCurveTo(n-r,s-e*i,n-e*r,s-i,n,s-i),t.bezierCurveTo(n+e*r,s-i,n+r,s-e*i,n+r,s),t.closePath()),new It(n-r,s-i,n+r,s+i)}getMarkers(){return null}}class Gt extends Bt{constructor(){super(...arguments),this.type=\"line\"}getPoints(){return[new pt(this.getAttribute(\"x1\").getPixels(\"x\"),this.getAttribute(\"y1\").getPixels(\"y\")),new pt(this.getAttribute(\"x2\").getPixels(\"x\"),this.getAttribute(\"y2\").getPixels(\"y\"))]}path(t){var[{x:e,y:r},{x:i,y:n}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(e,r),t.lineTo(i,n)),new It(e,r,i,n)}getMarkers(){var[t,e]=this.getPoints(),r=t.angleTo(e);return[[t,r],[e,r]]}}class Wt extends Bt{constructor(t,e,r){super(t,e,r),this.type=\"polyline\",this.points=[],this.points=pt.parsePath(this.getAttribute(\"points\").getString())}path(t){var{points:e}=this,[{x:r,y:i}]=e,n=new It(r,i);return t&&(t.beginPath(),t.moveTo(r,i)),e.forEach(e=>{var{x:r,y:i}=e;n.addPoint(r,i),t&&t.lineTo(r,i)}),n}getMarkers(){var{points:t}=this,e=t.length-1,r=[];return t.forEach((i,n)=>{n!==e&&r.push([i,i.angleTo(t[n+1])])}),r.length>0&&r.push([t[t.length-1],r[r.length-1][1]]),r}}class Qt extends Wt{constructor(){super(...arguments),this.type=\"polygon\"}path(t){var e=super.path(t),[{x:r,y:i}]=this.points;return t&&(t.lineTo(r,i),t.closePath()),e}}class $t extends Mt{constructor(){super(...arguments),this.type=\"pattern\"}createPattern(t,e,r){var i=this.getStyle(\"width\").getPixels(\"x\",!0),n=this.getStyle(\"height\").getPixels(\"y\",!0),s=new Ut(this.document,null);s.attributes.viewBox=new ct(this.document,\"viewBox\",this.getAttribute(\"viewBox\").getValue()),s.attributes.width=new ct(this.document,\"width\",\"\".concat(i,\"px\")),s.attributes.height=new ct(this.document,\"height\",\"\".concat(n,\"px\")),s.attributes.transform=new ct(this.document,\"transform\",this.getAttribute(\"patternTransform\").getValue()),s.children=this.children;var a=this.document.createCanvas(i,n),o=a.getContext(\"2d\"),h=this.getAttribute(\"x\"),u=this.getAttribute(\"y\");h.hasValue()&&u.hasValue()&&o.translate(h.getPixels(\"x\",!0),u.getPixels(\"y\",!0)),r.hasValue()?this.styles[\"fill-opacity\"]=r:Reflect.deleteProperty(this.styles,\"fill-opacity\");for(var l=-1;l<=1;l++)for(var c=-1;c<=1;c++)o.save(),s.attributes.x=new ct(this.document,\"x\",l*a.width),s.attributes.y=new ct(this.document,\"y\",c*a.height),s.render(o),o.restore();return t.createPattern(a,\"repeat\")}}class Zt extends Mt{constructor(){super(...arguments),this.type=\"marker\"}render(t,e,r){if(e){var{x:i,y:n}=e,s=this.getAttribute(\"orient\").getString(\"auto\"),a=this.getAttribute(\"markerUnits\").getString(\"strokeWidth\");t.translate(i,n),\"auto\"===s&&t.rotate(r),\"strokeWidth\"===a&&t.scale(t.lineWidth,t.lineWidth),t.save();var o=new Ut(this.document,null);o.type=this.type,o.attributes.viewBox=new ct(this.document,\"viewBox\",this.getAttribute(\"viewBox\").getValue()),o.attributes.refX=new ct(this.document,\"refX\",this.getAttribute(\"refX\").getValue()),o.attributes.refY=new ct(this.document,\"refY\",this.getAttribute(\"refY\").getValue()),o.attributes.width=new ct(this.document,\"width\",this.getAttribute(\"markerWidth\").getValue()),o.attributes.height=new ct(this.document,\"height\",this.getAttribute(\"markerHeight\").getValue()),o.attributes.overflow=new ct(this.document,\"overflow\",this.getAttribute(\"overflow\").getValue()),o.attributes.fill=new ct(this.document,\"fill\",this.getAttribute(\"fill\").getColor(\"black\")),o.attributes.stroke=new ct(this.document,\"stroke\",this.getAttribute(\"stroke\").getValue(\"none\")),o.children=this.children,o.render(t),t.restore(),\"strokeWidth\"===a&&t.scale(1/t.lineWidth,1/t.lineWidth),\"auto\"===s&&t.rotate(-r),t.translate(-i,-n)}}}class Kt extends Mt{constructor(){super(...arguments),this.type=\"defs\"}render(){}}class Jt extends Dt{constructor(){super(...arguments),this.type=\"g\"}getBoundingBox(t){var e=new It;return this.children.forEach(r=>{e.addBoundingBox(r.getBoundingBox(t))}),e}}class te extends Mt{constructor(t,e,r){super(t,e,r),this.attributesToInherit=[\"gradientUnits\"],this.stops=[];var{stops:i,children:n}=this;n.forEach(t=>{\"stop\"===t.type&&i.push(t)})}getGradientUnits(){return this.getAttribute(\"gradientUnits\").getString(\"objectBoundingBox\")}createGradient(t,e,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var{stops:n}=i,s=this.getGradient(t,e);if(!s)return this.addParentOpacity(r,n[n.length-1].color);if(n.forEach(t=>{s.addColorStop(t.offset,this.addParentOpacity(r,t.color))}),this.getAttribute(\"gradientTransform\").hasValue()){var{document:a}=this,{MAX_VIRTUAL_PIXELS:o,viewPort:h}=a.screen,[u]=h.viewPorts,l=new Xt(a,null);l.attributes.x=new ct(a,\"x\",-o/3),l.attributes.y=new ct(a,\"y\",-o/3),l.attributes.width=new ct(a,\"width\",o),l.attributes.height=new ct(a,\"height\",o);var c=new Jt(a,null);c.attributes.transform=new ct(a,\"transform\",this.getAttribute(\"gradientTransform\").getValue()),c.children=[l];var g=new Ut(a,null);g.attributes.x=new ct(a,\"x\",0),g.attributes.y=new ct(a,\"y\",0),g.attributes.width=new ct(a,\"width\",u.width),g.attributes.height=new ct(a,\"height\",u.height),g.children=[c];var p=a.createCanvas(u.width,u.height),f=p.getContext(\"2d\");return f.fillStyle=s,g.render(f),f.createPattern(p,\"no-repeat\")}return s}inheritStopContainer(t){this.attributesToInherit.forEach(e=>{!this.getAttribute(e).hasValue()&&t.getAttribute(e).hasValue()&&this.getAttribute(e,!0).setValue(t.getAttribute(e).getValue())})}addParentOpacity(t,e){return t.hasValue()?new ct(this.document,\"color\",e).addOpacity(t).getColor():e}}class ee extends te{constructor(t,e,r){super(t,e,r),this.type=\"linearGradient\",this.attributesToInherit.push(\"x1\",\"y1\",\"x2\",\"y2\")}getGradient(t,e){var r=\"objectBoundingBox\"===this.getGradientUnits(),i=r?e.getBoundingBox(t):null;if(r&&!i)return null;this.getAttribute(\"x1\").hasValue()||this.getAttribute(\"y1\").hasValue()||this.getAttribute(\"x2\").hasValue()||this.getAttribute(\"y2\").hasValue()||(this.getAttribute(\"x1\",!0).setValue(0),this.getAttribute(\"y1\",!0).setValue(0),this.getAttribute(\"x2\",!0).setValue(1),this.getAttribute(\"y2\",!0).setValue(0));var n=r?i.x+i.width*this.getAttribute(\"x1\").getNumber():this.getAttribute(\"x1\").getPixels(\"x\"),s=r?i.y+i.height*this.getAttribute(\"y1\").getNumber():this.getAttribute(\"y1\").getPixels(\"y\"),a=r?i.x+i.width*this.getAttribute(\"x2\").getNumber():this.getAttribute(\"x2\").getPixels(\"x\"),o=r?i.y+i.height*this.getAttribute(\"y2\").getNumber():this.getAttribute(\"y2\").getPixels(\"y\");return n===a&&s===o?null:t.createLinearGradient(n,s,a,o)}}class re extends te{constructor(t,e,r){super(t,e,r),this.type=\"radialGradient\",this.attributesToInherit.push(\"cx\",\"cy\",\"r\",\"fx\",\"fy\",\"fr\")}getGradient(t,e){var r=\"objectBoundingBox\"===this.getGradientUnits(),i=e.getBoundingBox(t);if(r&&!i)return null;this.getAttribute(\"cx\").hasValue()||this.getAttribute(\"cx\",!0).setValue(\"50%\"),this.getAttribute(\"cy\").hasValue()||this.getAttribute(\"cy\",!0).setValue(\"50%\"),this.getAttribute(\"r\").hasValue()||this.getAttribute(\"r\",!0).setValue(\"50%\");var n=r?i.x+i.width*this.getAttribute(\"cx\").getNumber():this.getAttribute(\"cx\").getPixels(\"x\"),s=r?i.y+i.height*this.getAttribute(\"cy\").getNumber():this.getAttribute(\"cy\").getPixels(\"y\"),a=n,o=s;this.getAttribute(\"fx\").hasValue()&&(a=r?i.x+i.width*this.getAttribute(\"fx\").getNumber():this.getAttribute(\"fx\").getPixels(\"x\")),this.getAttribute(\"fy\").hasValue()&&(o=r?i.y+i.height*this.getAttribute(\"fy\").getNumber():this.getAttribute(\"fy\").getPixels(\"y\"));var h=r?(i.width+i.height)/2*this.getAttribute(\"r\").getNumber():this.getAttribute(\"r\").getPixels(),u=this.getAttribute(\"fr\").getPixels();return t.createRadialGradient(a,o,u,n,s,h)}}class ie extends Mt{constructor(t,e,r){super(t,e,r),this.type=\"stop\";var i=Math.max(0,Math.min(1,this.getAttribute(\"offset\").getNumber())),n=this.getStyle(\"stop-opacity\"),s=this.getStyle(\"stop-color\",!0);\"\"===s.getString()&&s.setValue(\"#000\"),n.hasValue()&&(s=s.addOpacity(n)),this.offset=i,this.color=s.getColor()}}class ne extends Mt{constructor(t,e,r){super(t,e,r),this.type=\"animate\",this.duration=0,this.initialValue=null,this.initialUnits=\"\",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute(\"begin\").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute(\"dur\").getMilliseconds(),this.from=this.getAttribute(\"from\"),this.to=this.getAttribute(\"to\"),this.values=new ct(t,\"values\",null);var i=this.getAttribute(\"values\");i.hasValue()&&this.values.setValue(i.getString().split(\";\"))}getProperty(){var t=this.getAttribute(\"attributeType\").getString(),e=this.getAttribute(\"attributeName\").getString();return\"CSS\"===t?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}calcValue(){var{initialUnits:t}=this,{progress:e,from:r,to:i}=this.getProgress(),n=r.getNumber()+(i.getNumber()-r.getNumber())*e;return\"%\"===t&&(n*=100),\"\".concat(n).concat(t)}update(t){var{parent:e}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var i=this.getAttribute(\"fill\").getString(\"remove\");if(\"indefinite\"===this.getAttribute(\"repeatCount\").getString()||\"indefinite\"===this.getAttribute(\"repeatDur\").getString())this.duration=0;else if(\"freeze\"!==i||this.frozen){if(\"remove\"===i&&!this.removed)return this.removed=!0,r.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,e.animationFrozen=!0,e.animationFrozenValue=r.getString();return!1}this.duration+=t;var n=!1;if(this.begin<this.duration){var s=this.calcValue(),a=this.getAttribute(\"type\");if(a.hasValue()){var o=a.getString();s=\"\".concat(o,\"(\").concat(s,\")\")}r.setValue(s),n=!0}return n}getProgress(){var{document:t,values:e}=this,r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(e.hasValue()){var i=r.progress*(e.getValue().length-1),n=Math.floor(i),s=Math.ceil(i);r.from=new ct(t,\"from\",parseFloat(e.getValue()[n])),r.to=new ct(t,\"to\",parseFloat(e.getValue()[s])),r.progress=(i-n)/(s-n)}else r.from=this.from,r.to=this.to;return r}}class se extends ne{constructor(){super(...arguments),this.type=\"animateColor\"}calcValue(){var{progress:t,from:e,to:r}=this.getProgress(),i=new u(e.getColor()),n=new u(r.getColor());if(i.ok&&n.ok){var s=i.r+(n.r-i.r)*t,a=i.g+(n.g-i.g)*t,o=i.b+(n.b-i.b)*t;return\"rgb(\".concat(Math.floor(s),\", \").concat(Math.floor(a),\", \").concat(Math.floor(o),\")\")}return this.getAttribute(\"from\").getColor()}}class ae extends ne{constructor(){super(...arguments),this.type=\"animateTransform\"}calcValue(){var{progress:t,from:e,to:r}=this.getProgress(),i=F(e.getString()),n=F(r.getString()),s=i.map((e,r)=>e+(n[r]-e)*t).join(\" \");return s}}class oe extends Mt{constructor(t,e,r){super(t,e,r),this.type=\"font\",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute(\"horiz-adv-x\").getNumber();var{definitions:i}=t,{children:n}=this;for(var s of n)switch(s.type){case\"font-face\":this.fontFace=s;var a=s.getStyle(\"font-family\");a.hasValue()&&(i[a.getString()]=this);break;case\"missing-glyph\":this.missingGlyph=s;break;case\"glyph\":var o=s;o.arabicForm?(this.isRTL=!0,this.isArabic=!0,\"undefined\"===typeof this.glyphs[o.unicode]&&(this.glyphs[o.unicode]=Object.create(null)),this.glyphs[o.unicode][o.arabicForm]=o):this.glyphs[o.unicode]=o}}render(){}}class he extends Mt{constructor(t,e,r){super(t,e,r),this.type=\"font-face\",this.ascent=this.getAttribute(\"ascent\").getNumber(),this.descent=this.getAttribute(\"descent\").getNumber(),this.unitsPerEm=this.getAttribute(\"units-per-em\").getNumber()}}class ue extends Bt{constructor(){super(...arguments),this.type=\"missing-glyph\",this.horizAdvX=0}}class le extends Ft{constructor(){super(...arguments),this.type=\"tref\"}getText(){var t=this.getHrefAttribute().getDefinition();if(t){var e=t.children[0];if(e)return e.getText()}return\"\"}}class ce extends Ft{constructor(t,e,r){super(t,e,r),this.type=\"a\";var{childNodes:i}=e,n=i[0],s=i.length>0&&Array.from(i).every(t=>3===t.nodeType);this.hasText=s,this.text=s?this.getTextFromNode(n):\"\"}getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);var{document:e,x:r,y:i}=this,{mouse:n}=e.screen,s=new ct(e,\"fontSize\",kt.parse(e.ctx.font).fontSize);n.isWorking()&&n.checkBoundingBox(this,new It(r,i-s.getPixels(\"y\"),r+this.measureText(t),i))}else if(this.children.length>0){var a=new Jt(this.document,null);a.children=this.children,a.parent=this,a.render(t)}}onClick(){var{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor=\"pointer\"}}function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}class fe extends Ft{constructor(t,e,r){super(t,e,r),this.type=\"textPath\",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([[\"\",0]]);var i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(i)}getText(){return this.text}path(t){var{dataArray:e}=this;t&&t.beginPath(),e.forEach(e=>{var{type:r,points:i}=e;switch(r){case Lt.LINE_TO:t&&t.lineTo(i[0],i[1]);break;case Lt.MOVE_TO:t&&t.moveTo(i[0],i[1]);break;case Lt.CURVE_TO:t&&t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case Lt.QUAD_TO:t&&t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case Lt.ARC:var[n,s,a,o,h,u,l,c]=i,g=a>o?a:o,p=a>o?1:a/o,f=a>o?o/a:1;t&&(t.translate(n,s),t.rotate(l),t.scale(p,f),t.arc(0,0,g,h,h+u,Boolean(1-c)),t.scale(1/p,1/f),t.rotate(-l),t.translate(-n,-s));break;case Lt.CLOSE_PATH:t&&t.closePath()}})}renderChildren(t){this.setTextData(t),t.save();var e=this.parent.getStyle(\"text-decoration\").getString(),r=this.getFontSize(),{glyphInfo:i}=this,n=t.fillStyle;\"underline\"===e&&t.beginPath(),i.forEach((i,n)=>{var{p0:s,p1:a,rotation:o,text:h}=i;t.save(),t.translate(s.x,s.y),t.rotate(o),t.fillStyle&&t.fillText(h,0,0),t.strokeStyle&&t.strokeText(h,0,0),t.restore(),\"underline\"===e&&(0===n&&t.moveTo(s.x,s.y+r/8),t.lineTo(a.x,a.y+r/5))}),\"underline\"===e&&(t.lineWidth=r/20,t.strokeStyle=n,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,e,r,i,n,s,a,o,h){var u=s,l=this.measureText(t,o);\" \"===o&&\"justify\"===e&&r<i&&(l+=(i-r)/n),h>-1&&(u+=this.getLetterSpacingAt(h));var c=this.textHeight/20,g=this.getEquidistantPointOnPath(u,c,0),p=this.getEquidistantPointOnPath(u+l,c,0),f={p0:g,p1:p},d=g&&p?Math.atan2(p.y-g.y,p.x-g.x):0;if(a){var y=Math.cos(Math.PI/2+d)*a,v=Math.cos(-d)*a;f.p0=pe(pe({},g),{},{x:g.x+y,y:g.y+v}),f.p1=pe(pe({},p),{},{x:p.x+y,y:p.y+v})}return{offset:u+=l,segment:f,rotation:d}}measureText(t,e){var{measuresCache:r}=this,i=e||this.getText();if(r.has(i))return r.get(i);var n=this.measureTargetText(t,i);return r.set(i,n),n}setTextData(t){if(!this.glyphInfo){var e=this.getText(),r=e.split(\"\"),i=e.split(\" \").length-1,n=this.parent.getAttribute(\"dx\").split().map(t=>t.getPixels(\"x\")),s=this.parent.getAttribute(\"dy\").getPixels(\"y\"),a=this.parent.getStyle(\"text-anchor\").getString(\"start\"),o=this.getStyle(\"letter-spacing\"),h=this.parent.getStyle(\"letter-spacing\"),u=0;o.hasValue()&&\"inherit\"!==o.getValue()?o.hasValue()&&\"initial\"!==o.getValue()&&\"unset\"!==o.getValue()&&(u=o.getPixels()):u=h.getPixels();var l=[],c=e.length;this.letterSpacingCache=l;for(var g=0;g<c;g++)l.push(\"undefined\"!==typeof n[g]?n[g]:u);var p=l.reduce((t,e,r)=>0===r?0:t+e||0,0),f=this.measureText(t),d=Math.max(f+p,0);this.textWidth=f,this.textHeight=this.getFontSize(),this.glyphInfo=[];var y=this.getPathLength(),v=this.getStyle(\"startOffset\").getNumber(0)*y,m=0;\"middle\"!==a&&\"center\"!==a||(m=-d/2),\"end\"!==a&&\"right\"!==a||(m=-d),m+=v,r.forEach((e,n)=>{var{offset:o,segment:h,rotation:u}=this.findSegmentToFitChar(t,a,d,y,i,m,s,e,n);m=o,h.p0&&h.p1&&this.glyphInfo.push({text:r[n],p0:h.p0,p1:h.p1,rotation:u})})}}parsePathData(t){if(this.pathLength=-1,!t)return[];var e=[],{pathParser:r}=t;for(r.reset();!r.isEnd();){var{current:i}=r,n=i?i.x:0,s=i?i.y:0,a=r.next(),o=a.type,h=[];switch(a.type){case Lt.MOVE_TO:this.pathM(r,h);break;case Lt.LINE_TO:o=this.pathL(r,h);break;case Lt.HORIZ_LINE_TO:o=this.pathH(r,h);break;case Lt.VERT_LINE_TO:o=this.pathV(r,h);break;case Lt.CURVE_TO:this.pathC(r,h);break;case Lt.SMOOTH_CURVE_TO:o=this.pathS(r,h);break;case Lt.QUAD_TO:this.pathQ(r,h);break;case Lt.SMOOTH_QUAD_TO:o=this.pathT(r,h);break;case Lt.ARC:h=this.pathA(r);break;case Lt.CLOSE_PATH:Bt.pathZ(r)}a.type!==Lt.CLOSE_PATH?e.push({type:o,points:h,start:{x:n,y:s},pathLength:this.calcLength(n,s,o,h)}):e.push({type:Lt.CLOSE_PATH,points:[],pathLength:0})}return e}pathM(t,e){var{x:r,y:i}=Bt.pathM(t).point;e.push(r,i)}pathL(t,e){var{x:r,y:i}=Bt.pathL(t).point;return e.push(r,i),Lt.LINE_TO}pathH(t,e){var{x:r,y:i}=Bt.pathH(t).point;return e.push(r,i),Lt.LINE_TO}pathV(t,e){var{x:r,y:i}=Bt.pathV(t).point;return e.push(r,i),Lt.LINE_TO}pathC(t,e){var{point:r,controlPoint:i,currentPoint:n}=Bt.pathC(t);e.push(r.x,r.y,i.x,i.y,n.x,n.y)}pathS(t,e){var{point:r,controlPoint:i,currentPoint:n}=Bt.pathS(t);return e.push(r.x,r.y,i.x,i.y,n.x,n.y),Lt.CURVE_TO}pathQ(t,e){var{controlPoint:r,currentPoint:i}=Bt.pathQ(t);e.push(r.x,r.y,i.x,i.y)}pathT(t,e){var{controlPoint:r,currentPoint:i}=Bt.pathT(t);return e.push(r.x,r.y,i.x,i.y),Lt.QUAD_TO}pathA(t){var{rX:e,rY:r,sweepFlag:i,xAxisRotation:n,centp:s,a1:a,ad:o}=Bt.pathA(t);return 0===i&&o>0&&(o-=2*Math.PI),1===i&&o<0&&(o+=2*Math.PI),[s.x,s.y,e,r,a,o,n,i]}calcLength(t,e,r,i){var n=0,s=null,a=null,o=0;switch(r){case Lt.LINE_TO:return this.getLineLength(t,e,i[0],i[1]);case Lt.CURVE_TO:for(n=0,s=this.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),o=.01;o<=1;o+=.01)a=this.getPointOnCubicBezier(o,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),n+=this.getLineLength(s.x,s.y,a.x,a.y),s=a;return n;case Lt.QUAD_TO:for(n=0,s=this.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),o=.01;o<=1;o+=.01)a=this.getPointOnQuadraticBezier(o,t,e,i[0],i[1],i[2],i[3]),n+=this.getLineLength(s.x,s.y,a.x,a.y),s=a;return n;case Lt.ARC:n=0;var h=i[4],u=i[5],l=i[4]+u,c=Math.PI/180;if(Math.abs(h-l)<c&&(c=Math.abs(h-l)),s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),u<0)for(o=h-c;o>l;o-=c)a=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],o,0),n+=this.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(o=h+c;o<l;o+=c)a=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],o,0),n+=this.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),n+=this.getLineLength(s.x,s.y,a.x,a.y)}return 0}getPointOnLine(t,e,r,i,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,o=(n-r)/(i-e+tt),h=Math.sqrt(t*t/(1+o*o));i<e&&(h*=-1);var u=o*h,l=null;if(i===e)l={x:s,y:a+u};else if((a-r)/(s-e+tt)===o)l={x:s+h,y:a+u};else{var c,g,p=this.getLineLength(e,r,i,n);if(p<tt)return null;var f=(s-e)*(i-e)+(a-r)*(n-r);c=e+(f/=p*p)*(i-e),g=r+f*(n-r);var d=this.getLineLength(s,a,c,g),y=Math.sqrt(t*t-d*d);h=Math.sqrt(y*y/(1+o*o)),i<e&&(h*=-1),l={x:c+h,y:g+(u=o*h)}}return l}getPointOnPath(t){var e=this.getPathLength(),r=0,i=null;if(t<-5e-5||t-5e-5>e)return null;var{dataArray:n}=this;for(var s of n){if(!s||!(s.pathLength<5e-5||r+s.pathLength+5e-5<t)){var a=t-r,o=0;switch(s.type){case Lt.LINE_TO:i=this.getPointOnLine(a,s.start.x,s.start.y,s.points[0],s.points[1],s.start.x,s.start.y);break;case Lt.ARC:var h=s.points[4],u=s.points[5],l=s.points[4]+u;if(o=h+a/s.pathLength*u,u<0&&o<l||u>=0&&o>l)break;i=this.getPointOnEllipticalArc(s.points[0],s.points[1],s.points[2],s.points[3],o,s.points[6]);break;case Lt.CURVE_TO:(o=a/s.pathLength)>1&&(o=1),i=this.getPointOnCubicBezier(o,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3],s.points[4],s.points[5]);break;case Lt.QUAD_TO:(o=a/s.pathLength)>1&&(o=1),i=this.getPointOnQuadraticBezier(o,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3])}if(i)return i;break}r+=s.pathLength}return null}getLineLength(t,e,r,i){return Math.sqrt((r-t)*(r-t)+(i-e)*(i-e))}getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((t,e)=>e.pathLength>0?t+e.pathLength:t,0)),this.pathLength}getPointOnCubicBezier(t,e,r,i,n,s,a,o,h){return{x:o*nt(t)+s*st(t)+i*at(t)+e*ot(t),y:h*nt(t)+a*st(t)+n*at(t)+r*ot(t)}}getPointOnQuadraticBezier(t,e,r,i,n,s,a){return{x:s*ht(t)+i*ut(t)+e*lt(t),y:a*ht(t)+n*ut(t)+r*lt(t)}}getPointOnEllipticalArc(t,e,r,i,n,s){var a=Math.cos(s),o=Math.sin(s),h=r*Math.cos(n),u=i*Math.sin(n);return{x:t+(h*a-u*o),y:e+(h*o+u*a)}}buildEquidistantCache(t,e){var r=this.getPathLength(),i=e||.25,n=t||r/100;if(!this.equidistantCache||this.equidistantCache.step!==n||this.equidistantCache.precision!==i){this.equidistantCache={step:n,precision:i,points:[]};for(var s=0,a=0;a<=r;a+=i){var o=this.getPointOnPath(a),h=this.getPointOnPath(a+i);o&&h&&((s+=this.getLineLength(o.x,o.y,h.x,h.y))>=n&&(this.equidistantCache.points.push({x:o.x,y:o.y,distance:a}),s-=n))}}}getEquidistantPointOnPath(t,e,r){if(this.buildEquidistantCache(e,r),t<0||t-this.getPathLength()>5e-5)return null;var i=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}}var de=/^\\s*data:(([^/,;]+\\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ye extends Dt{constructor(t,e,r){super(t,e,r),this.type=\"image\",this.loaded=!1;var i=this.getHrefAttribute().getString();if(i){var n=i.endsWith(\".svg\")||/^\\s*data:image\\/svg\\+xml/i.test(i);t.images.push(this),n?this.loadSvg(i):this.loadImage(i),this.isSvg=n}}loadImage(t){var e=this;return n(function*(){try{var r=yield e.document.createImage(t);e.image=r}catch(i){console.error('Error while loading image \"'.concat(t,'\":'),i)}e.loaded=!0})()}loadSvg(t){var e=this;return n(function*(){var r=de.exec(t);if(r){var i=r[5];\"base64\"===r[4]?e.image=atob(i):e.image=decodeURIComponent(i)}else try{var n=yield e.document.fetch(t),s=yield n.text();e.image=s}catch(a){console.error('Error while loading image \"'.concat(t,'\":'),a)}e.loaded=!0})()}renderChildren(t){var{document:e,image:r,loaded:i}=this,n=this.getAttribute(\"x\").getPixels(\"x\"),s=this.getAttribute(\"y\").getPixels(\"y\"),a=this.getStyle(\"width\").getPixels(\"x\"),o=this.getStyle(\"height\").getPixels(\"y\");if(i&&r&&a&&o){if(t.save(),t.translate(n,s),this.isSvg){var h=e.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:a,scaleHeight:o});h.document.documentElement.parent=this,h.render()}else{var u=this.image;e.setViewBox({ctx:t,aspectRatio:this.getAttribute(\"preserveAspectRatio\").getString(),width:a,desiredWidth:u.width,height:o,desiredHeight:u.height}),this.loaded&&(\"undefined\"===typeof u.complete||u.complete)&&t.drawImage(u,0,0)}t.restore()}}getBoundingBox(){var t=this.getAttribute(\"x\").getPixels(\"x\"),e=this.getAttribute(\"y\").getPixels(\"y\"),r=this.getStyle(\"width\").getPixels(\"x\"),i=this.getStyle(\"height\").getPixels(\"y\");return new It(t,e,t+r,e+i)}}class ve extends Dt{constructor(){super(...arguments),this.type=\"symbol\"}render(t){}}class me{constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}load(t,e){var r=this;return n(function*(){try{var{document:i}=r,n=(yield i.canvg.parser.load(e)).getElementsByTagName(\"font\");Array.from(n).forEach(e=>{var r=i.createElement(e);i.definitions[t]=r})}catch(s){console.error('Error while loading font \"'.concat(e,'\":'),s)}r.loaded=!0})()}}class xe extends Mt{constructor(t,e,r){super(t,e,r),this.type=\"style\";var i=D(Array.from(e.childNodes).map(t=>t.textContent).join(\"\").replace(/(\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+\\/)|(^[\\s]*\\/\\/.*)/gm,\"\").replace(/@import.*;/g,\"\"));i.split(\"}\").forEach(e=>{var r=e.trim();if(r){var i=r.split(\"{\"),n=i[0].split(\",\"),s=i[1].split(\";\");n.forEach(e=>{var r=e.trim();if(r){var i=t.styles[r]||{};if(s.forEach(e=>{var r=e.indexOf(\":\"),n=e.substr(0,r).trim(),s=e.substr(r+1,e.length-r).trim();n&&s&&(i[n]=new ct(t,n,s))}),t.styles[r]=i,t.stylesSpecificity[r]=J(r),\"@font-face\"===r){var n=i[\"font-family\"].getString().replace(/\"|'/g,\"\");i.src.getString().split(\",\").forEach(e=>{if(e.indexOf('format(\"svg\")')>0){var r=U(e);r&&new me(t).load(n,r)}})}}})}})}}xe.parseExternalUrl=U;class be extends Dt{constructor(){super(...arguments),this.type=\"use\"}setContext(t){super.setContext(t);var e=this.getAttribute(\"x\"),r=this.getAttribute(\"y\");e.hasValue()&&t.translate(e.getPixels(\"x\"),0),r.hasValue()&&t.translate(0,r.getPixels(\"y\"))}path(t){var{element:e}=this;e&&e.path(t)}renderChildren(t){var{document:e,element:r}=this;if(r){var i=r;if(\"symbol\"===r.type&&((i=new Ut(e,null)).attributes.viewBox=new ct(e,\"viewBox\",r.getAttribute(\"viewBox\").getString()),i.attributes.preserveAspectRatio=new ct(e,\"preserveAspectRatio\",r.getAttribute(\"preserveAspectRatio\").getString()),i.attributes.overflow=new ct(e,\"overflow\",r.getAttribute(\"overflow\").getString()),i.children=r.children,r.styles.opacity=new ct(e,\"opacity\",this.calculateOpacity())),\"svg\"===i.type){var n=this.getStyle(\"width\",!1,!0),s=this.getStyle(\"height\",!1,!0);n.hasValue()&&(i.attributes.width=new ct(e,\"width\",n.getString())),s.hasValue()&&(i.attributes.height=new ct(e,\"height\",s.getString()))}var a=i.parent;i.parent=this,i.render(t),i.parent=a}}getBoundingBox(t){var{element:e}=this;return e?e.getBoundingBox(t):null}elementTransform(){var{document:t,element:e}=this;return Et.fromElement(t,e)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Se(t,e,r,i,n,s){return t[r*i*4+4*e+s]}function we(t,e,r,i,n,s,a){t[r*i*4+4*e+s]=a}function Te(t,e,r){return t[e]*r}function Ae(t,e,r,i){return e+Math.cos(t)*r+Math.sin(t)*i}class Oe extends Mt{constructor(t,e,r){super(t,e,r),this.type=\"feColorMatrix\";var i=F(this.getAttribute(\"values\").getString());switch(this.getAttribute(\"type\").getString(\"matrix\")){case\"saturate\":var n=i[0];i=[.213+.787*n,.715-.715*n,.072-.072*n,0,0,.213-.213*n,.715+.285*n,.072-.072*n,0,0,.213-.213*n,.715-.715*n,.072+.928*n,0,0,0,0,0,1,0,0,0,0,0,1];break;case\"hueRotate\":var s=i[0]*Math.PI/180;i=[Ae(s,.213,.787,-.213),Ae(s,.715,-.715,-.715),Ae(s,.072,-.072,.928),0,0,Ae(s,.213,-.213,.143),Ae(s,.715,.285,.14),Ae(s,.072,-.072,-.283),0,0,Ae(s,.213,-.213,-.787),Ae(s,.715,-.715,.715),Ae(s,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case\"luminanceToAlpha\":i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=i,this.includeOpacity=this.getAttribute(\"includeOpacity\").hasValue()}apply(t,e,r,i,n){for(var{includeOpacity:s,matrix:a}=this,o=t.getImageData(0,0,i,n),h=0;h<n;h++)for(var u=0;u<i;u++){var l=Se(o.data,u,h,i,0,0),c=Se(o.data,u,h,i,0,1),g=Se(o.data,u,h,i,0,2),p=Se(o.data,u,h,i,0,3),f=Te(a,0,l)+Te(a,1,c)+Te(a,2,g)+Te(a,3,p)+Te(a,4,1),d=Te(a,5,l)+Te(a,6,c)+Te(a,7,g)+Te(a,8,p)+Te(a,9,1),y=Te(a,10,l)+Te(a,11,c)+Te(a,12,g)+Te(a,13,p)+Te(a,14,1),v=Te(a,15,l)+Te(a,16,c)+Te(a,17,g)+Te(a,18,p)+Te(a,19,1);s&&(f=0,d=0,y=0,v*=p/255),we(o.data,u,h,i,0,0,f),we(o.data,u,h,i,0,1,d),we(o.data,u,h,i,0,2,y),we(o.data,u,h,i,0,3,v)}t.clearRect(0,0,i,n),t.putImageData(o,0,0)}}class Ce extends Mt{constructor(){super(...arguments),this.type=\"mask\"}apply(t,e){var{document:r}=this,i=this.getAttribute(\"x\").getPixels(\"x\"),n=this.getAttribute(\"y\").getPixels(\"y\"),s=this.getStyle(\"width\").getPixels(\"x\"),a=this.getStyle(\"height\").getPixels(\"y\");if(!s&&!a){var o=new It;this.children.forEach(e=>{o.addBoundingBox(e.getBoundingBox(t))}),i=Math.floor(o.x1),n=Math.floor(o.y1),s=Math.floor(o.width),a=Math.floor(o.height)}var h=this.removeStyles(e,Ce.ignoreStyles),u=r.createCanvas(i+s,n+a),l=u.getContext(\"2d\");r.screen.setDefaults(l),this.renderChildren(l),new Oe(r,{nodeType:1,childNodes:[],attributes:[{nodeName:\"type\",value:\"luminanceToAlpha\"},{nodeName:\"includeOpacity\",value:\"true\"}]}).apply(l,0,0,i+s,n+a);var c=r.createCanvas(i+s,n+a),g=c.getContext(\"2d\");r.screen.setDefaults(g),e.render(g),g.globalCompositeOperation=\"destination-in\",g.fillStyle=l.createPattern(u,\"no-repeat\"),g.fillRect(0,0,i+s,n+a),t.fillStyle=g.createPattern(c,\"no-repeat\"),t.fillRect(0,0,i+s,n+a),this.restoreStyles(e,h)}render(t){}}Ce.ignoreStyles=[\"mask\",\"transform\",\"clip-path\"];var Pe=()=>{};class Ee extends Mt{constructor(){super(...arguments),this.type=\"clipPath\"}apply(t){var{document:e}=this,r=Reflect.getPrototypeOf(t),{beginPath:i,closePath:n}=t;r&&(r.beginPath=Pe,r.closePath=Pe),Reflect.apply(i,t,[]),this.children.forEach(i=>{if(\"undefined\"!==typeof i.path){var s=\"undefined\"!==typeof i.elementTransform?i.elementTransform():null;s||(s=Et.fromElement(e,i)),s&&s.apply(t),i.path(t),r&&(r.closePath=n),s&&s.unapply(t)}}),Reflect.apply(n,t,[]),t.clip(),r&&(r.beginPath=i,r.closePath=n)}render(t){}}class Me extends Mt{constructor(){super(...arguments),this.type=\"filter\"}apply(t,e){var{document:r,children:i}=this,n=e.getBoundingBox(t);if(n){var s=0,a=0;i.forEach(t=>{var e=t.extraFilterDistance||0;s=Math.max(s,e),a=Math.max(a,e)});var o=Math.floor(n.width),h=Math.floor(n.height),u=o+2*s,l=h+2*a;if(!(u<1||l<1)){var c=Math.floor(n.x),g=Math.floor(n.y),p=this.removeStyles(e,Me.ignoreStyles),f=r.createCanvas(u,l),d=f.getContext(\"2d\");r.screen.setDefaults(d),d.translate(-c+s,-g+a),e.render(d),i.forEach(t=>{\"function\"===typeof t.apply&&t.apply(d,0,0,u,l)}),t.drawImage(f,0,0,u,l,c-s,g-a,u,l),this.restoreStyles(e,p)}}}render(t){}}Me.ignoreStyles=[\"filter\",\"transform\",\"clip-path\"];class Ne extends Mt{constructor(t,e,r){super(t,e,r),this.type=\"feDropShadow\",this.addStylesFromStyleDefinition()}apply(t,e,r,i,n){}}class _e extends Mt{constructor(){super(...arguments),this.type=\"feMorphology\"}apply(t,e,r,i,n){}}class Ve extends Mt{constructor(){super(...arguments),this.type=\"feComposite\"}apply(t,e,r,i,n){}}class Re extends Mt{constructor(t,e,r){super(t,e,r),this.type=\"feGaussianBlur\",this.blurRadius=Math.floor(this.getAttribute(\"stdDeviation\").getNumber()),this.extraFilterDistance=this.blurRadius}apply(t,e,r,i,n){var{document:s,blurRadius:a}=this,o=s.window?s.window.document.body:null,h=t.canvas;h.id=s.getUniqueId(),o&&(h.style.display=\"none\",o.appendChild(h)),k(h,e,r,i,n,a),o&&o.removeChild(h)}}class ke extends Mt{constructor(){super(...arguments),this.type=\"title\"}}class Ie extends Mt{constructor(){super(...arguments),this.type=\"desc\"}}var Le={svg:Ut,rect:Xt,circle:Yt,ellipse:qt,line:Gt,polyline:Wt,polygon:Qt,path:Bt,pattern:$t,marker:Zt,defs:Kt,linearGradient:ee,radialGradient:re,stop:ie,animate:ne,animateColor:se,animateTransform:ae,font:oe,\"font-face\":he,\"missing-glyph\":ue,glyph:zt,text:Ft,tspan:jt,tref:le,a:ce,textPath:fe,image:ye,g:Jt,symbol:ve,style:xe,use:be,mask:Ce,clipPath:Ee,filter:Me,feDropShadow:Ne,feMorphology:_e,feComposite:Ve,feColorMatrix:Oe,feGaussianBlur:Re,title:ke,desc:Ie};function De(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function Be(){return Be=n(function*(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.createElement(\"img\");return e&&(r.crossOrigin=\"Anonymous\"),new Promise((e,i)=>{r.onload=()=>{e(r)},r.onerror=(t,e,r,n,s)=>{i(s)},r.src=t})}),Be.apply(this,arguments)}class ze{constructor(t){var{rootEmSize:e=12,emSize:r=12,createCanvas:i=ze.createCanvas,createImage:n=ze.createImage,anonymousCrossOrigin:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=t,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=e,this.emSize=r,this.createCanvas=i,this.createImage=this.bindCreateImage(n,s),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(t,e){return\"boolean\"===typeof e?(r,i)=>t(r,\"boolean\"===typeof i?i:e):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:t}=this;return t[t.length-1]}set emSize(t){var{emSizeStack:e}=this;e.push(t)}popEmSize(){var{emSizeStack:t}=this;t.pop()}getUniqueId(){return\"canvg\".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){var e=this.createElement(t.documentElement);return e.root=!0,e.addStylesFromStyleDefinition(),this.documentElement=e,e}createElement(t){var e=t.nodeName.replace(/^[^:]+:/,\"\"),r=ze.elementTypes[e];return\"undefined\"!==typeof r?new r(this,t):new Nt(this,t)}createTextNode(t){return new Ht(this,t)}setViewBox(t){this.screen.setViewBox(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?De(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({document:this},t))}}function Fe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function je(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}ze.createCanvas=function(t,e){var r=document.createElement(\"canvas\");return r.width=t,r.height=e,r},ze.createImage=function(t){return Be.apply(this,arguments)},ze.elementTypes=Le;class He{constructor(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new bt(r),this.screen=new vt(t,r),this.options=r;var i=new ze(this,r),n=i.createDocumentElement(e);this.document=i,this.documentElement=n}static from(t,e){var r=arguments;return n(function*(){var i=r.length>2&&void 0!==r[2]?r[2]:{},n=new bt(i),s=yield n.parse(e);return new He(t,s,i)})()}static fromString(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new bt(r).parseFromString(e);return new He(t,i,r)}fork(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return He.from(t,e,je(je({},this.options),r))}forkString(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return He.fromString(t,e,je(je({},this.options),r))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var t=arguments,e=this;return n(function*(){var r=t.length>0&&void 0!==t[0]?t[0]:{};e.start(je({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},r)),yield e.ready(),e.stop()})()}start(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:e,screen:r,options:i}=this;r.start(e,je(je({enableRedraw:!0},i),t))}stop(){this.screen.stop()}resize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(t,e,r)}}},58827:(t,e,r)=>{\"use strict\";var i=r(51909),n=r(31524);t.exports=function(t){return i(n(t))}},58967:(t,e,r)=>{\"use strict\";var i=r(9781).charAt;t.exports=function(t,e,r){return e+(r?i(t,e).length:1)}},59833:(t,e,r)=>{\"use strict\";var i=r(83220),n=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+\" is not an object\")}},60774:t=>{\"use strict\";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},62557:(t,e,r)=>{\"use strict\";var i=r(12341);t.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},62586:(t,e,r)=>{\"use strict\";var i=r(46064),n=r(23331),s=r(95945),a=r(44364),o=r(98639),h=r(27092),u=r(79289),l=r(30981),c=r(93969),g=r(40009),p=r(68062),f=r(50453),d=r(92419),y=r(81271),v=a.PROPER,m=a.CONFIGURABLE,x=y.IteratorPrototype,b=y.BUGGY_SAFARI_ITERATORS,S=f(\"iterator\"),w=\"keys\",T=\"values\",A=\"entries\",O=function(){return this};t.exports=function(t,e,r,a,f,y,C){h(r,e,a);var P,E,M,N=function(t){if(t===f&&I)return I;if(!b&&t&&t in R)return R[t];switch(t){case w:case T:case A:return function(){return new r(this,t)}}return function(){return new r(this)}},_=e+\" Iterator\",V=!1,R=t.prototype,k=R[S]||R[\"@@iterator\"]||f&&R[f],I=!b&&k||N(f),L=\"Array\"===e&&R.entries||k;if(L&&(P=u(L.call(new t)))!==Object.prototype&&P.next&&(s||u(P)===x||(l?l(P,x):o(P[S])||p(P,S,O)),c(P,_,!0,!0),s&&(d[_]=O)),v&&f===T&&k&&k.name!==T&&(!s&&m?g(R,\"name\",T):(V=!0,I=function(){return n(k,this)})),f)if(E={values:N(T),keys:y?I:N(w),entries:N(A)},C)for(M in E)(b||V||!(M in R))&&p(R,M,E[M]);else i({target:e,proto:!0,forced:b||V},E);return s&&!C||R[S]===I||p(R,S,I,{name:f}),d[e]=I,E}},63019:(t,e,r)=>{\"use strict\";var i=r(6395);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},64135:(t,e,r)=>{\"use strict\";var i=r(20170),n=r(2099),s=r(52724),a=r(59833),o=r(31779),h=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=\"enumerable\",g=\"configurable\",p=\"writable\";e.f=i?s?function(t,e,r){if(a(t),e=o(e),a(r),\"function\"===typeof t&&\"prototype\"===e&&\"value\"in r&&p in r&&!r[p]){var i=l(t,e);i&&i[p]&&(t[e]=r.value,r={configurable:g in r?r[g]:i[g],enumerable:c in r?r[c]:i[c],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(a(t),e=o(e),a(r),n)try{return u(t,e,r)}catch(i){}if(\"get\"in r||\"set\"in r)throw new h(\"Accessors not supported\");return\"value\"in r&&(t[e]=r.value),t}},65953:(t,e,r)=>{\"use strict\";var i=r(11190).navigator,n=i&&i.userAgent;t.exports=n?String(n):\"\"},68062:(t,e,r)=>{\"use strict\";var i=r(98639),n=r(64135),s=r(25637),a=r(86867);t.exports=function(t,e,r,o){o||(o={});var h=o.enumerable,u=void 0!==o.name?o.name:e;if(i(r)&&s(r,u,o),o.global)h?t[e]=r:a(e,r);else{try{o.unsafe?t[e]&&(h=!0):delete t[e]}catch(l){}h?t[e]=r:n.f(t,e,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},68645:(t,e,r)=>{\"use strict\";var i=r(8854),n=r(98639),s=r(14194),a=r(50453)(\"toStringTag\"),o=Object,h=\"Arguments\"===s(function(){return arguments}());t.exports=i?s:function(t){var e,r,i;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=o(t),a))?r:h?s(e):\"Object\"===(i=s(e))&&n(e.callee)?\"Arguments\":i}},70810:(t,e,r)=>{\"use strict\";var i=r(51119),n=r(35589),s=r(27045),a=r(64135);t.exports=function(t,e,r){for(var o=n(e),h=a.f,u=s.f,l=0;l<o.length;l++){var c=o[l];i(t,c)||r&&i(r,c)||h(t,c,u(e,c))}}},71620:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(90708);t.exports=function(t,e,r){try{return i(n(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(s){}}},72692:(t,e,r)=>{\"use strict\";var i=r(83344);t.exports=function(t){return i(t.length)}},73588:(t,e,r)=>{\"use strict\";var i=r(46064),n=r(30044).trim;i({target:\"String\",proto:!0,forced:r(53504)(\"trim\")},{trim:function(){return n(this)}})},75292:(t,e,r)=>{\"use strict\";var i=r(98009),n=Math.max,s=Math.min;t.exports=function(t,e){var r=i(t);return r<0?n(r+e,0):s(r,e)}},77381:t=>{\"use strict\";var e=String;t.exports=function(t){try{return e(t)}catch(r){return\"Object\"}}},79110:(t,e,r)=>{\"use strict\";var i=r(96870),n=0,s=Math.random(),a=i(1.1.toString);t.exports=function(t){return\"Symbol(\"+(void 0===t?\"\":t)+\")_\"+a(++n+s,36)}},79179:t=>{\"use strict\";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?r:e)(i)}},79289:(t,e,r)=>{\"use strict\";var i=r(51119),n=r(98639),s=r(79831),a=r(53141),o=r(62557),h=a(\"IE_PROTO\"),u=Object,l=u.prototype;t.exports=o?u.getPrototypeOf:function(t){var e=s(t);if(i(e,h))return e[h];var r=e.constructor;return n(r)&&e instanceof r?r.prototype:e instanceof u?l:null}},79410:(t,e,r)=>{\"use strict\";var i=r(96870),n=r(51119),s=r(58827),a=r(52959).indexOf,o=r(91471),h=i([].push);t.exports=function(t,e){var r,i=s(t),u=0,l=[];for(r in i)!n(o,r)&&n(i,r)&&h(l,r);for(;e.length>u;)n(i,r=e[u++])&&(~a(l,r)||h(l,r));return l}},79626:(t,e,r)=>{\"use strict\";var i=r(79410),n=r(633).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},79831:(t,e,r)=>{\"use strict\";var i=r(31524),n=Object;t.exports=function(t){return n(i(t))}},80398:t=>{\"use strict\";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},81271:(t,e,r)=>{\"use strict\";var i,n,s,a=r(12341),o=r(98639),h=r(83220),u=r(45198),l=r(79289),c=r(68062),g=r(50453),p=r(95945),f=g(\"iterator\"),d=!1;[].keys&&(\"next\"in(s=[].keys())?(n=l(l(s)))!==Object.prototype&&(i=n):d=!0),!h(i)||a(function(){var t={};return i[f].call(t)!==t})?i={}:p&&(i=u(i)),o(i[f])||c(i,f,function(){return this}),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},82368:(t,e,r)=>{\"use strict\";var i=r(90708),n=r(25443);t.exports=function(t,e){var r=t[e];return n(r)?void 0:i(r)}},82925:(t,e,r)=>{\"use strict\";var i=r(11190),n=r(98639);t.exports=function(t,e){return arguments.length<2?(r=i[t],n(r)?r:void 0):i[t]&&i[t][e];var r}},83220:(t,e,r)=>{\"use strict\";var i=r(98639);t.exports=function(t){return\"object\"==typeof t?null!==t:i(t)}},83344:(t,e,r)=>{\"use strict\";var i=r(98009),n=Math.min;t.exports=function(t){var e=i(t);return e>0?n(e,9007199254740991):0}},86867:(t,e,r)=>{\"use strict\";var i=r(11190),n=Object.defineProperty;t.exports=function(t,e){try{n(i,t,{value:e,configurable:!0,writable:!0})}catch(r){i[t]=e}return e}},88820:(t,e,r)=>{\"use strict\";var i=r(12341),n=r(11190).RegExp;t.exports=i(function(){var t=n(\"(?<a>b)\",\"g\");return\"b\"!==t.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(t,\"$<a>c\")})},88880:(t,e,r)=>{\"use strict\";var i=r(46064),n=r(96870),s=r(32062),a=n([].reverse),o=[1,2];i({target:\"Array\",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),a(this)}})},88896:(t,e,r)=>{\"use strict\";var i=r(11190),n=r(98639),s=i.WeakMap;t.exports=n(s)&&/native code/.test(String(s))},90708:(t,e,r)=>{\"use strict\";var i=r(98639),n=r(77381),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+\" is not a function\")}},91471:t=>{\"use strict\";t.exports={}},92419:t=>{\"use strict\";t.exports={}},93969:(t,e,r)=>{\"use strict\";var i=r(64135).f,n=r(51119),s=r(50453)(\"toStringTag\");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!n(t,s)&&i(t,s,{configurable:!0,value:e})}},94656:(t,e,r)=>{\"use strict\";var i=r(23331),n=r(98639),s=r(83220),a=TypeError;t.exports=function(t,e){var r,o;if(\"string\"===e&&n(r=t.toString)&&!s(o=i(r,t)))return o;if(n(r=t.valueOf)&&!s(o=i(r,t)))return o;if(\"string\"!==e&&n(r=t.toString)&&!s(o=i(r,t)))return o;throw new a(\"Can't convert object to primitive value\")}},95291:(t,e,r)=>{\"use strict\";var i=r(83220);t.exports=function(t){return i(t)||null===t}},95945:t=>{\"use strict\";t.exports=!1},96217:(t,e,r)=>{\"use strict\";var i=r(46064),n=r(51117);i({target:\"RegExp\",proto:!0,forced:/./.exec!==n},{exec:n})},96870:(t,e,r)=>{\"use strict\";var i=r(51798),n=Function.prototype,s=n.call,a=i&&n.bind.bind(s,s);t.exports=i?a:function(t){return function(){return s.apply(t,arguments)}}},98009:(t,e,r)=>{\"use strict\";var i=r(79179);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},98639:t=>{\"use strict\";var e=\"object\"==typeof document&&document.all;t.exports=\"undefined\"==typeof e&&void 0!==e?function(t){return\"function\"==typeof t||t===e}:function(t){return\"function\"==typeof t}},99039:(t,e,r)=>{\"use strict\";var i=r(23331),n=r(83220),s=r(14619),a=r(82368),o=r(94656),h=r(50453),u=TypeError,l=h(\"toPrimitive\");t.exports=function(t,e){if(!n(t)||s(t))return t;var r,h=a(t,l);if(h){if(void 0===e&&(e=\"default\"),r=i(h,t,e),!n(r)||s(r))return r;throw new u(\"Can't convert object to primitive value\")}return void 0===e&&(e=\"number\"),o(t,e)}}}]);","size_bytes":139103},"frontend/build/static/js/main.8760013e.js":{"content":"/*! For license information please see main.8760013e.js.LICENSE.txt */\n(()=>{var e={225:(e,t)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},685:(e,t,n)=>{\"use strict\";t.addISOWeekYears=function(e,t){return(0,i.setISOWeekYear)(e,(0,r.getISOWeekYear)(e)+t)};var r=n(14807),i=n(44011)},1193:(e,t,n)=>{\"use strict\";t.closestTo=function(e,t){const n=(0,i.toDate)(e);if(isNaN(Number(n)))return(0,r.constructFrom)(e,NaN);const a=n.getTime();let o,s;return t.forEach(t=>{const n=(0,i.toDate)(t);if(isNaN(Number(n)))return o=(0,r.constructFrom)(e,NaN),void(s=NaN);const A=Math.abs(a-n.getTime());(null==o||A<s)&&(o=n,s=A)}),o};var r=n(19078),i=n(73094)},1352:(e,t,n)=>{\"use strict\";!function e(){if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&\"function\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(81085)},1384:(e,t,n)=>{\"use strict\";t.monthsToQuarters=function(e){const t=e/r.monthsInQuarter;return Math.trunc(t)};var r=n(4702)},2414:(e,t,n)=>{\"use strict\";t.getYear=function(e){return(0,r.toDate)(e).getFullYear()};var r=n(73094)},2742:(e,t,n)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"});const r=n(6907);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};\"object\"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:o}=n,s=Array(2);let A;i&&(s[0]=\"leading\"),a&&(s[1]=\"trailing\");let l=null;const c=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];A=e.apply(this,n),l=null},t,{edges:s}),u=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=o&&(null===l&&(l=Date.now()),Date.now()-l>=o)?(A=e.apply(this,n),l=Date.now(),c.cancel(),c.schedule(),A):(c.apply(this,n),A)};return u.cancel=c.cancel,u.flush=()=>(c.flush(),A),u}},3093:(e,t,n)=>{\"use strict\";t.nextSaturday=function(e){return(0,r.nextDay)(e,6)};var r=n(56994)},3451:(e,t,n)=>{\"use strict\";Object.defineProperty(t,\"defaultLocale\",{enumerable:!0,get:function(){return r.enUS}});var r=n(73980)},3470:(e,t)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"});t.argumentsTag=\"[object Arguments]\",t.arrayBufferTag=\"[object ArrayBuffer]\",t.arrayTag=\"[object Array]\",t.bigInt64ArrayTag=\"[object BigInt64Array]\",t.bigUint64ArrayTag=\"[object BigUint64Array]\",t.booleanTag=\"[object Boolean]\",t.dataViewTag=\"[object DataView]\",t.dateTag=\"[object Date]\",t.errorTag=\"[object Error]\",t.float32ArrayTag=\"[object Float32Array]\",t.float64ArrayTag=\"[object Float64Array]\",t.functionTag=\"[object Function]\",t.int16ArrayTag=\"[object Int16Array]\",t.int32ArrayTag=\"[object Int32Array]\",t.int8ArrayTag=\"[object Int8Array]\",t.mapTag=\"[object Map]\",t.numberTag=\"[object Number]\",t.objectTag=\"[object Object]\",t.regexpTag=\"[object RegExp]\",t.setTag=\"[object Set]\",t.stringTag=\"[object String]\",t.symbolTag=\"[object Symbol]\",t.uint16ArrayTag=\"[object Uint16Array]\",t.uint32ArrayTag=\"[object Uint32Array]\",t.uint8ArrayTag=\"[object Uint8Array]\",t.uint8ClampedArrayTag=\"[object Uint8ClampedArray]\"},3695:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.LocalDayParser=void 0;var i=n(25469),a=n(29481),o=n(26117);class s extends a.Parser{constructor(){super(...arguments),r(this,\"priority\",90),r(this,\"incompatibleTokens\",[\"y\",\"R\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"E\",\"i\",\"c\",\"t\",\"T\"])}parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case\"e\":case\"ee\":return(0,o.mapValue)((0,o.parseNDigits)(t.length,e),i);case\"eo\":return(0,o.mapValue)(n.ordinalNumber(e,{unit:\"day\"}),i);case\"eee\":return n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"eeeee\":return n.day(e,{width:\"narrow\",context:\"formatting\"});case\"eeeeee\":return n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});default:return n.day(e,{width:\"wide\",context:\"formatting\"})||n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=(0,i.setDay)(e,n,r)).setHours(0,0,0,0),e}}t.LocalDayParser=s},3700:(e,t,n)=>{\"use strict\";t.isFuture=function(e){return+(0,r.toDate)(e)>Date.now()};var r=n(73094)},4073:(e,t)=>{\"use strict\";t.startOfTomorrow=function(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r+1),i.setHours(0,0,0,0),i}},4201:(e,t,n)=>{\"use strict\";t.isSameQuarter=function(e,t){const n=(0,r.startOfQuarter)(e),i=(0,r.startOfQuarter)(t);return+n===+i};var r=n(33404)},4459:(e,t,n)=>{\"use strict\";t.isThisMinute=function(e){return(0,i.isSameMinute)(e,(0,r.constructNow)(e))};var r=n(24716),i=n(78213)},4561:(e,t,n)=>{\"use strict\";t.endOfHour=function(e){const t=(0,r.toDate)(e);return t.setMinutes(59,59,999),t};var r=n(73094)},4600:(e,t,n)=>{\"use strict\";t.nextThursday=function(e){return(0,r.nextDay)(e,4)};var r=n(56994)},4702:(e,t)=>{\"use strict\";t.secondsInYear=t.secondsInWeek=t.secondsInQuarter=t.secondsInMonth=t.secondsInMinute=t.secondsInHour=t.secondsInDay=t.quartersInYear=t.monthsInYear=t.monthsInQuarter=t.minutesInYear=t.minutesInMonth=t.minutesInHour=t.minutesInDay=t.minTime=t.millisecondsInWeek=t.millisecondsInSecond=t.millisecondsInMinute=t.millisecondsInHour=t.millisecondsInDay=t.maxTime=t.daysInYear=t.daysInWeek=void 0;t.daysInWeek=7;const n=t.daysInYear=365.2425,r=t.maxTime=24*Math.pow(10,8)*60*60*1e3,i=(t.minTime=-r,t.millisecondsInWeek=6048e5,t.millisecondsInDay=864e5,t.millisecondsInMinute=6e4,t.millisecondsInHour=36e5,t.millisecondsInSecond=1e3,t.minutesInYear=525600,t.minutesInMonth=43200,t.minutesInDay=1440,t.minutesInHour=60,t.monthsInQuarter=3,t.monthsInYear=12,t.quartersInYear=4,t.secondsInHour=3600),a=(t.secondsInMinute=60,t.secondsInDay=24*i),o=(t.secondsInWeek=7*a,t.secondsInYear=a*n),s=t.secondsInMonth=o/12;t.secondsInQuarter=3*s},5312:function(e){e.exports=function(){\"use strict\";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if(\"function\"!==typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function o(e){try{A(r.next(e))}catch(Mt){a(Mt)}}function s(e){try{A(r.throw(e))}catch(Mt){a(Mt)}}function A(e){e.done?n(e.value):i(e.value).then(o,s)}A((r=r.apply(e,t||[])).next())})}function i(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return A([e,t])}}function A(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(Mt){a=[6,Mt],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},A=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error(\"Unable to get document size\");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,i)},l=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return\"\";for(var r=[],i=-1,a=\"\";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},u=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",d=\"undefined\"===typeof Uint8Array?[]:new Uint8Array(256),f=0;f<u.length;f++)d[u.charCodeAt(f)]=f;for(var h=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",p=\"undefined\"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<h.length;g++)p[h.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,A=0;\"=\"===e[e.length-1]&&(o--,\"=\"===e[e.length-2]&&o--);var l=\"undefined\"!==typeof ArrayBuffer&&\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],a=p[e.charCodeAt(t+3)],c[A++]=n<<2|r>>4,c[A++]=(15&r)<<4|i>>2,c[A++]=(3&i)<<6|63&a;return l},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},w=5,b=11,B=2,x=65536>>w,C=(1<<w)-1,k=x+(1024>>w)+32,S=65536>>b,E=(1<<b-w)-1,_=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},F=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},O=function(e,t){var n=m(e),r=Array.isArray(n)?y(n):new Uint32Array(n),i=Array.isArray(n)?v(n):new Uint16Array(n),a=24,o=_(i,a/2,r[4]/2),s=2===r[5]?_(i,(a+r[4])/2):F(r,Math.ceil((a+r[4])/4));return new P(r[0],r[1],r[2],r[3],o,s)},P=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>w])<<B)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[x+(e-55296>>w)])<<B)+(e&C),this.data[t];if(e<this.highStart)return t=k-S+(e>>b),t=this.index[t],t+=e>>w&E,t=((t=this.index[t])<<B)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),D=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",Q=\"undefined\"===typeof Uint8Array?[]:new Uint8Array(256),U=0;U<D.length;U++)Q[D.charCodeAt(U)]=U;var I=50,N=1,M=2,L=3,j=4,T=5,H=7,R=8,K=9,z=10,W=11,Y=12,V=13,q=14,G=15,X=16,J=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,ie=24,ae=25,oe=26,se=27,Ae=28,le=29,ce=30,ue=31,de=32,fe=33,he=34,pe=35,ge=36,me=37,ve=38,ye=39,we=40,be=41,Be=42,xe=43,Ce=[9001,65288],ke=\"!\",Se=\"\\xd7\",Ee=\"\\xf7\",_e=O(\"KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==\"),Fe=[ce,ge],Oe=[N,M,L,T],Pe=[z,R],De=[se,oe],Qe=Oe.concat(Pe),Ue=[ve,ye,we,he,pe],Ie=[G,V],Ne=function(e,t){void 0===t&&(t=\"strict\");var n=[],r=[],i=[];return e.forEach(function(e,a){var o=_e.get(e);if(o>I?(i.push(!0),o-=I):i.push(!1),-1!==[\"normal\",\"auto\",\"loose\"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(X);if(o===j||o===W){if(0===a)return r.push(a),n.push(ce);var s=n[a-1];return-1===Qe.indexOf(s)?(r.push(r[a-1]),n.push(s)):(r.push(a),n.push(ce))}return r.push(a),o===ue?n.push(\"strict\"===t?te:me):o===Be||o===le?n.push(ce):o===xe?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ce):void n.push(o)}),[r,n,i]},Me=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var a=n;a<=r.length;){if((A=r[++a])===t)return!0;if(A!==z)break}if(i===z)for(a=n;a>0;){var o=r[--a];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=n;s<=r.length;){var A;if((A=r[++s])===t)return!0;if(A!==z)break}if(o!==z)break}return!1},Le=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==z)return r;n--}return 0},je=function(e,t,n,r,i){if(0===n[r])return Se;var a=r-1;if(Array.isArray(i)&&!0===i[a])return Se;var o=a-1,s=a+1,A=t[a],l=o>=0?t[o]:0,c=t[s];if(A===M&&c===L)return Se;if(-1!==Oe.indexOf(A))return ke;if(-1!==Oe.indexOf(c))return Se;if(-1!==Pe.indexOf(c))return Se;if(Le(a,t)===R)return Ee;if(_e.get(e[a])===W)return Se;if((A===de||A===fe)&&_e.get(e[s])===W)return Se;if(A===H||c===H)return Se;if(A===K)return Se;if(-1===[z,V,G].indexOf(A)&&c===K)return Se;if(-1!==[J,Z,$,ie,Ae].indexOf(c))return Se;if(Le(a,t)===ne)return Se;if(Me(re,ne,a,t))return Se;if(Me([J,Z],te,a,t))return Se;if(Me(Y,Y,a,t))return Se;if(A===z)return Ee;if(A===re||c===re)return Se;if(c===X||A===X)return Ee;if(-1!==[V,G,te].indexOf(c)||A===q)return Se;if(l===ge&&-1!==Ie.indexOf(A))return Se;if(A===Ae&&c===ge)return Se;if(c===ee)return Se;if(-1!==Fe.indexOf(c)&&A===ae||-1!==Fe.indexOf(A)&&c===ae)return Se;if(A===se&&-1!==[me,de,fe].indexOf(c)||-1!==[me,de,fe].indexOf(A)&&c===oe)return Se;if(-1!==Fe.indexOf(A)&&-1!==De.indexOf(c)||-1!==De.indexOf(A)&&-1!==Fe.indexOf(c))return Se;if(-1!==[se,oe].indexOf(A)&&(c===ae||-1!==[ne,G].indexOf(c)&&t[s+1]===ae)||-1!==[ne,G].indexOf(A)&&c===ae||A===ae&&-1!==[ae,Ae,ie].indexOf(c))return Se;if(-1!==[ae,Ae,ie,J,Z].indexOf(c))for(var u=a;u>=0;){if((d=t[u])===ae)return Se;if(-1===[Ae,ie].indexOf(d))break;u--}if(-1!==[se,oe].indexOf(c))for(u=-1!==[J,Z].indexOf(A)?o:a;u>=0;){var d;if((d=t[u])===ae)return Se;if(-1===[Ae,ie].indexOf(d))break;u--}if(ve===A&&-1!==[ve,ye,he,pe].indexOf(c)||-1!==[ye,he].indexOf(A)&&-1!==[ye,we].indexOf(c)||-1!==[we,pe].indexOf(A)&&c===we)return Se;if(-1!==Ue.indexOf(A)&&-1!==[ee,oe].indexOf(c)||-1!==Ue.indexOf(c)&&A===se)return Se;if(-1!==Fe.indexOf(A)&&-1!==Fe.indexOf(c))return Se;if(A===ie&&-1!==Fe.indexOf(c))return Se;if(-1!==Fe.concat(ae).indexOf(A)&&c===ne&&-1===Ce.indexOf(e[s])||-1!==Fe.concat(ae).indexOf(c)&&A===Z)return Se;if(A===be&&c===be){for(var f=n[a],h=1;f>0&&t[--f]===be;)h++;if(h%2!==0)return Se}return A===de&&c===fe?Se:Ee},Te=function(e,t){t||(t={lineBreak:\"normal\",wordBreak:\"normal\"});var n=Ne(e,t.lineBreak),r=n[0],i=n[1],a=n[2];\"break-all\"!==t.wordBreak&&\"break-word\"!==t.wordBreak||(i=i.map(function(e){return-1!==[ae,ce,Be].indexOf(e)?me:e}));var o=\"keep-all\"===t.wordBreak?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,i,o]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===ke,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Re=function(e,t){var n=l(e),r=Te(n,t),i=r[0],a=r[1],o=r[2],s=n.length,A=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var e=Se;c<s&&(e=je(n,a,i,++c,o))===Se;);if(e!==Se||c===s){var t=new He(n,e,A,c);return A=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,ze=2,We=4,Ye=8,Ve=10,qe=47,Ge=92,Xe=9,Je=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,it=40,at=41,ot=95,st=45,At=33,lt=60,ct=62,ut=64,dt=91,ft=93,ht=61,pt=123,gt=63,mt=125,vt=124,yt=126,wt=128,bt=65533,Bt=42,xt=43,Ct=44,kt=58,St=59,Et=46,_t=0,Ft=8,Ot=11,Pt=14,Dt=31,Qt=127,Ut=-1,It=48,Nt=97,Mt=101,Lt=102,jt=117,Tt=122,Ht=65,Rt=69,Kt=70,zt=85,Wt=90,Yt=function(e){return e>=It&&e<=57},Vt=function(e){return e>=55296&&e<=57343},qt=function(e){return Yt(e)||e>=Ht&&e<=Kt||e>=Nt&&e<=Lt},Gt=function(e){return e>=Nt&&e<=Tt},Xt=function(e){return e>=Ht&&e<=Wt},Jt=function(e){return Gt(e)||Xt(e)},Zt=function(e){return e>=wt},$t=function(e){return e===Ve||e===Xe||e===Je},en=function(e){return Jt(e)||Zt(e)||e===ot},tn=function(e){return en(e)||Yt(e)||e===st},nn=function(e){return e>=_t&&e<=Ft||e===Ot||e>=Pt&&e<=Dt||e===Qt},rn=function(e,t){return e===Ge&&t!==Ve},an=function(e,t,n){return e===st?en(t)||rn(t,n):!!en(e)||!(e!==Ge||!rn(e,t))},on=function(e,t,n){return e===xt||e===st?!!Yt(t)||t===Et&&Yt(n):Yt(e===Et?t:e)},sn=function(e){var t=0,n=1;e[t]!==xt&&e[t]!==st||(e[t]===st&&(n=-1),t++);for(var r=[];Yt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===Et&&t++;for(var a=[];Yt(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(c.apply(void 0,a),10):0;e[t]!==Rt&&e[t]!==Mt||t++;var A=1;e[t]!==xt&&e[t]!==st||(e[t]===st&&(A=-1),t++);for(var l=[];Yt(e[t]);)l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,A*u)},An={type:2},ln={type:3},cn={type:4},un={type:13},dn={type:8},fn={type:21},hn={type:9},pn={type:10},gn={type:11},mn={type:12},vn={type:14},yn={type:23},wn={type:1},bn={type:25},Bn={type:24},xn={type:26},Cn={type:27},kn={type:28},Sn={type:29},En={type:31},_n={type:32},Fn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==_n;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=an(t,n,r)?ze:Ke;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case it:return An;case at:return ln;case Bt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),vn;break;case xt:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return cn;case st:var a=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(on(a,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(an(a,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===st&&s===ct)return this.consumeCodePoint(),this.consumeCodePoint(),Bn;break;case Et:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qe:if(this.peekCodePoint(0)===Bt)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===Bt&&(A=this.consumeCodePoint())===qe)return this.consumeToken();if(A===Ut)return this.consumeToken()}break;case kt:return xn;case St:return Cn;case lt:if(this.peekCodePoint(0)===At&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ut:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(an(l,u,d))return{type:7,value:this.consumeName()};break;case dt:return kn;case Ge:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ft:return Sn;case ht:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case pt:return gn;case mt:return mn;case jt:case zt:var f=this.peekCodePoint(0),h=this.peekCodePoint(1);return f!==xt||!qt(h)&&h!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),hn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),fn;break;case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;break;case Ut:return _n}return $t(e)?(this.consumeWhiteSpace(),En):Yt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return\"undefined\"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();qt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map(function(e){return e===gt?It:e})),16),end:parseInt(c.apply(void 0,e.map(function(e){return e===gt?Kt:e})),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===st&&qt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];qt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return\"url\"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut)return{type:22,value:\"\"};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Ut||r===at)return{type:22,value:c.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Ze||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===Ge){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===Ut)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n=\"\";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t=\"\",n=0;;){var r=this._value[n];if(r===Ut||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ve)return this._value.splice(0,n),wn;if(r===Ge){var i=this._value[n+1];i!==Ut&&void 0!==i&&(i===Ve?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=We,n=this.peekCodePoint(0);for(n!==xt&&n!==st||e.push(this.consumeCodePoint());Yt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Et&&Yt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ye;Yt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Rt||n===Mt)&&((r===xt||r===st)&&Yt(i)||Yt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ye;Yt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);return an(r,i,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(qt(e)){for(var t=c(e);qt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Vt(n)||n>1114111?bt:n}return e===Ut?bt:e},e.prototype.consumeName=function(){for(var e=\"\";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),On=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Fn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError(\"Error parsing CSS component value, unexpected EOF\");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError(\"Error parsing CSS component value, multiple values found when expecting only one\")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||jn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return\"undefined\"===typeof e?_n:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Pn=function(e){return 15===e.type},Dn=function(e){return 17===e.type},Qn=function(e){return 20===e.type},Un=function(e){return 0===e.type},In=function(e,t){return Qn(e)&&e.value===t},Nn=function(e){return 31!==e.type},Mn=function(e){return 31!==e.type&&4!==e.type},Ln=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error(\"Error parsing function args, zero tokens for arg\");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},jn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Tn=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||Tn(e)},Rn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:We},zn={type:16,number:50,flags:We},Wn={type:16,number:100,flags:We},Yn=function(e,t,n){var r=e[0],i=e[1];return[Vn(r,t),Vn(\"undefined\"!==typeof i?i:r,n)]},Vn=function(e,t){if(16===e.type)return e.number/100*t;if(Pn(e))switch(e.unit){case\"rem\":case\"em\":return 16*e.number;default:return e.number}return e.number},qn=\"deg\",Gn=\"grad\",Xn=\"rad\",Jn=\"turn\",Zn={name:\"angle\",parse:function(e,t){if(15===t.type)switch(t.unit){case qn:return Math.PI*t.number/180;case Gn:return Math.PI/200*t.number;case Xn:return t.number;case Jn:return 2*Math.PI*t.number}throw new Error(\"Unsupported angle type\")}},$n=function(e){return 15===e.type&&(e.unit===qn||e.unit===Gn||e.unit===Xn||e.unit===Jn)},er=function(e){switch(e.filter(Qn).map(function(e){return e.value}).join(\" \")){case\"to bottom right\":case\"to right bottom\":case\"left top\":case\"top left\":return[Kn,Kn];case\"to top\":case\"bottom\":return tr(0);case\"to bottom left\":case\"to left bottom\":case\"right top\":case\"top right\":return[Kn,Wn];case\"to right\":case\"left\":return tr(90);case\"to top left\":case\"to left top\":case\"right bottom\":case\"bottom right\":return[Wn,Wn];case\"to bottom\":case\"top\":return tr(180);case\"to top right\":case\"to right top\":case\"left bottom\":case\"bottom left\":return[Wn,Kn];case\"to left\":case\"right\":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:\"color\",parse:function(e,t){if(18===t.type){var n=cr[t.name];if(\"undefined\"===typeof n)throw new Error('Attempting to parse an unsupported color function \"'+t.name+'\"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);var o=t.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),ar(parseInt(r,16),parseInt(i,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8),ar(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}if(20===t.type){var s=dr[t.value.toUpperCase()];if(\"undefined\"!==typeof s)return s}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?\"rgba(\"+i+\",\"+r+\",\"+n+\",\"+t/255+\")\":\"rgb(\"+i+\",\"+r+\",\"+n+\")\"},ar=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},sr=function(e,t){var n=t.filter(Mn);if(3===n.length){var r=n.map(or),i=r[0],a=r[1],o=r[2];return ar(i,a,o,1)}if(4===n.length){var s=n.map(or),A=(i=s[0],a=s[1],o=s[2],s[3]);return ar(i,a,o,A)}return 0};function Ar(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var lr=function(e,t){var n=t.filter(Mn),r=n[0],i=n[1],a=n[2],o=n[3],s=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),A=Hn(i)?i.number/100:0,l=Hn(a)?a.number/100:0,c=\"undefined\"!==typeof o&&Hn(o)?Vn(o,1):1;if(0===A)return ar(255*l,255*l,255*l,1);var u=l<=.5?l*(A+1):l+A-l*A,d=2*l-u,f=Ar(d,u,s+1/3),h=Ar(d,u,s),p=Ar(d,u,s-1/3);return ar(255*f,255*h,255*p,c)},cr={hsl:lr,hsla:lr,rgb:sr,rgba:sr},ur=function(e,t){return nr.parse(e,On.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},fr={name:\"background-clip\",initialValue:\"border-box\",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Qn(e))switch(e.value){case\"padding-box\":return 1;case\"content-box\":return 2}return 0})}},hr={name:\"background-color\",initialValue:\"transparent\",prefix:!1,type:3,format:\"color\"},pr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Kn),null===r.stop&&(r.stop=Wn);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var A=Vn(s,t);A>a?i.push(A):i.push(a),a=A}else i.push(null)}var l=null;for(o=0;o<i.length;o++){var c=i[o];if(null===c)null===l&&(l=o);else if(null!==l){for(var u=o-l,d=(c-i[l-1])/(u+1),f=1;f<=u;f++)i[l+f-1]=d*f;l=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}})},mr=function(e,t,n){var r=t/2,i=n/2,a=Vn(e[0],t)-r,o=i-Vn(e[1],n);return(Math.atan2(o,a)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r=\"number\"===typeof e?e:mr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,s=i/2,A=Math.sin(r-Math.PI/2)*s,l=Math.cos(r-Math.PI/2)*s;return[i,a-l,a+l,o-A,o+A]},yr=function(e,t){return Math.sqrt(e*e+t*t)},wr=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var a=t[0],o=t[1],s=yr(n-a,r-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:0===e.shape?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)a=o=Math.min(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),A=wr(r,i,t,n,!0),l=A[0],c=A[1];o=s*(a=yr(l-t,(c-n)/s))}break;case 1:0===e.shape?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)a=o=Math.max(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var u=wr(r,i,t,n,!1);l=u[0],c=u[1],o=s*(a=yr(l-t,(c-n)/s))}}return Array.isArray(e.size)&&(a=Vn(e.size[0],r),o=2===e.size.length?Vn(e.size[1],i):a),[a,o]},Br=function(e,t){var n=tr(180),r=[];return Ln(t).forEach(function(t,i){if(0===i){var a=t[0];if(20===a.type&&-1!==[\"top\",\"left\",\"right\",\"bottom\"].indexOf(a.value))return void(n=er(t));if($n(a))return void(n=(Zn.parse(e,a)+tr(270))%tr(360))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},xr=\"closest-side\",Cr=\"farthest-side\",kr=\"closest-corner\",Sr=\"farthest-corner\",Er=\"circle\",_r=\"ellipse\",Fr=\"cover\",Or=\"contain\",Pr=function(e,t){var n=0,r=3,i=[],a=[];return Ln(t).forEach(function(t,o){var s=!0;if(0===o?s=t.reduce(function(e,t){if(Qn(t))switch(t.value){case\"center\":return a.push(zn),!1;case\"top\":case\"left\":return a.push(Kn),!1;case\"right\":case\"bottom\":return a.push(Wn),!1}else if(Hn(t)||Tn(t))return a.push(t),!1;return e},s):1===o&&(s=t.reduce(function(e,t){if(Qn(t))switch(t.value){case Er:return n=0,!1;case _r:return n=1,!1;case Or:case xr:return r=0,!1;case Cr:return r=1,!1;case kr:return r=2,!1;case Fr:case Sr:return r=3,!1}else if(Tn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)),s){var A=pr(e,t);i.push(A)}}),{size:r,shape:n,stops:i,position:a,type:2}},Dr=function(e){return 1===e.type},Qr=function(e){return 2===e.type},Ur={name:\"image\",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Mr[t.name];if(\"undefined\"===typeof r)throw new Error('Attempting to parse an unsupported image function \"'+t.name+'\"');return r(e,t.values)}throw new Error(\"Unsupported image type \"+t.type)}};function Ir(e){return!(20===e.type&&\"none\"===e.value)&&(18!==e.type||!!Mr[e.name])}var Nr,Mr={\"linear-gradient\":function(e,t){var n=tr(180),r=[];return Ln(t).forEach(function(t,i){if(0===i){var a=t[0];if(20===a.type&&\"to\"===a.value)return void(n=er(t));if($n(a))return void(n=Zn.parse(e,a))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},\"-moz-linear-gradient\":Br,\"-ms-linear-gradient\":Br,\"-o-linear-gradient\":Br,\"-webkit-linear-gradient\":Br,\"radial-gradient\":function(e,t){var n=0,r=3,i=[],a=[];return Ln(t).forEach(function(t,o){var s=!0;if(0===o){var A=!1;s=t.reduce(function(e,t){if(A)if(Qn(t))switch(t.value){case\"center\":return a.push(zn),e;case\"top\":case\"left\":return a.push(Kn),e;case\"right\":case\"bottom\":return a.push(Wn),e}else(Hn(t)||Tn(t))&&a.push(t);else if(Qn(t))switch(t.value){case Er:return n=0,!1;case _r:return n=1,!1;case\"at\":return A=!0,!1;case xr:return r=0,!1;case Fr:case Cr:return r=1,!1;case Or:case kr:return r=2,!1;case Sr:return r=3,!1}else if(Tn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)}if(s){var l=pr(e,t);i.push(l)}}),{size:r,shape:n,stops:i,position:a,type:2}},\"-moz-radial-gradient\":Pr,\"-ms-radial-gradient\":Pr,\"-o-radial-gradient\":Pr,\"-webkit-radial-gradient\":Pr,\"-webkit-gradient\":function(e,t){var n=tr(180),r=[],i=1,a=0,o=3,s=[];return Ln(t).forEach(function(t,n){var a=t[0];if(0===n){if(Qn(a)&&\"linear\"===a.value)return void(i=1);if(Qn(a)&&\"radial\"===a.value)return void(i=2)}if(18===a.type)if(\"from\"===a.name){var o=nr.parse(e,a.values[0]);r.push({stop:Kn,color:o})}else if(\"to\"===a.name)o=nr.parse(e,a.values[0]),r.push({stop:Wn,color:o});else if(\"color-stop\"===a.name){var s=a.values.filter(Mn);if(2===s.length){o=nr.parse(e,s[1]);var A=s[0];Dn(A)&&r.push({stop:{type:16,number:100*A.number,flags:A.flags},color:o})}}}),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:s,type:i}}},Lr={name:\"background-image\",initialValue:\"none\",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&\"none\"===n.value?[]:t.filter(function(e){return Mn(e)&&Ir(e)}).map(function(t){return Ur.parse(e,t)})}},jr={name:\"background-origin\",initialValue:\"border-box\",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Qn(e))switch(e.value){case\"padding-box\":return 1;case\"content-box\":return 2}return 0})}},Tr={name:\"background-position\",initialValue:\"0% 0%\",type:1,prefix:!1,parse:function(e,t){return Ln(t).map(function(e){return e.filter(Hn)}).map(Rn)}},Hr={name:\"background-repeat\",initialValue:\"repeat\",prefix:!1,type:1,parse:function(e,t){return Ln(t).map(function(e){return e.filter(Qn).map(function(e){return e.value}).join(\" \")}).map(Rr)}},Rr=function(e){switch(e){case\"no-repeat\":return 1;case\"repeat-x\":case\"repeat no-repeat\":return 2;case\"repeat-y\":case\"no-repeat repeat\":return 3;default:return 0}};!function(e){e.AUTO=\"auto\",e.CONTAIN=\"contain\",e.COVER=\"cover\"}(Nr||(Nr={}));var Kr,zr={name:\"background-size\",initialValue:\"0\",prefix:!1,type:1,parse:function(e,t){return Ln(t).map(function(e){return e.filter(Wr)})}},Wr=function(e){return Qn(e)||Hn(e)},Yr=function(e){return{name:\"border-\"+e+\"-color\",initialValue:\"transparent\",prefix:!1,type:3,format:\"color\"}},Vr=Yr(\"top\"),qr=Yr(\"right\"),Gr=Yr(\"bottom\"),Xr=Yr(\"left\"),Jr=function(e){return{name:\"border-radius-\"+e,initialValue:\"0 0\",prefix:!1,type:1,parse:function(e,t){return Rn(t.filter(Hn))}}},Zr=Jr(\"top-left\"),$r=Jr(\"top-right\"),ei=Jr(\"bottom-right\"),ti=Jr(\"bottom-left\"),ni=function(e){return{name:\"border-\"+e+\"-style\",initialValue:\"solid\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"none\":return 0;case\"dashed\":return 2;case\"dotted\":return 3;case\"double\":return 4}return 1}}},ri=ni(\"top\"),ii=ni(\"right\"),ai=ni(\"bottom\"),oi=ni(\"left\"),si=function(e){return{name:\"border-\"+e+\"-width\",initialValue:\"0\",type:0,prefix:!1,parse:function(e,t){return Pn(t)?t.number:0}}},Ai=si(\"top\"),li=si(\"right\"),ci=si(\"bottom\"),ui=si(\"left\"),di={name:\"color\",initialValue:\"transparent\",prefix:!1,type:3,format:\"color\"},fi={name:\"direction\",initialValue:\"ltr\",prefix:!1,type:2,parse:function(e,t){return\"rtl\"===t?1:0}},hi={name:\"display\",initialValue:\"inline-block\",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).reduce(function(e,t){return e|pi(t.value)},0)}},pi=function(e){switch(e){case\"block\":case\"-webkit-box\":return 2;case\"inline\":return 4;case\"run-in\":return 8;case\"flow\":return 16;case\"flow-root\":return 32;case\"table\":return 64;case\"flex\":case\"-webkit-flex\":return 128;case\"grid\":case\"-ms-grid\":return 256;case\"ruby\":return 512;case\"subgrid\":return 1024;case\"list-item\":return 2048;case\"table-row-group\":return 4096;case\"table-header-group\":return 8192;case\"table-footer-group\":return 16384;case\"table-row\":return 32768;case\"table-cell\":return 65536;case\"table-column-group\":return 131072;case\"table-column\":return 262144;case\"table-caption\":return 524288;case\"ruby-base\":return 1048576;case\"ruby-text\":return 2097152;case\"ruby-base-container\":return 4194304;case\"ruby-text-container\":return 8388608;case\"contents\":return 16777216;case\"inline-block\":return 33554432;case\"inline-list-item\":return 67108864;case\"inline-table\":return 134217728;case\"inline-flex\":return 268435456;case\"inline-grid\":return 536870912}return 0},gi={name:\"float\",initialValue:\"none\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"left\":return 1;case\"right\":return 2;case\"inline-start\":return 3;case\"inline-end\":return 4}return 0}},mi={name:\"letter-spacing\",initialValue:\"0\",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&\"normal\"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL=\"normal\",e.STRICT=\"strict\"}(Kr||(Kr={}));var vi,yi={name:\"line-break\",initialValue:\"normal\",prefix:!1,type:2,parse:function(e,t){return\"strict\"===t?Kr.STRICT:Kr.NORMAL}},wi={name:\"line-height\",initialValue:\"normal\",prefix:!1,type:4},bi=function(e,t){return Qn(e)&&\"normal\"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?Vn(e,t):t},Bi={name:\"list-style-image\",initialValue:\"none\",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&\"none\"===t.value?null:Ur.parse(e,t)}},xi={name:\"list-style-position\",initialValue:\"outside\",prefix:!1,type:2,parse:function(e,t){return\"inside\"===t?0:1}},Ci={name:\"list-style-type\",initialValue:\"none\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"disc\":return 0;case\"circle\":return 1;case\"square\":return 2;case\"decimal\":return 3;case\"cjk-decimal\":return 4;case\"decimal-leading-zero\":return 5;case\"lower-roman\":return 6;case\"upper-roman\":return 7;case\"lower-greek\":return 8;case\"lower-alpha\":return 9;case\"upper-alpha\":return 10;case\"arabic-indic\":return 11;case\"armenian\":return 12;case\"bengali\":return 13;case\"cambodian\":return 14;case\"cjk-earthly-branch\":return 15;case\"cjk-heavenly-stem\":return 16;case\"cjk-ideographic\":return 17;case\"devanagari\":return 18;case\"ethiopic-numeric\":return 19;case\"georgian\":return 20;case\"gujarati\":return 21;case\"gurmukhi\":case\"hebrew\":return 22;case\"hiragana\":return 23;case\"hiragana-iroha\":return 24;case\"japanese-formal\":return 25;case\"japanese-informal\":return 26;case\"kannada\":return 27;case\"katakana\":return 28;case\"katakana-iroha\":return 29;case\"khmer\":return 30;case\"korean-hangul-formal\":return 31;case\"korean-hanja-formal\":return 32;case\"korean-hanja-informal\":return 33;case\"lao\":return 34;case\"lower-armenian\":return 35;case\"malayalam\":return 36;case\"mongolian\":return 37;case\"myanmar\":return 38;case\"oriya\":return 39;case\"persian\":return 40;case\"simp-chinese-formal\":return 41;case\"simp-chinese-informal\":return 42;case\"tamil\":return 43;case\"telugu\":return 44;case\"thai\":return 45;case\"tibetan\":return 46;case\"trad-chinese-formal\":return 47;case\"trad-chinese-informal\":return 48;case\"upper-armenian\":return 49;case\"disclosure-open\":return 50;case\"disclosure-closed\":return 51;default:return-1}}},ki=function(e){return{name:\"margin-\"+e,initialValue:\"0\",prefix:!1,type:4}},Si=ki(\"top\"),Ei=ki(\"right\"),_i=ki(\"bottom\"),Fi=ki(\"left\"),Oi={name:\"overflow\",initialValue:\"visible\",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map(function(e){switch(e.value){case\"hidden\":return 1;case\"scroll\":return 2;case\"clip\":return 3;case\"auto\":return 4;default:return 0}})}},Pi={name:\"overflow-wrap\",initialValue:\"normal\",prefix:!1,type:2,parse:function(e,t){return\"break-word\"===t?\"break-word\":\"normal\"}},Di=function(e){return{name:\"padding-\"+e,initialValue:\"0\",prefix:!1,type:3,format:\"length-percentage\"}},Qi=Di(\"top\"),Ui=Di(\"right\"),Ii=Di(\"bottom\"),Ni=Di(\"left\"),Mi={name:\"text-align\",initialValue:\"left\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"right\":return 2;case\"center\":case\"justify\":return 1;default:return 0}}},Li={name:\"position\",initialValue:\"static\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"relative\":return 1;case\"absolute\":return 2;case\"fixed\":return 3;case\"sticky\":return 4}return 0}},ji={name:\"text-shadow\",initialValue:\"none\",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&In(t[0],\"none\")?[]:Ln(t).map(function(t){for(var n={color:dr.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},r=0,i=0;i<t.length;i++){var a=t[i];Tn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=nr.parse(e,a)}return n})}},Ti={name:\"text-transform\",initialValue:\"none\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"uppercase\":return 2;case\"lowercase\":return 1;case\"capitalize\":return 3}return 0}},Hi={name:\"transform\",initialValue:\"none\",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&\"none\"===t.value)return null;if(18===t.type){var n=Ri[t.name];if(\"undefined\"===typeof n)throw new Error('Attempting to parse an unsupported transform function \"'+t.name+'\"');return n(t.values)}return null}},Ri={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,a,o,s]:null}},Ki={type:16,number:50,flags:We},zi=[Ki,Ki],Wi={name:\"transform-origin\",initialValue:\"50% 50%\",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?zi:[n[0],n[1]]}},Yi={name:\"visible\",initialValue:\"none\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"hidden\":return 1;case\"collapse\":return 2;default:return 0}}};!function(e){e.NORMAL=\"normal\",e.BREAK_ALL=\"break-all\",e.KEEP_ALL=\"keep-all\"}(vi||(vi={}));for(var Vi={name:\"word-break\",initialValue:\"normal\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"break-all\":return vi.BREAK_ALL;case\"keep-all\":return vi.KEEP_ALL;default:return vi.NORMAL}}},qi={name:\"z-index\",initialValue:\"auto\",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Dn(t))return{auto:!1,order:t.number};throw new Error(\"Invalid z-index number parsed\")}},Gi={name:\"time\",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case\"s\":return 1e3*t.number;case\"ms\":return t.number}throw new Error(\"Unsupported time type\")}},Xi={name:\"opacity\",initialValue:\"1\",type:0,prefix:!1,parse:function(e,t){return Dn(t)?t.number:1}},Ji={name:\"text-decoration-color\",initialValue:\"transparent\",prefix:!1,type:3,format:\"color\"},Zi={name:\"text-decoration-line\",initialValue:\"none\",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map(function(e){switch(e.value){case\"underline\":return 1;case\"overline\":return 2;case\"line-through\":return 3;case\"none\":return 4}return 0}).filter(function(e){return 0!==e})}},$i={name:\"font-family\",initialValue:\"\",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(\" \")),n.length=0}}),n.length&&r.push(n.join(\" \")),r.map(function(e){return-1===e.indexOf(\" \")?e:\"'\"+e+\"'\"})}},ea={name:\"font-size\",initialValue:\"0\",prefix:!1,type:3,format:\"length\"},ta={name:\"font-weight\",initialValue:\"normal\",type:0,prefix:!1,parse:function(e,t){return Dn(t)?t.number:Qn(t)&&\"bold\"===t.value?700:400}},na={name:\"font-variant\",initialValue:\"none\",type:1,prefix:!1,parse:function(e,t){return t.filter(Qn).map(function(e){return e.value})}},ra={name:\"font-style\",initialValue:\"normal\",prefix:!1,type:2,parse:function(e,t){switch(t){case\"oblique\":return\"oblique\";case\"italic\":return\"italic\";default:return\"normal\"}}},ia=function(e,t){return 0!==(e&t)},aa={name:\"content\",initialValue:\"none\",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&\"none\"===n.value?[]:t}},oa={name:\"counter-increment\",initialValue:\"none\",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&\"none\"===n.value)return null;for(var r=[],i=t.filter(Nn),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(20===o.type){var A=s&&Dn(s)?s.number:1;r.push({counter:o.value,increment:A})}}return r}},sa={name:\"counter-reset\",initialValue:\"none\",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Nn),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(Qn(a)&&\"none\"!==a.value){var s=o&&Dn(o)?o.number:0;n.push({counter:a.value,reset:s})}}return n}},Aa={name:\"duration\",initialValue:\"0s\",prefix:!1,type:1,parse:function(e,t){return t.filter(Pn).map(function(t){return Gi.parse(e,t)})}},la={name:\"quotes\",initialValue:\"none\",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&\"none\"===n.value)return null;var r=[],i=t.filter(Un);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;r.push({open:o,close:s})}return r}},ca=function(e,t,n){if(!e)return\"\";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:\"\"},ua={name:\"box-shadow\",initialValue:\"none\",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&In(t[0],\"none\")?[]:Ln(t).map(function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},r=0,i=0;i<t.length;i++){var a=t[i];In(a,\"inset\")?n.inset=!0:Tn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=nr.parse(e,a)}return n})}},da={name:\"paint-order\",initialValue:\"normal\",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Qn).forEach(function(e){switch(e.value){case\"stroke\":r.push(1);break;case\"fill\":r.push(0);break;case\"markers\":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},fa={name:\"-webkit-text-stroke-color\",initialValue:\"currentcolor\",prefix:!1,type:3,format:\"color\"},ha={name:\"-webkit-text-stroke-width\",initialValue:\"0\",type:0,prefix:!1,parse:function(e,t){return Pn(t)?t.number:0}},pa=function(){function e(e,t){var n,r;this.animationDuration=va(e,Aa,t.animationDuration),this.backgroundClip=va(e,fr,t.backgroundClip),this.backgroundColor=va(e,hr,t.backgroundColor),this.backgroundImage=va(e,Lr,t.backgroundImage),this.backgroundOrigin=va(e,jr,t.backgroundOrigin),this.backgroundPosition=va(e,Tr,t.backgroundPosition),this.backgroundRepeat=va(e,Hr,t.backgroundRepeat),this.backgroundSize=va(e,zr,t.backgroundSize),this.borderTopColor=va(e,Vr,t.borderTopColor),this.borderRightColor=va(e,qr,t.borderRightColor),this.borderBottomColor=va(e,Gr,t.borderBottomColor),this.borderLeftColor=va(e,Xr,t.borderLeftColor),this.borderTopLeftRadius=va(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=va(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=va(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=va(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=va(e,ri,t.borderTopStyle),this.borderRightStyle=va(e,ii,t.borderRightStyle),this.borderBottomStyle=va(e,ai,t.borderBottomStyle),this.borderLeftStyle=va(e,oi,t.borderLeftStyle),this.borderTopWidth=va(e,Ai,t.borderTopWidth),this.borderRightWidth=va(e,li,t.borderRightWidth),this.borderBottomWidth=va(e,ci,t.borderBottomWidth),this.borderLeftWidth=va(e,ui,t.borderLeftWidth),this.boxShadow=va(e,ua,t.boxShadow),this.color=va(e,di,t.color),this.direction=va(e,fi,t.direction),this.display=va(e,hi,t.display),this.float=va(e,gi,t.cssFloat),this.fontFamily=va(e,$i,t.fontFamily),this.fontSize=va(e,ea,t.fontSize),this.fontStyle=va(e,ra,t.fontStyle),this.fontVariant=va(e,na,t.fontVariant),this.fontWeight=va(e,ta,t.fontWeight),this.letterSpacing=va(e,mi,t.letterSpacing),this.lineBreak=va(e,yi,t.lineBreak),this.lineHeight=va(e,wi,t.lineHeight),this.listStyleImage=va(e,Bi,t.listStyleImage),this.listStylePosition=va(e,xi,t.listStylePosition),this.listStyleType=va(e,Ci,t.listStyleType),this.marginTop=va(e,Si,t.marginTop),this.marginRight=va(e,Ei,t.marginRight),this.marginBottom=va(e,_i,t.marginBottom),this.marginLeft=va(e,Fi,t.marginLeft),this.opacity=va(e,Xi,t.opacity);var i=va(e,Oi,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=va(e,Pi,t.overflowWrap),this.paddingTop=va(e,Qi,t.paddingTop),this.paddingRight=va(e,Ui,t.paddingRight),this.paddingBottom=va(e,Ii,t.paddingBottom),this.paddingLeft=va(e,Ni,t.paddingLeft),this.paintOrder=va(e,da,t.paintOrder),this.position=va(e,Li,t.position),this.textAlign=va(e,Mi,t.textAlign),this.textDecorationColor=va(e,Ji,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=va(e,Zi,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=va(e,ji,t.textShadow),this.textTransform=va(e,Ti,t.textTransform),this.transform=va(e,Hi,t.transform),this.transformOrigin=va(e,Wi,t.transformOrigin),this.visibility=va(e,Yi,t.visibility),this.webkitTextStrokeColor=va(e,fa,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=va(e,ha,t.webkitTextStrokeWidth),this.wordBreak=va(e,Vi,t.wordBreak),this.zIndex=va(e,qi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return ia(this.display,4)||ia(this.display,33554432)||ia(this.display,268435456)||ia(this.display,536870912)||ia(this.display,67108864)||ia(this.display,134217728)},e}(),ga=function(){function e(e,t){this.content=va(e,aa,t.content),this.quotes=va(e,la,t.quotes)}return e}(),ma=function(){function e(e,t){this.counterIncrement=va(e,oa,t.counterIncrement),this.counterReset=va(e,sa,t.counterReset)}return e}(),va=function(e,t,n){var r=new Fn,i=null!==n&&\"undefined\"!==typeof n?n.toString():t.initialValue;r.write(i);var a=new On(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Qn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case\"angle\":return Zn.parse(e,a.parseComponentValue());case\"color\":return nr.parse(e,a.parseComponentValue());case\"image\":return Ur.parse(e,a.parseComponentValue());case\"length\":var s=a.parseComponentValue();return Tn(s)?s:Kn;case\"length-percentage\":var A=a.parseComponentValue();return Hn(A)?A:Kn;case\"time\":return Gi.parse(e,a.parseComponentValue())}}},ya=\"data-html2canvas-debug\",wa=function(e){switch(e.getAttribute(ya)){case\"all\":return 1;case\"clone\":return 2;case\"parse\":return 3;case\"render\":return 4;default:return 0}},ba=function(e,t){var n=wa(e);return 1===n||t===n},Ba=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ba(t,3),this.styles=new pa(e,window.getComputedStyle(t,null)),cs(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration=\"0s\"),null!==this.styles.transform&&(t.style.transform=\"none\")),this.bounds=s(this.context,t),ba(t,4)&&(this.flags|=16)}return e}(),xa=\"AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=\",Ca=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",ka=\"undefined\"===typeof Uint8Array?[]:new Uint8Array(256),Sa=0;Sa<Ca.length;Sa++)ka[Ca.charCodeAt(Sa)]=Sa;for(var Ea=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,A=0;\"=\"===e[e.length-1]&&(o--,\"=\"===e[e.length-2]&&o--);var l=\"undefined\"!==typeof ArrayBuffer&&\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)n=ka[e.charCodeAt(t)],r=ka[e.charCodeAt(t+1)],i=ka[e.charCodeAt(t+2)],a=ka[e.charCodeAt(t+3)],c[A++]=n<<2|r>>4,c[A++]=(15&r)<<4|i>>2,c[A++]=(3&i)<<6|63&a;return l},_a=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Fa=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Oa=5,Pa=11,Da=2,Qa=65536>>Oa,Ua=(1<<Oa)-1,Ia=Qa+(1024>>Oa)+32,Na=65536>>Pa,Ma=(1<<Pa-Oa)-1,La=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},ja=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ta=function(e,t){var n=Ea(e),r=Array.isArray(n)?Fa(n):new Uint32Array(n),i=Array.isArray(n)?_a(n):new Uint16Array(n),a=24,o=La(i,a/2,r[4]/2),s=2===r[5]?La(i,(a+r[4])/2):ja(r,Math.ceil((a+r[4])/4));return new Ha(r[0],r[1],r[2],r[3],o,s)},Ha=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Oa])<<Da)+(e&Ua),this.data[t];if(e<=65535)return t=((t=this.index[Qa+(e-55296>>Oa)])<<Da)+(e&Ua),this.data[t];if(e<this.highStart)return t=Ia-Na+(e>>Pa),t=this.index[t],t+=e>>Oa&Ma,t=((t=this.index[t])<<Da)+(e&Ua),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ra=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",Ka=\"undefined\"===typeof Uint8Array?[]:new Uint8Array(256),za=0;za<Ra.length;za++)Ka[Ra.charCodeAt(za)]=za;var Wa,Ya=1,Va=2,qa=3,Ga=4,Xa=5,Ja=7,Za=8,$a=9,eo=10,to=11,no=12,ro=13,io=14,ao=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},so=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return\"\";for(var r=[],i=-1,a=\"\";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},Ao=Ta(xa),lo=\"\\xd7\",co=\"\\xf7\",uo=function(e){return Ao.get(e)},fo=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===Va&&o===qa)return lo;if(a===Va||a===qa||a===Ga)return co;if(o===Va||o===qa||o===Ga)return co;if(a===Za&&-1!==[Za,$a,to,no].indexOf(o))return lo;if((a===to||a===$a)&&(o===$a||o===eo))return lo;if((a===no||a===eo)&&o===eo)return lo;if(o===ro||o===Xa)return lo;if(o===Ja)return lo;if(a===Ya)return lo;if(a===ro&&o===io){for(;i===Xa;)i=t[--r];if(i===io)return lo}if(a===ao&&o===ao){for(var s=0;i===ao;)s++,i=t[--r];if(s%2===0)return lo}return co},ho=function(e){var t=oo(e),n=t.length,r=0,i=0,a=t.map(uo);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=lo;r<n&&(e=fo(t,a,++r))===lo;);if(e!==lo||r===n){var o=so.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},po=function(e){for(var t,n=ho(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},go=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement(\"boundtest\");r.style.height=t+\"px\",r.style.display=\"block\",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},mo=function(e){var t=e.createElement(\"boundtest\");t.style.width=\"50px\",t.style.display=\"block\",t.style.fontSize=\"12px\",t.style.letterSpacing=\"0px\",t.style.wordSpacing=\"0px\",e.body.appendChild(t);var n=e.createRange();t.innerHTML=\"function\"===typeof\"\".repeat?\"&#128104;\".repeat(10):\"\";var r=t.firstChild,i=l(r.data).map(function(e){return c(e)}),a=0,o={},s=i.every(function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var i=n.getBoundingClientRect();a+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,0===t||s});return e.body.removeChild(t),s},vo=function(){return\"undefined\"!==typeof(new Image).crossOrigin},yo=function(){return\"string\"===typeof(new XMLHttpRequest).responseType},wo=function(e){var t=new Image,n=e.createElement(\"canvas\"),r=n.getContext(\"2d\");if(!r)return!1;t.src=\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";try{r.drawImage(t,0,0),n.toDataURL()}catch(Mt){return!1}return!0},bo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Bo=function(e){var t=e.createElement(\"canvas\"),n=100;t.width=n,t.height=n;var r=t.getContext(\"2d\");if(!r)return Promise.reject(!1);r.fillStyle=\"rgb(0, 255, 0)\",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=xo(n,n,0,0,i);return r.fillStyle=\"red\",r.fillRect(0,0,n,n),Co(o).then(function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle=\"red\",r.fillRect(0,0,n,n);var o=e.createElement(\"div\");return o.style.backgroundImage=\"url(\"+a+\")\",o.style.height=n+\"px\",bo(i)?Co(xo(n,n,0,0,o)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),bo(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},xo=function(e,t,n,r,i){var a=\"http://www.w3.org/2000/svg\",o=document.createElementNS(a,\"svg\"),s=document.createElementNS(a,\"foreignObject\");return o.setAttributeNS(null,\"width\",e.toString()),o.setAttributeNS(null,\"height\",t.toString()),s.setAttributeNS(null,\"width\",\"100%\"),s.setAttributeNS(null,\"height\",\"100%\"),s.setAttributeNS(null,\"x\",n.toString()),s.setAttributeNS(null,\"y\",r.toString()),s.setAttributeNS(null,\"externalResourcesRequired\",\"true\"),o.appendChild(s),s.appendChild(i),o},Co=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src=\"data:image/svg+xml;charset=utf-8,\"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},ko={get SUPPORT_RANGE_BOUNDS(){var e=go(document);return Object.defineProperty(ko,\"SUPPORT_RANGE_BOUNDS\",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ko.SUPPORT_RANGE_BOUNDS&&mo(document);return Object.defineProperty(ko,\"SUPPORT_WORD_BREAKING\",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=wo(document);return Object.defineProperty(ko,\"SUPPORT_SVG_DRAWING\",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=\"function\"===typeof Array.from&&\"function\"===typeof window.fetch?Bo(document):Promise.resolve(!1);return Object.defineProperty(ko,\"SUPPORT_FOREIGNOBJECT_DRAWING\",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=vo();return Object.defineProperty(ko,\"SUPPORT_CORS_IMAGES\",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=yo();return Object.defineProperty(ko,\"SUPPORT_RESPONSE_TYPE\",{value:e}),e},get SUPPORT_CORS_XHR(){var e=\"withCredentials\"in new XMLHttpRequest;return Object.defineProperty(ko,\"SUPPORT_CORS_XHR\",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!(\"undefined\"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(ko,\"SUPPORT_NATIVE_TEXT_SEGMENTATION\",{value:e}),e}},So=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Eo=function(e,t,n,r){var i=Do(t,n),a=[],s=0;return i.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(ko.SUPPORT_RANGE_BOUNDS){var i=Fo(r,s,t.length).getClientRects();if(i.length>1){var A=Oo(t),l=0;A.forEach(function(t){a.push(new So(t,o.fromDOMRectList(e,Fo(r,l+s,t.length).getClientRects()))),l+=t.length})}else a.push(new So(t,o.fromDOMRectList(e,i)))}else{var c=r.splitText(t.length);a.push(new So(t,_o(e,r))),r=c}else ko.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length}),a},_o=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement(\"html2canvaswrapper\");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return o.EMPTY},Fo=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error(\"Node has no owner document\");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Oo=function(e){if(ko.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:\"grapheme\"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return po(e)},Po=function(e,t){if(ko.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:\"word\"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Uo(e,t)},Do=function(e,t){return 0!==t.letterSpacing?Oo(e):Po(e,t)},Qo=[32,160,4961,65792,65793,4153,4241],Uo=function(e,t){for(var n,r=Re(e,{lineBreak:t.lineBreak,wordBreak:\"break-word\"===t.overflowWrap?\"break-word\":t.wordBreak}),i=[],a=function(){if(n.value){var e=n.value.slice(),t=l(e),r=\"\";t.forEach(function(e){-1===Qo.indexOf(e)?r+=c(e):(r.length&&i.push(r),i.push(c(e)),r=\"\")}),r.length&&i.push(r)}};!(n=r.next()).done;)a();return i},Io=function(){function e(e,t,n){this.text=No(t.data,n.textTransform),this.textBounds=Eo(e,this.text,n,t)}return e}(),No=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Mo,Lo);case 2:return e.toUpperCase();default:return e}},Mo=/(^|\\s|:|-|\\(|\\))([a-z])/g,Lo=function(e,t,n){return e.length>0?t+n.toUpperCase():e},jo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(Ba),To=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(Ba),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,a=s(t,n);return n.setAttribute(\"width\",a.width+\"px\"),n.setAttribute(\"height\",a.height+\"px\"),r.svg=\"data:image/svg+xml,\"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(Ba),Ro=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Ba),Ko=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed=\"boolean\"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(Ba),zo=[{type:15,flags:0,unit:\"px\",number:3}],Wo=[{type:16,flags:0,number:50}],Yo=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Vo=function(e){var t=e.type===Xo?new Array(e.value.length+1).join(\"\\u2022\"):e.value;return 0===t.length?e.placeholder||\"\":t},qo=\"checkbox\",Go=\"radio\",Xo=\"password\",Jo=707406591,Zo=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Vo(n),r.type!==qo&&r.type!==Go||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Yo(r.bounds)),r.type){case qo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=zo;break;case Go:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Wo}return r}return t(n,e),n}(Ba),$o=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||\"\",r}return t(n,e),n}(Ba),es=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Ba),ts=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=as(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,a=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(i)?rr(a)?r.styles.backgroundColor:a:i}}catch(Mt){}return r}return t(n,e),n}(Ba),ns=[\"OL\",\"UL\",\"MENU\"],rs=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,As(i)&&i.data.trim().length>0)n.textNodes.push(new Io(e,i,n.styles));else if(ls(i))if(Ss(i)&&i.assignedNodes)i.assignedNodes().forEach(function(t){return rs(e,t,n,r)});else{var o=is(e,i);o.styles.isVisible()&&(os(i,o,r)?o.flags|=4:ss(o.styles)&&(o.flags|=2),-1!==ns.indexOf(i.tagName)&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?rs(e,i.shadowRoot,o,r):Cs(i)||gs(i)||ks(i)||rs(e,i,o,r))}},is=function(e,t){return ws(t)?new jo(e,t):vs(t)?new To(e,t):gs(t)?new Ho(e,t):ds(t)?new Ro(e,t):fs(t)?new Ko(e,t):hs(t)?new Zo(e,t):ks(t)?new $o(e,t):Cs(t)?new es(e,t):bs(t)?new ts(e,t):new Ba(e,t)},as=function(e,t){var n=is(e,t);return n.flags|=4,rs(e,t,n,n),n},os=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ms(e)&&n.styles.isTransparent()},ss=function(e){return e.isPositioned()||e.isFloating()},As=function(e){return e.nodeType===Node.TEXT_NODE},ls=function(e){return e.nodeType===Node.ELEMENT_NODE},cs=function(e){return ls(e)&&\"undefined\"!==typeof e.style&&!us(e)},us=function(e){return\"object\"===typeof e.className},ds=function(e){return\"LI\"===e.tagName},fs=function(e){return\"OL\"===e.tagName},hs=function(e){return\"INPUT\"===e.tagName},ps=function(e){return\"HTML\"===e.tagName},gs=function(e){return\"svg\"===e.tagName},ms=function(e){return\"BODY\"===e.tagName},vs=function(e){return\"CANVAS\"===e.tagName},ys=function(e){return\"VIDEO\"===e.tagName},ws=function(e){return\"IMG\"===e.tagName},bs=function(e){return\"IFRAME\"===e.tagName},Bs=function(e){return\"STYLE\"===e.tagName},xs=function(e){return\"SCRIPT\"===e.tagName},Cs=function(e){return\"TEXTAREA\"===e.tagName},ks=function(e){return\"SELECT\"===e.tagName},Ss=function(e){return\"SLOT\"===e.tagName},Es=function(e){return e.tagName.indexOf(\"-\")>0},_s=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var a=[];return i&&r.forEach(function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),a},e}(),Fs={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:[\"M\",\"CM\",\"D\",\"CD\",\"C\",\"XC\",\"L\",\"XL\",\"X\",\"IX\",\"V\",\"IV\",\"I\"]},Os={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:[\"\\u0554\",\"\\u0553\",\"\\u0552\",\"\\u0551\",\"\\u0550\",\"\\u054f\",\"\\u054e\",\"\\u054d\",\"\\u054c\",\"\\u054b\",\"\\u054a\",\"\\u0549\",\"\\u0548\",\"\\u0547\",\"\\u0546\",\"\\u0545\",\"\\u0544\",\"\\u0543\",\"\\u0542\",\"\\u0541\",\"\\u0540\",\"\\u053f\",\"\\u053e\",\"\\u053d\",\"\\u053c\",\"\\u053b\",\"\\u053a\",\"\\u0539\",\"\\u0538\",\"\\u0537\",\"\\u0536\",\"\\u0535\",\"\\u0534\",\"\\u0533\",\"\\u0532\",\"\\u0531\"]},Ps={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:[\"\\u05d9\\u05f3\",\"\\u05d8\\u05f3\",\"\\u05d7\\u05f3\",\"\\u05d6\\u05f3\",\"\\u05d5\\u05f3\",\"\\u05d4\\u05f3\",\"\\u05d3\\u05f3\",\"\\u05d2\\u05f3\",\"\\u05d1\\u05f3\",\"\\u05d0\\u05f3\",\"\\u05ea\",\"\\u05e9\",\"\\u05e8\",\"\\u05e7\",\"\\u05e6\",\"\\u05e4\",\"\\u05e2\",\"\\u05e1\",\"\\u05e0\",\"\\u05de\",\"\\u05dc\",\"\\u05db\",\"\\u05d9\\u05d8\",\"\\u05d9\\u05d7\",\"\\u05d9\\u05d6\",\"\\u05d8\\u05d6\",\"\\u05d8\\u05d5\",\"\\u05d9\",\"\\u05d8\",\"\\u05d7\",\"\\u05d6\",\"\\u05d5\",\"\\u05d4\",\"\\u05d3\",\"\\u05d2\",\"\\u05d1\",\"\\u05d0\"]},Ds={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:[\"\\u10f5\",\"\\u10f0\",\"\\u10ef\",\"\\u10f4\",\"\\u10ee\",\"\\u10ed\",\"\\u10ec\",\"\\u10eb\",\"\\u10ea\",\"\\u10e9\",\"\\u10e8\",\"\\u10e7\",\"\\u10e6\",\"\\u10e5\",\"\\u10e4\",\"\\u10f3\",\"\\u10e2\",\"\\u10e1\",\"\\u10e0\",\"\\u10df\",\"\\u10de\",\"\\u10dd\",\"\\u10f2\",\"\\u10dc\",\"\\u10db\",\"\\u10da\",\"\\u10d9\",\"\\u10d8\",\"\\u10d7\",\"\\u10f1\",\"\\u10d6\",\"\\u10d5\",\"\\u10d4\",\"\\u10d3\",\"\\u10d2\",\"\\u10d1\",\"\\u10d0\"]},Qs=function(e,t,n,r,i,a){return e<t||e>n?Ys(e,i,a.length>0):r.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t},\"\")+a},Us=function(e,t,n,r){var i=\"\";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Is=function(e,t,n,r,i){var a=n-t+1;return(e<0?\"-\":\"\")+(Us(Math.abs(e),a,r,function(e){return c(Math.floor(e%a)+t)})+i)},Ns=function(e,t,n){void 0===n&&(n=\". \");var r=t.length;return Us(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Ms=1,Ls=2,js=4,Ts=8,Hs=function(e,t,n,r,i,a){if(e<-9999||e>9999)return Ys(e,4,i.length>0);var o=Math.abs(e),s=i;if(0===o)return t[0]+s;for(var A=0;o>0&&A<=4;A++){var l=o%10;0===l&&ia(a,Ms)&&\"\"!==s?s=t[l]+s:l>1||1===l&&0===A||1===l&&1===A&&ia(a,Ls)||1===l&&1===A&&ia(a,js)&&e>100||1===l&&A>1&&ia(a,Ts)?s=t[l]+(A>0?n[A-1]:\"\")+s:1===l&&A>0&&(s=n[A-1]+s),o=Math.floor(o/10)}return(e<0?r:\"\")+s},Rs=\"\\u5341\\u767e\\u5343\\u842c\",Ks=\"\\u62fe\\u4f70\\u4edf\\u842c\",zs=\"\\u30de\\u30a4\\u30ca\\u30b9\",Ws=\"\\ub9c8\\uc774\\ub108\\uc2a4\",Ys=function(e,t,n){var r=n?\". \":\"\",i=n?\"\\u3001\":\"\",a=n?\", \":\"\",o=n?\" \":\"\";switch(t){case 0:return\"\\u2022\"+o;case 1:return\"\\u25e6\"+o;case 2:return\"\\u25fe\"+o;case 5:var s=Is(e,48,57,!0,r);return s.length<4?\"0\"+s:s;case 4:return Ns(e,\"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d\",i);case 6:return Qs(e,1,3999,Fs,3,r).toLowerCase();case 7:return Qs(e,1,3999,Fs,3,r);case 8:return Is(e,945,969,!1,r);case 9:return Is(e,97,122,!1,r);case 10:return Is(e,65,90,!1,r);case 11:return Is(e,1632,1641,!0,r);case 12:case 49:return Qs(e,1,9999,Os,3,r);case 35:return Qs(e,1,9999,Os,3,r).toLowerCase();case 13:return Is(e,2534,2543,!0,r);case 14:case 30:return Is(e,6112,6121,!0,r);case 15:return Ns(e,\"\\u5b50\\u4e11\\u5bc5\\u536f\\u8fb0\\u5df3\\u5348\\u672a\\u7533\\u9149\\u620c\\u4ea5\",i);case 16:return Ns(e,\"\\u7532\\u4e59\\u4e19\\u4e01\\u620a\\u5df1\\u5e9a\\u8f9b\\u58ec\\u7678\",i);case 17:case 48:return Hs(e,\"\\u96f6\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d\",Rs,\"\\u8ca0\",i,Ls|js|Ts);case 47:return Hs(e,\"\\u96f6\\u58f9\\u8cb3\\u53c3\\u8086\\u4f0d\\u9678\\u67d2\\u634c\\u7396\",Ks,\"\\u8ca0\",i,Ms|Ls|js|Ts);case 42:return Hs(e,\"\\u96f6\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d\",Rs,\"\\u8d1f\",i,Ls|js|Ts);case 41:return Hs(e,\"\\u96f6\\u58f9\\u8d30\\u53c1\\u8086\\u4f0d\\u9646\\u67d2\\u634c\\u7396\",Ks,\"\\u8d1f\",i,Ms|Ls|js|Ts);case 26:return Hs(e,\"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d\",\"\\u5341\\u767e\\u5343\\u4e07\",zs,i,0);case 25:return Hs(e,\"\\u96f6\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\",\"\\u62fe\\u767e\\u5343\\u4e07\",zs,i,Ms|Ls|js);case 31:return Hs(e,\"\\uc601\\uc77c\\uc774\\uc0bc\\uc0ac\\uc624\\uc721\\uce60\\ud314\\uad6c\",\"\\uc2ed\\ubc31\\ucc9c\\ub9cc\",Ws,a,Ms|Ls|js);case 33:return Hs(e,\"\\u96f6\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d\",\"\\u5341\\u767e\\u5343\\u842c\",Ws,a,0);case 32:return Hs(e,\"\\u96f6\\u58f9\\u8cb3\\u53c3\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d\",\"\\u62fe\\u767e\\u5343\",Ws,a,Ms|Ls|js);case 18:return Is(e,2406,2415,!0,r);case 20:return Qs(e,1,19999,Ds,3,r);case 21:return Is(e,2790,2799,!0,r);case 22:return Is(e,2662,2671,!0,r);case 22:return Qs(e,1,10999,Ps,3,r);case 23:return Ns(e,\"\\u3042\\u3044\\u3046\\u3048\\u304a\\u304b\\u304d\\u304f\\u3051\\u3053\\u3055\\u3057\\u3059\\u305b\\u305d\\u305f\\u3061\\u3064\\u3066\\u3068\\u306a\\u306b\\u306c\\u306d\\u306e\\u306f\\u3072\\u3075\\u3078\\u307b\\u307e\\u307f\\u3080\\u3081\\u3082\\u3084\\u3086\\u3088\\u3089\\u308a\\u308b\\u308c\\u308d\\u308f\\u3090\\u3091\\u3092\\u3093\");case 24:return Ns(e,\"\\u3044\\u308d\\u306f\\u306b\\u307b\\u3078\\u3068\\u3061\\u308a\\u306c\\u308b\\u3092\\u308f\\u304b\\u3088\\u305f\\u308c\\u305d\\u3064\\u306d\\u306a\\u3089\\u3080\\u3046\\u3090\\u306e\\u304a\\u304f\\u3084\\u307e\\u3051\\u3075\\u3053\\u3048\\u3066\\u3042\\u3055\\u304d\\u3086\\u3081\\u307f\\u3057\\u3091\\u3072\\u3082\\u305b\\u3059\");case 27:return Is(e,3302,3311,!0,r);case 28:return Ns(e,\"\\u30a2\\u30a4\\u30a6\\u30a8\\u30aa\\u30ab\\u30ad\\u30af\\u30b1\\u30b3\\u30b5\\u30b7\\u30b9\\u30bb\\u30bd\\u30bf\\u30c1\\u30c4\\u30c6\\u30c8\\u30ca\\u30cb\\u30cc\\u30cd\\u30ce\\u30cf\\u30d2\\u30d5\\u30d8\\u30db\\u30de\\u30df\\u30e0\\u30e1\\u30e2\\u30e4\\u30e6\\u30e8\\u30e9\\u30ea\\u30eb\\u30ec\\u30ed\\u30ef\\u30f0\\u30f1\\u30f2\\u30f3\",i);case 29:return Ns(e,\"\\u30a4\\u30ed\\u30cf\\u30cb\\u30db\\u30d8\\u30c8\\u30c1\\u30ea\\u30cc\\u30eb\\u30f2\\u30ef\\u30ab\\u30e8\\u30bf\\u30ec\\u30bd\\u30c4\\u30cd\\u30ca\\u30e9\\u30e0\\u30a6\\u30f0\\u30ce\\u30aa\\u30af\\u30e4\\u30de\\u30b1\\u30d5\\u30b3\\u30a8\\u30c6\\u30a2\\u30b5\\u30ad\\u30e6\\u30e1\\u30df\\u30b7\\u30f1\\u30d2\\u30e2\\u30bb\\u30b9\",i);case 34:return Is(e,3792,3801,!0,r);case 37:return Is(e,6160,6169,!0,r);case 38:return Is(e,4160,4169,!0,r);case 39:return Is(e,2918,2927,!0,r);case 40:return Is(e,1776,1785,!0,r);case 43:return Is(e,3046,3055,!0,r);case 44:return Is(e,3174,3183,!0,r);case 45:return Is(e,3664,3673,!0,r);case 46:return Is(e,3872,3881,!0,r);default:return Is(e,48,57,!0,r)}},Vs=\"data-html2canvas-ignore\",qs=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new _s,this.quoteDepth=0,!t.ownerDocument)throw new Error(\"Cloned element does not have an owner document\");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=Xs(e,t);if(!a.contentWindow)return Promise.reject(\"Unable to find iframe window\");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,A=a.contentWindow,l=A.document,c=$s(a).then(function(){return r(n,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(iA),A&&(A.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===t.top&&A.scrollX===t.left||(this.context.logger.warn(\"Unable to restore scroll position for cloned document\"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-t.left,A.scrollY-t.top,0,0))),e=this.options.onclone,\"undefined\"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject(\"Error finding the \"+this.referenceElement.nodeName+\" in the cloned document\")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zs(l)]:[3,4];case 3:r.sent(),r.label=4;case 4:return\"function\"===typeof e?[2,Promise.resolve().then(function(){return e(l,n)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(nA(document.doctype)+\"<html></html>\"),rA(this.referenceElement.ownerDocument,o,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(ba(e,2),vs(e))return this.createCanvasClone(e);if(ys(e))return this.createVideoClone(e);if(Bs(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return ws(t)&&(ws(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=\"\"),\"lazy\"===t.loading&&(t.loading=\"eager\")),Es(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement(\"html2canvascustomelement\");return tA(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&\"string\"===typeof t.cssText?e+t.cssText:e},\"\"),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Mt){if(this.context.logger.error(\"Unable to access cssRules property\",Mt),\"SecurityError\"!==Mt.name)throw Mt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement(\"img\");try{return n.src=e.toDataURL(),n}catch(Mt){this.context.logger.info(\"Unable to inline canvas contents, canvas is tainted\",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext(\"2d\"),a=r.getContext(\"2d\");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext(\"webgl2\"))&&void 0!==t?t:e.getContext(\"webgl\");if(o){var s=o.getContextAttributes();!1===(null===s||void 0===s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn(\"Unable to clone WebGL context as it has preserveDrawingBuffer=false\",e)}a.drawImage(e,0,0)}return r}catch(Mt){this.context.logger.info(\"Unable to clone canvas as it is tainted\",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement(\"canvas\");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext(\"2d\");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Mt){this.context.logger.info(\"Unable to clone video as it is tainted\",e)}var r=e.ownerDocument.createElement(\"canvas\");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ls(t)&&(xs(t)||t.hasAttribute(Vs)||\"function\"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ls(t)&&Bs(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ls(i)&&Ss(i)&&\"function\"===typeof i.assignedNodes){var a=i.assignedNodes();a.length&&a.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(As(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ls(e)&&(cs(e)||us(e))){var r=this.createElementClone(e);r.style.transitionProperty=\"none\";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,\":before\"),o=n.getComputedStyle(e,\":after\");this.referenceElement===e&&cs(r)&&(this.clonedReferenceElement=r),ms(r)&&cA(r);var s=this.counters.parse(new ma(this.context,i)),A=this.resolvePseudoContent(e,r,a,Wa.BEFORE);Es(e)&&(t=!0),ys(e)||this.cloneChildNodes(e,r,t),A&&r.insertBefore(A,r.firstChild);var l=this.resolvePseudoContent(e,r,o,Wa.AFTER);return l&&r.appendChild(l),this.counters.pop(s),(i&&(this.options.copyStyles||us(e))&&!bs(e)||t)&&tA(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Cs(e)||ks(e))&&(Cs(r)||ks(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var a=n.content,o=t.ownerDocument;if(o&&a&&\"none\"!==a&&\"-moz-alt-content\"!==a&&\"none\"!==n.display){this.counters.parse(new ma(this.context,n));var s=new ga(this.context,n),A=o.createElement(\"html2canvaspseudoelement\");tA(n,A),s.content.forEach(function(t){if(0===t.type)A.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement(\"img\");n.src=t.value,n.style.opacity=\"1\",A.appendChild(n)}else if(18===t.type){if(\"attr\"===t.name){var r=t.values.filter(Qn);r.length&&A.appendChild(o.createTextNode(e.getAttribute(r[0].value)||\"\"))}else if(\"counter\"===t.name){var a=t.values.filter(Mn),l=a[0],c=a[1];if(l&&Qn(l)){var u=i.counters.getCounterValue(l.value),d=c&&Qn(c)?Ci.parse(i.context,c.value):3;A.appendChild(o.createTextNode(Ys(u,d,!1)))}}else if(\"counters\"===t.name){var f=t.values.filter(Mn),h=(l=f[0],f[1]);if(c=f[2],l&&Qn(l)){var p=i.counters.getCounterValues(l.value),g=c&&Qn(c)?Ci.parse(i.context,c.value):3,m=h&&0===h.type?h.value:\"\",v=p.map(function(e){return Ys(e,g,!1)}).join(m);A.appendChild(o.createTextNode(v))}}}else if(20===t.type)switch(t.value){case\"open-quote\":A.appendChild(o.createTextNode(ca(s.quotes,i.quoteDepth++,!0)));break;case\"close-quote\":A.appendChild(o.createTextNode(ca(s.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(t.value))}}),A.className=sA+\" \"+AA;var l=r===Wa.BEFORE?\" \"+sA:\" \"+AA;return us(t)?t.className.baseValue+=l:t.className+=l,A}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]=\"BEFORE\",e[e.AFTER=1]=\"AFTER\"}(Wa||(Wa={}));var Gs,Xs=function(e,t){var n=e.createElement(\"iframe\");return n.className=\"html2canvas-container\",n.style.visibility=\"hidden\",n.style.position=\"fixed\",n.style.left=\"-10000px\",n.style.top=\"0px\",n.style.border=\"0\",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling=\"no\",n.setAttribute(Vs,\"true\"),e.body.appendChild(n),n},Js=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Zs=function(e){return Promise.all([].slice.call(e.images,0).map(Js))},$s=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n(\"No window assigned for iframe\");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){i.body.childNodes.length>0&&\"complete\"===i.readyState&&(clearInterval(n),t(e))},50)}})},eA=[\"all\",\"d\",\"content\"],tA=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===eA.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nA=function(e){var t=\"\";return e&&(t+=\"<!DOCTYPE \",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='\"'+e.publicId+'\"'),e.systemId&&(t+='\"'+e.systemId+'\"'),t+=\">\"),t},rA=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},iA=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},aA=\":before\",oA=\":after\",sA=\"___html2canvas___pseudoelement_before\",AA=\"___html2canvas___pseudoelement_after\",lA='{\\n    content: \"\" !important;\\n    display: none !important;\\n}',cA=function(e){uA(e,\".\"+sA+aA+lA+\"\\n         .\"+AA+oA+lA)},uA=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement(\"style\");r.textContent=t,e.appendChild(r)}},dA=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):\"about:blank\"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement(\"a\"),e._origin=e.getOrigin(t.location.href)},e._origin=\"about:blank\",e}(),fA=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:wA(e)||mA(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o=this;return i(this,function(i){switch(i.label){case 0:return t=dA.isSameOrigin(e),n=!vA(e)&&!0===this._options.useCORS&&ko.SUPPORT_CORS_IMAGES&&!t,r=!vA(e)&&!t&&!wA(e)&&\"string\"===typeof this._options.proxy&&ko.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vA(e)||wA(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug(\"Added image \"+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yA(a)||n)&&(r.crossOrigin=\"anonymous\"),r.src=a,!0===r.complete&&setTimeout(function(){return e(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return t(\"Timed out (\"+o._options.imageTimeout+\"ms) loading image\")},o._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},e.prototype.has=function(e){return\"undefined\"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error(\"No proxy defined\");var r=e.substring(0,256);return new Promise(function(i,a){var o=ko.SUPPORT_RESPONSE_TYPE?\"blob\":\"text\",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if(\"text\"===o)i(s.response);else{var e=new FileReader;e.addEventListener(\"load\",function(){return i(e.result)},!1),e.addEventListener(\"error\",function(e){return a(e)},!1),e.readAsDataURL(s.response)}else a(\"Failed to proxy resource \"+r+\" with status code \"+s.status)},s.onerror=a;var A=n.indexOf(\"?\")>-1?\"&\":\"?\";if(s.open(\"GET\",\"\"+n+A+\"url=\"+encodeURIComponent(e)+\"&responseType=\"+o),\"text\"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var l=t._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return a(\"Timed out (\"+l+\"ms) proxying \"+r)}}s.send()})},e}(),hA=/^data:image\\/svg\\+xml/i,pA=/^data:image\\/.*;base64,/i,gA=/^data:image\\/.*/i,mA=function(e){return ko.SUPPORT_SVG_DRAWING||!bA(e)},vA=function(e){return gA.test(e)},yA=function(e){return pA.test(e)},wA=function(e){return\"blob\"===e.substr(0,4)},bA=function(e){return\"svg\"===e.substr(-3).toLowerCase()||hA.test(e)},BA=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),xA=function(e,t,n){return new BA(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},CA=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=xA(this.start,this.startControl,t),i=xA(this.startControl,this.endControl,t),a=xA(this.endControl,this.end,t),o=xA(r,i,t),s=xA(i,a,t),A=xA(o,s,t);return n?new e(this.start,r,o,A):new e(A,s,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),kA=function(e){return 1===e.type},SA=function(){function e(e){var t=e.styles,n=e.bounds,r=Yn(t.borderTopLeftRadius,n.width,n.height),i=r[0],a=r[1],o=Yn(t.borderTopRightRadius,n.width,n.height),s=o[0],A=o[1],l=Yn(t.borderBottomRightRadius,n.width,n.height),c=l[0],u=l[1],d=Yn(t.borderBottomLeftRadius,n.width,n.height),f=d[0],h=d[1],p=[];p.push((i+s)/n.width),p.push((f+c)/n.width),p.push((a+h)/n.height),p.push((A+u)/n.height);var g=Math.max.apply(Math,p);g>1&&(i/=g,a/=g,s/=g,A/=g,c/=g,u/=g,f/=g,h/=g);var m=n.width-s,v=n.height-u,y=n.width-c,w=n.height-h,b=t.borderTopWidth,B=t.borderRightWidth,x=t.borderBottomWidth,C=t.borderLeftWidth,k=Vn(t.paddingTop,e.bounds.width),S=Vn(t.paddingRight,e.bounds.width),E=Vn(t.paddingBottom,e.bounds.width),_=Vn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?EA(n.left+C/3,n.top+b/3,i-C/3,a-b/3,Gs.TOP_LEFT):new BA(n.left+C/3,n.top+b/3),this.topRightBorderDoubleOuterBox=i>0||a>0?EA(n.left+m,n.top+b/3,s-B/3,A-b/3,Gs.TOP_RIGHT):new BA(n.left+n.width-B/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?EA(n.left+y,n.top+v,c-B/3,u-x/3,Gs.BOTTOM_RIGHT):new BA(n.left+n.width-B/3,n.top+n.height-x/3),this.bottomLeftBorderDoubleOuterBox=f>0||h>0?EA(n.left+C/3,n.top+w,f-C/3,h-x/3,Gs.BOTTOM_LEFT):new BA(n.left+C/3,n.top+n.height-x/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?EA(n.left+2*C/3,n.top+2*b/3,i-2*C/3,a-2*b/3,Gs.TOP_LEFT):new BA(n.left+2*C/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=i>0||a>0?EA(n.left+m,n.top+2*b/3,s-2*B/3,A-2*b/3,Gs.TOP_RIGHT):new BA(n.left+n.width-2*B/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?EA(n.left+y,n.top+v,c-2*B/3,u-2*x/3,Gs.BOTTOM_RIGHT):new BA(n.left+n.width-2*B/3,n.top+n.height-2*x/3),this.bottomLeftBorderDoubleInnerBox=f>0||h>0?EA(n.left+2*C/3,n.top+w,f-2*C/3,h-2*x/3,Gs.BOTTOM_LEFT):new BA(n.left+2*C/3,n.top+n.height-2*x/3),this.topLeftBorderStroke=i>0||a>0?EA(n.left+C/2,n.top+b/2,i-C/2,a-b/2,Gs.TOP_LEFT):new BA(n.left+C/2,n.top+b/2),this.topRightBorderStroke=i>0||a>0?EA(n.left+m,n.top+b/2,s-B/2,A-b/2,Gs.TOP_RIGHT):new BA(n.left+n.width-B/2,n.top+b/2),this.bottomRightBorderStroke=c>0||u>0?EA(n.left+y,n.top+v,c-B/2,u-x/2,Gs.BOTTOM_RIGHT):new BA(n.left+n.width-B/2,n.top+n.height-x/2),this.bottomLeftBorderStroke=f>0||h>0?EA(n.left+C/2,n.top+w,f-C/2,h-x/2,Gs.BOTTOM_LEFT):new BA(n.left+C/2,n.top+n.height-x/2),this.topLeftBorderBox=i>0||a>0?EA(n.left,n.top,i,a,Gs.TOP_LEFT):new BA(n.left,n.top),this.topRightBorderBox=s>0||A>0?EA(n.left+m,n.top,s,A,Gs.TOP_RIGHT):new BA(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?EA(n.left+y,n.top+v,c,u,Gs.BOTTOM_RIGHT):new BA(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||h>0?EA(n.left,n.top+w,f,h,Gs.BOTTOM_LEFT):new BA(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?EA(n.left+C,n.top+b,Math.max(0,i-C),Math.max(0,a-b),Gs.TOP_LEFT):new BA(n.left+C,n.top+b),this.topRightPaddingBox=s>0||A>0?EA(n.left+Math.min(m,n.width-B),n.top+b,m>n.width+B?0:Math.max(0,s-B),Math.max(0,A-b),Gs.TOP_RIGHT):new BA(n.left+n.width-B,n.top+b),this.bottomRightPaddingBox=c>0||u>0?EA(n.left+Math.min(y,n.width-C),n.top+Math.min(v,n.height-x),Math.max(0,c-B),Math.max(0,u-x),Gs.BOTTOM_RIGHT):new BA(n.left+n.width-B,n.top+n.height-x),this.bottomLeftPaddingBox=f>0||h>0?EA(n.left+C,n.top+Math.min(w,n.height-x),Math.max(0,f-C),Math.max(0,h-x),Gs.BOTTOM_LEFT):new BA(n.left+C,n.top+n.height-x),this.topLeftContentBox=i>0||a>0?EA(n.left+C+_,n.top+b+k,Math.max(0,i-(C+_)),Math.max(0,a-(b+k)),Gs.TOP_LEFT):new BA(n.left+C+_,n.top+b+k),this.topRightContentBox=s>0||A>0?EA(n.left+Math.min(m,n.width+C+_),n.top+b+k,m>n.width+C+_?0:s-C+_,A-(b+k),Gs.TOP_RIGHT):new BA(n.left+n.width-(B+S),n.top+b+k),this.bottomRightContentBox=c>0||u>0?EA(n.left+Math.min(y,n.width-(C+_)),n.top+Math.min(v,n.height+b+k),Math.max(0,c-(B+S)),u-(x+E),Gs.BOTTOM_RIGHT):new BA(n.left+n.width-(B+S),n.top+n.height-(x+E)),this.bottomLeftContentBox=f>0||h>0?EA(n.left+C+_,n.top+w,Math.max(0,f-(C+_)),h-(x+E),Gs.BOTTOM_LEFT):new BA(n.left+C+_,n.top+n.height-(x+E))}return e}();!function(e){e[e.TOP_LEFT=0]=\"TOP_LEFT\",e[e.TOP_RIGHT=1]=\"TOP_RIGHT\",e[e.BOTTOM_RIGHT=2]=\"BOTTOM_RIGHT\",e[e.BOTTOM_LEFT=3]=\"BOTTOM_LEFT\"}(Gs||(Gs={}));var EA=function(e,t,n,r,i){var a=(Math.sqrt(2)-1)/3*4,o=n*a,s=r*a,A=e+n,l=t+r;switch(i){case Gs.TOP_LEFT:return new CA(new BA(e,l),new BA(e,l-s),new BA(A-o,t),new BA(A,t));case Gs.TOP_RIGHT:return new CA(new BA(e,t),new BA(e+o,t),new BA(A,l-s),new BA(A,l));case Gs.BOTTOM_RIGHT:return new CA(new BA(A,t),new BA(A,t+s),new BA(e+o,l),new BA(e,l));case Gs.BOTTOM_LEFT:default:return new CA(new BA(A,l),new BA(A-o,l),new BA(e,t+s),new BA(e,t))}},_A=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},FA=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},OA=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},PA=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),DA=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),QA=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),UA=function(e){return 0===e.type},IA=function(e){return 1===e.type},NA=function(e){return 2===e.type},MA=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},LA=function(e,t,n,r,i){return e.map(function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e})},jA=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),TA=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new SA(this.container),this.container.styles.opacity<1&&this.effects.push(new QA(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new PA(n,r,i))}if(0!==this.container.styles.overflowX){var a=_A(this.curves),o=OA(this.curves);MA(a,o)?this.effects.push(new DA(a,6)):(this.effects.push(new DA(a,2)),this.effects.push(new DA(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter(function(e){return!IA(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var a=_A(n.curves),o=OA(n.curves);MA(a,o)||r.unshift(new DA(o,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter(function(t){return ia(t.target,e)})},e}(),HA=function(e,t,n,r){e.container.elements.forEach(function(i){var a=ia(i.flags,4),o=ia(i.flags,2),s=new TA(i,e);ia(i.styles.display,2048)&&r.push(s);var A=ia(i.flags,8)?[]:r;if(a||o){var l=a||i.styles.isPositioned()?n:t,c=new jA(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;l.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),l.negativeZIndex.splice(d,0,c)}else if(u>0){var f=0;l.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(f=t+1,!1):f>0}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);HA(s,c,a?c:n,A)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),HA(s,t,n,A);ia(i.flags,8)&&RA(i,A)})},RA=function(e,t){for(var n=e instanceof Ko?e.start:1,r=e instanceof Ko&&e.reversed,i=0;i<t.length;i++){var a=t[i];a.container instanceof Ro&&\"number\"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=Ys(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},KA=function(e){var t=new TA(e,null),n=new jA(t),r=[];return HA(t,n,n,r),RA(t.container,r),n},zA=function(e,t){switch(t){case 0:return GA(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return GA(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return GA(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return GA(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},WA=function(e,t){switch(t){case 0:return GA(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return GA(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return GA(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return GA(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},YA=function(e,t){switch(t){case 0:return GA(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return GA(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return GA(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return GA(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},VA=function(e,t){switch(t){case 0:return qA(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return qA(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return qA(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return qA(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},qA=function(e,t){var n=[];return kA(e)?n.push(e.subdivide(.5,!1)):n.push(e),kA(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},GA=function(e,t,n,r){var i=[];return kA(e)?i.push(e.subdivide(.5,!1)):i.push(e),kA(n)?i.push(n.subdivide(.5,!0)):i.push(n),kA(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),kA(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},XA=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},JA=function(e){var t=e.styles,n=e.bounds,r=Vn(t.paddingLeft,n.width),i=Vn(t.paddingRight,n.width),a=Vn(t.paddingTop,n.width),o=Vn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},ZA=function(e,t){return 0===e?t.bounds:2===e?JA(t):XA(t)},$A=function(e,t){return 0===e?t.bounds:2===e?JA(t):XA(t)},el=function(e,t,n){var r=ZA(il(e.styles.backgroundOrigin,t),e),i=$A(il(e.styles.backgroundClip,t),e),a=rl(il(e.styles.backgroundSize,t),n,r),o=a[0],s=a[1],A=Yn(il(e.styles.backgroundPosition,t),r.width-o,r.height-s);return[al(il(e.styles.backgroundRepeat,t),A,a,r,i),Math.round(r.left+A[0]),Math.round(r.top+A[1]),o,s]},tl=function(e){return Qn(e)&&e.value===Nr.AUTO},nl=function(e){return\"number\"===typeof e},rl=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Hn(o)&&s&&Hn(s))return[Vn(o,n.width),Vn(s,n.height)];var A=nl(a);if(Qn(o)&&(o.value===Nr.CONTAIN||o.value===Nr.COVER))return nl(a)?n.width/n.height<a!==(o.value===Nr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var l=nl(r),c=nl(i),u=l||c;if(tl(o)&&(!s||tl(s)))return l&&c?[r,i]:A||u?u&&A?[l?r:i*a,c?i:r/a]:[l?r:n.width,c?i:n.height]:[n.width,n.height];if(A){var d=0,f=0;return Hn(o)?d=Vn(o,n.width):Hn(s)&&(f=Vn(s,n.height)),tl(o)?d=f*a:s&&!tl(s)||(f=d/a),[d,f]}var h=null,p=null;if(Hn(o)?h=Vn(o,n.width):s&&Hn(s)&&(p=Vn(s,n.height)),null===h||s&&!tl(s)||(p=l&&c?h/r*i:n.height),null!==p&&tl(o)&&(h=l&&c?p/i*r:n.width),null!==h&&null!==p)return[h,p];throw new Error(\"Unable to calculate background-size for element\")},il=function(e,t){var n=e[t];return\"undefined\"===typeof n?e[0]:n},al=function(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],A=n[1];switch(e){case 2:return[new BA(Math.round(r.left),Math.round(r.top+o)),new BA(Math.round(r.left+r.width),Math.round(r.top+o)),new BA(Math.round(r.left+r.width),Math.round(A+r.top+o)),new BA(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new BA(Math.round(r.left+a),Math.round(r.top)),new BA(Math.round(r.left+a+s),Math.round(r.top)),new BA(Math.round(r.left+a+s),Math.round(r.height+r.top)),new BA(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new BA(Math.round(r.left+a),Math.round(r.top+o)),new BA(Math.round(r.left+a+s),Math.round(r.top+o)),new BA(Math.round(r.left+a+s),Math.round(r.top+o+A)),new BA(Math.round(r.left+a),Math.round(r.top+o+A))];default:return[new BA(Math.round(i.left),Math.round(i.top)),new BA(Math.round(i.left+i.width),Math.round(i.top)),new BA(Math.round(i.left+i.width),Math.round(i.height+i.top)),new BA(Math.round(i.left),Math.round(i.height+i.top))]}},ol=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",sl=\"Hidden Text\",Al=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement(\"div\"),r=this._document.createElement(\"img\"),i=this._document.createElement(\"span\"),a=this._document.body;n.style.visibility=\"hidden\",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin=\"0\",n.style.padding=\"0\",n.style.whiteSpace=\"nowrap\",a.appendChild(n),r.src=ol,r.width=1,r.height=1,r.style.margin=\"0\",r.style.padding=\"0\",r.style.verticalAlign=\"baseline\",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin=\"0\",i.style.padding=\"0\",i.appendChild(this._document.createTextNode(sl)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(sl)),n.style.lineHeight=\"normal\",r.style.verticalAlign=\"super\";var s=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+\" \"+t;return\"undefined\"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),ll=function(){function e(e,t){this.context=e,this.options=t}return e}(),cl=1e4,ul=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement(\"canvas\"),r.ctx=r.canvas.getContext(\"2d\"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+\"px\",r.canvas.style.height=n.height+\"px\"),r.fontMetrics=new Al(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline=\"bottom\",r._activeEffects=[],r.context.logger.debug(\"Canvas renderer initialized (\"+n.width+\"x\"+n.height+\") with scale \"+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),NA(e)&&(this.ctx.globalAlpha=e.opacity),UA(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),IA(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return ia(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Oo(e.text).reduce(function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return\"normal\"===e||\"small-caps\"===e}).join(\"\"),n=gl(e.fontFamily).join(\", \"),r=Pn(e.fontSize)?\"\"+e.fontSize.number+e.fontSize.unit:e.fontSize.number+\"px\";return[[e.fontStyle,t,e.fontWeight,r,n].join(\" \"),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,a,o,s,A,l,c,u=this;return i(this,function(i){return n=this.createFontStyle(t),r=n[0],a=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?\"rtl\":\"ltr\",this.ctx.textAlign=\"left\",this.ctx.textBaseline=\"alphabetic\",s=this.fontMetrics.getMetrics(a,o),A=s.baseline,l=s.middle,c=t.paintOrder,e.textBounds.forEach(function(e){c.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=ir(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,A);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=ir(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,A)}),u.ctx.shadowColor=\"\",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+A),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=ir(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?\"miter\":\"round\",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+A)),u.ctx.strokeStyle=\"\",u.ctx.lineWidth=0,u.ctx.lineJoin=\"miter\"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=JA(e),i=OA(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,a,s,A,l,c,u,d,f,h,p,g,m,v,y,w,b;return i(this,function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,s=0,A=t.textNodes,i.label=1;case 1:return s<A.length?(l=A[s],[4,this.renderTextNode(l,a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof jo))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return i.sent(),this.context.logger.error(\"Error loading image \"+t.src),[3,8];case 8:if(t instanceof To&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Ho))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return i.sent(),this.context.logger.error(\"Error loading svg \"+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ts&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=i.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Zo&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===qo?t.checked&&(this.ctx.save(),this.path([new BA(t.bounds.left+.39363*u,t.bounds.top+.79*u),new BA(t.bounds.left+.16*u,t.bounds.top+.5549*u),new BA(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new BA(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new BA(t.bounds.left+.72983*u,t.bounds.top+.23*u),new BA(t.bounds.left+.84*u,t.bounds.top+.34085*u),new BA(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=ir(Jo),this.ctx.fill(),this.ctx.restore()):t.type===Go&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(Jo),this.ctx.fill(),this.ctx.restore())),dl(t)&&t.value.length){switch(d=this.createFontStyle(a),w=d[0],f=d[1],h=this.fontMetrics.getMetrics(w,f).baseline,this.ctx.font=w,this.ctx.fillStyle=ir(a.color),this.ctx.textBaseline=\"alphabetic\",this.ctx.textAlign=hl(t.styles.textAlign),b=JA(t),p=0,t.styles.textAlign){case 1:p+=b.width/2;break;case 2:p+=b.width}g=b.add(p,0,0,-b.height/2+1),this.ctx.save(),this.path([new BA(b.left,b.top),new BA(b.left+b.width,b.top),new BA(b.left+b.width,b.top+b.height),new BA(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new So(t.value,g),a.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline=\"alphabetic\",this.ctx.textAlign=\"left\"}if(!ia(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];v=void 0,y=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=i.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error(\"Error loading list-style-image \"+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=ir(a.color),this.ctx.textBaseline=\"middle\",this.ctx.textAlign=\"right\",b=new o(t.bounds.left,t.bounds.top+Vn(t.styles.paddingTop,t.bounds.width),t.bounds.width,bi(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new So(e.listValue,b),a.letterSpacing,bi(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline=\"bottom\",this.ctx.textAlign=\"left\"),i.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s,A,l,c,u,d,f,h,p,g;return i(this,function(i){switch(i.label){case 0:return ia(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,a=e.nonInlineLevel,i.label=7;case 7:return r<a.length?(g=a[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:o=0,s=e.nonPositionedFloats,i.label=11;case 11:return o<s.length?(g=s[o],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:A=0,l=e.nonPositionedInlineLevel,i.label=15;case 15:return A<l.length?(g=l[A],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return A++,[3,15];case 18:c=0,u=e.inlineLevel,i.label=19;case 19:return c<u.length?(g=u[c],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:d=0,f=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return d<f.length?(g=f[d],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return d++,[3,23];case 26:h=0,p=e.positiveZIndex,i.label=27;case 27:return h<p.length?(g=p[h],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=kA(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),kA(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement(\"canvas\");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext(\"2d\").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s;return i(this,function(A){switch(A.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,o,s,A,l,c,u,d,f,h,p,g,m,v,y,w,b,B,x,C,k,S,E,_,F,O,P,D,Q,U,I;return i(this,function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];a=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error(\"Error loading background-image \"+o),[3,4];case 4:return a&&(s=el(e,t,[a.width,a.height,a.width/a.height]),w=s[0],S=s[1],E=s[2],x=s[3],C=s[4],v=r.ctx.createPattern(r.resizeImage(a,x,C),\"repeat\"),r.renderRepeat(w,v,S,E)),[3,6];case 5:Dr(n)?(A=el(e,t,[null,null,null]),w=A[0],S=A[1],E=A[2],x=A[3],C=A[4],l=vr(n.angle,x,C),c=l[0],u=l[1],d=l[2],f=l[3],h=l[4],(p=document.createElement(\"canvas\")).width=x,p.height=C,g=p.getContext(\"2d\"),m=g.createLinearGradient(u,f,d,h),gr(n.stops,c).forEach(function(e){return m.addColorStop(e.stop,ir(e.color))}),g.fillStyle=m,g.fillRect(0,0,x,C),x>0&&C>0&&(v=r.ctx.createPattern(p,\"repeat\"),r.renderRepeat(w,v,S,E))):Qr(n)&&(y=el(e,t,[null,null,null]),w=y[0],b=y[1],B=y[2],x=y[3],C=y[4],k=0===n.position.length?[zn]:n.position,S=Vn(k[0],x),E=Vn(k[k.length-1],C),_=br(n,S,E,x,C),F=_[0],O=_[1],F>0&&O>0&&(P=r.ctx.createRadialGradient(b+S,B+E,0,b+S,B+E,F),gr(n.stops,2*F).forEach(function(e){return P.addColorStop(e.stop,ir(e.color))}),r.path(w),r.ctx.fillStyle=P,F!==O?(D=e.bounds.left+.5*e.bounds.width,Q=e.bounds.top+.5*e.bounds.height,I=1/(U=O/F),r.ctx.save(),r.ctx.translate(D,Q),r.ctx.transform(1,0,0,U,0,0),r.ctx.translate(-D,-Q),r.ctx.fillRect(b,I*(B-Q)+Q,x,C*I),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}})},r=this,a=0,o=e.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return a<o.length?(s=o[a],[5,n(s)]):[3,4];case 2:A.sent(),A.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return i(this,function(r){return this.path(zA(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return i.sent(),[2];case 2:return r=WA(a,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),o=YA(a,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s,A,l,c=this;return i(this,function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=fl(il(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var n=_A(e.curves),r=t.inset?0:cl,i=LA(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=ir(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?ir(t.color):\"rgba(0,0,0,1)\",c.ctx.fill(),c.ctx.restore()}),i.label=2;case 2:o=0,s=0,A=r,i.label=3;case 3:return s<A.length?0!==(l=A[s]).style&&!rr(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,o,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,a,o){return r(this,void 0,void 0,function(){var r,s,A,l,c,u,d,f,h,p,g,m,v,y,w,b;return i(this,function(i){return this.ctx.save(),r=VA(a,n),s=zA(a,n),2===o&&(this.path(s),this.ctx.clip()),kA(s[0])?(A=s[0].start.x,l=s[0].start.y):(A=s[0].x,l=s[0].y),kA(s[1])?(c=s[1].end.x,u=s[1].end.y):(c=s[1].x,u=s[1].y),d=0===n||2===n?Math.abs(A-c):Math.abs(l-u),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(s.slice(0,2)),f=t<3?3*t:2*t,h=t<3?2*t:t,3===o&&(f=t,h=t),p=!0,d<=2*f?p=!1:d<=2*f+h?(f*=g=d/(2*f+h),h*=g):(m=Math.floor((d+h)/(f+h)),v=(d-m*f)/(m-1),h=(y=(d-(m+1)*f)/m)<=0||Math.abs(h-v)<Math.abs(h-y)?v:y),p&&(3===o?this.ctx.setLineDash([0,f+h]):this.ctx.setLineDash([f,h])),3===o?(this.ctx.lineCap=\"round\",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(kA(s[0])&&(w=s[3],b=s[0],this.ctx.beginPath(),this.formatPath([new BA(w.end.x,w.end.y),new BA(b.start.x,b.start.y)]),this.ctx.stroke()),kA(s[1])&&(w=s[1],b=s[2],this.ctx.beginPath(),this.formatPath([new BA(w.end.x,w.end.y),new BA(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=KA(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(ll),dl=function(e){return e instanceof es||e instanceof $o||e instanceof Zo&&e.type!==Go&&e.type!==qo},fl=function(e,t){switch(e){case 0:return _A(t);case 2:return FA(t);default:return OA(t)}},hl=function(e){switch(e){case 1:return\"center\";case 2:return\"right\";default:return\"left\"}},pl=[\"-apple-system\",\"system-ui\"],gl=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===pl.indexOf(e)}):e},ml=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement(\"canvas\"),r.ctx=r.canvas.getContext(\"2d\"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+\"px\",r.canvas.style.height=n.height+\"px\",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug(\"EXPERIMENTAL ForeignObject renderer initialized (\"+n.width+\"x\"+n.height+\" at \"+n.x+\",\"+n.y+\") with scale \"+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=xo(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vl(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(ll),vl=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=\"data:image/svg+xml;charset=utf-8,\"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},yl=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(\"undefined\"!==typeof window&&window.console&&\"function\"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+\"ms\"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&\"undefined\"!==typeof window&&window.console&&\"function\"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+\"ms\"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(\"undefined\"!==typeof window&&window.console&&\"function\"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+\"ms\"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(\"undefined\"!==typeof window&&window.console&&\"function\"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+\"ms\"],e)):this.info.apply(this,e))},e.instances={},e}(),wl=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName=\"#\"+e.instanceCount++,this.logger=new yl({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new fA(this,t)}return e.instanceCount=1,e}(),bl=function(e,t){return void 0===t&&(t={}),Bl(e,t)};\"undefined\"!==typeof window&&dA.setContext(window);var Bl=function(e,t){return r(void 0,void 0,void 0,function(){var r,a,l,c,u,d,f,h,p,g,m,v,y,w,b,B,x,C,k,S,E,_,F,O,P,D,Q,U,I,N,M,L,j,T,H,R,K,z;return i(this,function(i){switch(i.label){case 0:if(!e||\"object\"!==typeof e)return[2,Promise.reject(\"Invalid element provided as first argument\")];if(!(r=e.ownerDocument))throw new Error(\"Element is not attached to a Document\");if(!(a=r.defaultView))throw new Error(\"Document is not attached to a Window\");return l={allowTaint:null!==(_=t.allowTaint)&&void 0!==_&&_,imageTimeout:null!==(F=t.imageTimeout)&&void 0!==F?F:15e3,proxy:t.proxy,useCORS:null!==(O=t.useCORS)&&void 0!==O&&O},c=n({logging:null===(P=t.logging)||void 0===P||P,cache:t.cache},l),u={windowWidth:null!==(D=t.windowWidth)&&void 0!==D?D:a.innerWidth,windowHeight:null!==(Q=t.windowHeight)&&void 0!==Q?Q:a.innerHeight,scrollX:null!==(U=t.scrollX)&&void 0!==U?U:a.pageXOffset,scrollY:null!==(I=t.scrollY)&&void 0!==I?I:a.pageYOffset},d=new o(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),f=new wl(c,d),h=null!==(N=t.foreignObjectRendering)&&void 0!==N&&N,p={allowTaint:null!==(M=t.allowTaint)&&void 0!==M&&M,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},f.logger.debug(\"Starting document clone with size \"+d.width+\"x\"+d.height+\" scrolled to \"+-d.left+\",\"+-d.top),g=new qs(f,e,p),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,d)]:[2,Promise.reject(\"Unable to find element in cloned iframe\")];case 1:return v=i.sent(),y=ms(m)||ps(m)?A(m.ownerDocument):s(f,m),w=y.width,b=y.height,B=y.left,x=y.top,C=xl(f,m,t.backgroundColor),k={canvas:t.canvas,backgroundColor:C,scale:null!==(j=null!==(L=t.scale)&&void 0!==L?L:a.devicePixelRatio)&&void 0!==j?j:1,x:(null!==(T=t.x)&&void 0!==T?T:0)+B,y:(null!==(H=t.y)&&void 0!==H?H:0)+x,width:null!==(R=t.width)&&void 0!==R?R:Math.ceil(w),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(b)},h?(f.logger.debug(\"Document cloned, using foreign object rendering\"),[4,new ml(f,k).render(m)]):[3,3];case 2:return S=i.sent(),[3,5];case 3:return f.logger.debug(\"Document cloned, element located at \"+B+\",\"+x+\" with size \"+w+\"x\"+b+\" using computed rendering\"),f.logger.debug(\"Starting DOM parsing\"),E=as(f,m),C===E.styles.backgroundColor&&(E.styles.backgroundColor=dr.TRANSPARENT),f.logger.debug(\"Starting renderer for element at \"+k.x+\",\"+k.y+\" with size \"+k.width+\"x\"+k.height),[4,new ul(f,k).render(E)];case 4:S=i.sent(),i.label=5;case 5:return(null===(z=t.removeContainer)||void 0===z||z)&&(qs.destroy(v)||f.logger.error(\"Cannot detach cloned iframe as it is not in the DOM anymore\")),f.logger.debug(\"Finished rendering\"),[2,S]}})})},xl=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,a=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,o=\"string\"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(a)?o:a:i:o};return bl}()},5354:(e,t,n)=>{\"use strict\";t.isToday=function(e){return(0,i.isSameDay)(e,(0,r.constructNow)(e))};var r=n(24716),i=n(19859)},5368:(e,t,n)=>{\"use strict\";t.differenceInCalendarWeeks=function(e,t,n){const o=(0,i.startOfWeek)(e,n),s=(0,i.startOfWeek)(t,n),A=+o-(0,a.getTimezoneOffsetInMilliseconds)(o),l=+s-(0,a.getTimezoneOffsetInMilliseconds)(s);return Math.round((A-l)/r.millisecondsInWeek)};var r=n(4702),i=n(85694),a=n(82757)},5381:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.ISOWeekParser=void 0;var i=n(53478),a=n(5813),o=n(66961),s=n(29481),A=n(26117);class l extends s.Parser{constructor(){super(...arguments),r(this,\"priority\",100),r(this,\"incompatibleTokens\",[\"y\",\"Y\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"w\",\"d\",\"D\",\"e\",\"c\",\"t\",\"T\"])}parse(e,t,n){switch(t){case\"I\":return(0,A.parseNumericPattern)(o.numericPatterns.week,e);case\"Io\":return n.ordinalNumber(e,{unit:\"week\"});default:return(0,A.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return(0,a.startOfISOWeek)((0,i.setISOWeek)(e,n))}}t.ISOWeekParser=l},5813:(e,t,n)=>{\"use strict\";t.startOfISOWeek=function(e){return(0,r.startOfWeek)(e,{weekStartsOn:1})};var r=n(85694)},6246:(e,t,n)=>{\"use strict\";t.endOfISOWeek=function(e){return(0,r.endOfWeek)(e,{weekStartsOn:1})};var r=n(62331)},6538:(e,t,n)=>{\"use strict\";e.exports=n(60759)},6678:(e,t,n)=>{\"use strict\";t.nextMonday=function(e){return(0,r.nextDay)(e,1)};var r=n(56994)},6907:(e,t)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const o=null!=i&&i.includes(\"leading\"),s=null==i||i.includes(\"trailing\"),A=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let l=null;const c=()=>{null!=l&&clearTimeout(l),l=setTimeout(()=>{l=null,s&&A(),u()},t)},u=()=>{null!==l&&(clearTimeout(l),l=null),n=void 0,a=null},d=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const s=null==l;c(),o&&s&&A()};return d.schedule=c,d.cancel=u,d.flush=()=>{A()},null===r||void 0===r||r.addEventListener(\"abort\",u,{once:!0}),d}},7035:(e,t,n)=>{\"use strict\";t.setQuarter=function(e,t){const n=(0,i.toDate)(e),a=Math.trunc(n.getMonth()/3)+1,o=t-a;return(0,r.setMonth)(n,n.getMonth()+3*o)};var r=n(34849),i=n(73094)},7659:function(e,t){var n,r,i;r=[],n=function e(){var t,n=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,a={},o=0,s={};function A(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(a=this._config.quoteChar||'\"',t=this._handle.guessLineEndings(e,a)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&b(this._config.beforeFirstChunk)&&void 0!==(a=this._config.beforeFirstChunk(e))&&(e=a),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var a=(this._partialLine=\"\",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=a.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),a&&a.data&&(this._rowCount+=a.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)n.postMessage({results:a,workerId:s.WORKER_ID,finished:r});else if(b(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!r||!b(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){b(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function l(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),A.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,t.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader(\"Content-Range\"))?parseInt(e.substring(e.lastIndexOf(\"/\")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function c(e){(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),A.call(this,e);var t,n,r=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,i)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;A.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,\"\"),this._finished=!t,this.parseChunk(n)}}function d(e){A.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){A.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){A.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=w(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=w(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=w(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function f(e){var t,n,r,i,a=Math.pow(2,53),o=-a,A=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,l=/^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/,c=this,u=0,d=0,f=!1,g=!1,m=[],v={data:[],errors:[],meta:{}};function w(t){return\"greedy\"===e.skipEmptyLines?\"\"===t.join(\"\").trim():1===t.length&&0===t[0].length}function B(){if(v&&r&&(C(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+s.DefaultDelimiter+\"'\"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter(function(e){return!w(e)})),x()){if(v)if(Array.isArray(v.data[0])){for(var t=0;x()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){b(e.transformHeader)&&(t=e.transformHeader(t,n)),m.push(t)}}function i(t,n){for(var r=e.header?{}:[],i=0;i<t.length;i++){var s=i,c=t[i];c=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?\"true\"===n||\"TRUE\"===n||\"false\"!==n&&\"FALSE\"!==n&&((e=>{if(A.test(e)&&(e=parseFloat(e),o<e&&e<a))return 1})(n)?parseFloat(n):l.test(n)?new Date(n):\"\"===n?null:n):n)(s=e.header?i>=m.length?\"__parsed_extra\":m[i]:s,c=e.transform?e.transform(c,s):c),\"__parsed_extra\"===s?(r[s]=r[s]||[],r[s].push(c)):r[s]=c}return e.header&&(i>m.length?C(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+m.length+\" fields but parsed \"+i,d+n):i<m.length&&C(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+m.length+\" fields but parsed \"+i,d+n)),r}var c;v&&(e.header||e.dynamicTyping||e.transform)&&(c=1,!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(i),c=v.data.length):v.data=i(v.data,0),e.header&&v.meta&&(v.meta.fields=m),d+=c)}function x(){return e.header&&0===m.length}function C(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),v.errors.push(e)}b(e.step)&&(i=e.step,e.step=function(t){v=t,x()?B():(B(),0!==v.data.length&&(u+=t.data.length,e.preview&&u>e.preview?n.abort():(v.data=v.data[0],i(v,c))))}),this.parse=function(i,a,o){var A=e.quoteChar||'\"';return e.newline||(e.newline=this.guessLineEndings(i,A)),r=!1,e.delimiter?b(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter):((A=((t,n,r,i,a)=>{var o,A,l,c;a=a||[\",\",\"\\t\",\"|\",\";\",s.RECORD_SEP,s.UNIT_SEP];for(var u=0;u<a.length;u++){for(var d,f=a[u],h=0,g=0,m=0,v=(l=void 0,new p({comments:i,delimiter:f,newline:n,preview:10}).parse(t)),y=0;y<v.data.length;y++)r&&w(v.data[y])?m++:(g+=d=v.data[y].length,void 0===l?l=d:0<d&&(h+=Math.abs(d-l),l=d));0<v.data.length&&(g/=v.data.length-m),(void 0===A||h<=A)&&(void 0===c||c<g)&&1.99<g&&(A=h,o=f,c=g)}return{successful:!!(e.delimiter=o),bestDelimiter:o}})(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=A.bestDelimiter:(r=!0,e.delimiter=s.DefaultDelimiter),v.meta.delimiter=e.delimiter),A=y(e),e.preview&&e.header&&A.preview++,t=i,n=new p(A),v=n.parse(t,a,o),B(),f?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=b(e.chunk)?\"\":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(f=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),v.meta.aborted=!0,b(e.complete)&&e.complete(v),t=\"\"},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(h(t)+\"([^]*?)\"+h(t),\"gm\");var n=(e=e.replace(t,\"\")).split(\"\\r\");if(e=1<(t=e.split(\"\\n\")).length&&t[0].length<n[0].length,1===n.length||e)return\"\\n\";for(var r=0,i=0;i<n.length;i++)\"\\n\"===n[i][0]&&r++;return r>=n.length/2?\"\\r\\n\":\"\\r\"}}function h(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function p(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,i=e.step,a=e.preview,o=e.fastMode,A=null,l=!1,c=null==e.quoteChar?'\"':e.quoteChar,u=c;if(void 0!==e.escapeChar&&(u=e.escapeChar),(\"string\"!=typeof t||-1<s.BAD_DELIMITERS.indexOf(t))&&(t=\",\"),r===t)throw new Error(\"Comment character same as delimiter\");!0===r?r=\"#\":(\"string\"!=typeof r||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=!1),\"\\n\"!==n&&\"\\r\"!==n&&\"\\r\\n\"!==n&&(n=\"\\n\");var d=0,f=!1;this.parse=function(s,p,g){if(\"string\"!=typeof s)throw new Error(\"Input must be a string\");var m=s.length,v=t.length,y=n.length,w=r.length,B=b(i),x=[],C=[],k=[],S=d=0;if(!s)return L();if(o||!1!==o&&-1===s.indexOf(c)){for(var E=s.split(n),_=0;_<E.length;_++){if(k=E[_],d+=k.length,_!==E.length-1)d+=n.length;else if(g)return L();if(!r||k.substring(0,w)!==r){if(B){if(x=[],U(k.split(t)),j(),f)return L()}else U(k.split(t));if(a&&a<=_)return x=x.slice(0,a),L(!0)}}return L()}for(var F=s.indexOf(t,d),O=s.indexOf(n,d),P=new RegExp(h(u)+h(c),\"g\"),D=s.indexOf(c,d);;)if(s[d]===c)for(D=d,d++;;){if(-1===(D=s.indexOf(c,D+1)))return g||C.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:x.length,index:d}),N();if(D===m-1)return N(s.substring(d,D).replace(P,c));if(c===u&&s[D+1]===u)D++;else if(c===u||0===D||s[D-1]!==u){-1!==F&&F<D+1&&(F=s.indexOf(t,D+1));var Q=I(-1===(O=-1!==O&&O<D+1?s.indexOf(n,D+1):O)?F:Math.min(F,O));if(s.substr(D+1+Q,v)===t){k.push(s.substring(d,D).replace(P,c)),s[d=D+1+Q+v]!==c&&(D=s.indexOf(c,d)),F=s.indexOf(t,d),O=s.indexOf(n,d);break}if(Q=I(O),s.substring(D+1+Q,D+1+Q+y)===n){if(k.push(s.substring(d,D).replace(P,c)),M(D+1+Q+y),F=s.indexOf(t,d),D=s.indexOf(c,d),B&&(j(),f))return L();if(a&&x.length>=a)return L(!0);break}C.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:x.length,index:d}),D++}}else if(r&&0===k.length&&s.substring(d,d+w)===r){if(-1===O)return L();d=O+y,O=s.indexOf(n,d),F=s.indexOf(t,d)}else if(-1!==F&&(F<O||-1===O))k.push(s.substring(d,F)),d=F+v,F=s.indexOf(t,d);else{if(-1===O)break;if(k.push(s.substring(d,O)),M(O+y),B&&(j(),f))return L();if(a&&x.length>=a)return L(!0)}return N();function U(e){x.push(e),S=d}function I(e){var t=0;return-1!==e&&(e=s.substring(D+1,e))&&\"\"===e.trim()?e.length:t}function N(e){return g||(void 0===e&&(e=s.substring(d)),k.push(e),d=m,U(k),B&&j()),L()}function M(e){d=e,U(k),k=[],O=s.indexOf(n,d)}function L(r){if(e.header&&!p&&x.length&&!l){var i=x[0],a=Object.create(null),o=new Set(i);let t=!1;for(let n=0;n<i.length;n++){let r=i[n];if(a[r=b(e.transformHeader)?e.transformHeader(r,n):r]){let e,s=a[r];for(;e=r+\"_\"+s,s++,o.has(e););o.add(e),i[n]=e,a[r]++,t=!0,(A=null===A?{}:A)[e]=r}else a[r]=1,i[n]=r;o.add(r)}t&&console.warn(\"Duplicate headers found and renamed.\"),l=!0}return{data:x,errors:C,meta:{delimiter:t,linebreak:n,aborted:f,truncated:!!r,cursor:S+(p||0),renamedHeaders:A}}}function j(){i(L()),x=[],C=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return d}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(b(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},i),!r);o++);delete t.results}else b(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var n=a[e];b(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function v(){throw new Error(\"Not implemented.\")}function y(e){if(\"object\"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=y(e[t]);return n}function w(e,t){return function(){e.apply(t,arguments)}}function b(e){return\"function\"==typeof e}return s.parse=function(t,r){var i=(r=r||{}).dynamicTyping||!1;if(b(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!b(r.transform)&&r.transform,!r.worker||!s.WORKERS_SUPPORTED)return i=null,s.NODE_STREAM_INPUT,\"string\"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),i=new(r.download?l:u)(r)):!0===t.readable&&b(t.read)&&b(t.on)?i=new d(r):(n.File&&t instanceof File||t instanceof Object)&&(i=new c(r)),i.stream(t);(i=(()=>{var t;return!!s.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,r=e.toString();return s.BLOB_URL||(s.BLOB_URL=t.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \",\"(\",r,\")();\"],{type:\"text/javascript\"})))})(),(t=new n.Worker(t)).onmessage=g,t.id=o++,a[t.id]=t)})()).userStep=r.step,i.userChunk=r.chunk,i.userComplete=r.complete,i.userError=r.error,r.step=b(r.step),r.chunk=b(r.chunk),r.complete=b(r.complete),r.error=b(r.error),delete r.worker,i.postMessage({input:t,config:r,workerId:i.id})},s.unparse=function(e,t){var n=!1,r=!0,i=\",\",a=\"\\r\\n\",o='\"',A=o+o,l=!1,c=null,u=!1,d=((()=>{if(\"object\"==typeof t){if(\"string\"!=typeof t.delimiter||s.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),\"boolean\"!=typeof t.quotes&&\"function\"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(l=t.skipEmptyLines),\"string\"==typeof t.newline&&(a=t.newline),\"string\"==typeof t.quoteChar&&(o=t.quoteChar),\"boolean\"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");c=t.columns}void 0!==t.escapeChar&&(A=t.escapeChar+o),t.escapeFormulae instanceof RegExp?u=t.escapeFormulae:\"boolean\"==typeof t.escapeFormulae&&t.escapeFormulae&&(u=/^[=+\\-@\\t\\r].*$/)}})(),new RegExp(h(o),\"g\"));if(\"string\"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,l);if(\"object\"==typeof e[0])return f(c||Object.keys(e[0]),e,l)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],l);throw new Error(\"Unable to serialize unrecognized input\");function f(e,t,n){var o=\"\",s=(\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),A=!Array.isArray(t[0]);if(s&&r){for(var l=0;l<e.length;l++)0<l&&(o+=i),o+=p(e[l],l);0<t.length&&(o+=a)}for(var c=0;c<t.length;c++){var u=(s?e:t[c]).length,d=!1,f=s?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!s&&(d=\"greedy\"===n?\"\"===t[c].join(\"\").trim():1===t[c].length&&0===t[c][0].length),\"greedy\"===n&&s){for(var h=[],g=0;g<u;g++){var m=A?e[g]:g;h.push(t[c][m])}d=\"\"===h.join(\"\").trim()}if(!d){for(var v=0;v<u;v++){0<v&&!f&&(o+=i);var y=s&&A?e[v]:v;o+=p(t[c][y],v)}c<t.length-1&&(!n||0<u&&!f)&&(o+=a)}}return o}function p(e,t){var r,a;return null==e?\"\":e.constructor===Date?JSON.stringify(e).slice(1,25):(a=!1,u&&\"string\"==typeof e&&u.test(e)&&(e=\"'\"+e,a=!0),r=e.toString().replace(d,A),(a=a||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,s.BAD_DELIMITERS)||-1<r.indexOf(i)||\" \"===r.charAt(0)||\" \"===r.charAt(r.length-1))?o+r+o:r)}},s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK=\"\\ufeff\",s.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!r&&!!n.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=\",\",s.Parser=p,s.ParserHandle=f,s.NetworkStreamer=l,s.FileStreamer=c,s.StringStreamer=u,s.ReadableStreamStreamer=d,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},i=[];return this.each(function(e){if(\"INPUT\"!==t(this).prop(\"tagName\").toUpperCase()||\"file\"!==t(this).attr(\"type\").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)i.push({file:this.files[a],inputElem:this,instanceConfig:t.extend({},r)})}),a(),this;function a(){if(0===i.length)b(e.complete)&&e.complete();else{var n,r,a,A,l=i[0];if(b(e.before)){var c=e.before(l.file,l.inputElem);if(\"object\"==typeof c){if(\"abort\"===c.action)return n=\"AbortError\",r=l.file,a=l.inputElem,A=c.reason,void(b(e.error)&&e.error({name:n},r,a,A));if(\"skip\"===c.action)return void o();\"object\"==typeof c.config&&(l.instanceConfig=t.extend(l.instanceConfig,c.config))}else if(\"skip\"===c)return void o()}var u=l.instanceConfig.complete;l.instanceConfig.complete=function(e){b(u)&&u(e,l.file,l.inputElem),o()},s.parse(l.file,l.instanceConfig)}}function o(){i.splice(0,1),a()}}),i&&(n.onmessage=function(e){e=e.data,void 0===s.WORKER_ID&&e&&(s.WORKER_ID=e.workerId),\"string\"==typeof e.input?n.postMessage({workerId:s.WORKER_ID,results:s.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=s.parse(e.input,e.config))&&n.postMessage({workerId:s.WORKER_ID,results:e,finished:!0})}),(l.prototype=Object.create(A.prototype)).constructor=l,(c.prototype=Object.create(A.prototype)).constructor=c,(u.prototype=Object.create(u.prototype)).constructor=u,(d.prototype=Object.create(A.prototype)).constructor=d,s},void 0===(i=\"function\"===typeof n?n.apply(t,r):n)||(e.exports=i)},8249:(e,t,n)=>{\"use strict\";t.eachWeekendOfInterval=function(e){const t=(0,r.eachDayOfInterval)(e),n=[];let a=0;for(;a<t.length;){const e=t[a++];(0,i.isWeekend)(e)&&n.push(e)}return n};var r=n(26094),i=n(64658)},8619:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.FractionOfSecondParser=void 0;var i=n(29481),a=n(26117);class o extends i.Parser{constructor(){super(...arguments),r(this,\"priority\",30),r(this,\"incompatibleTokens\",[\"t\",\"T\"])}parse(e,t){return(0,a.mapValue)((0,a.parseNDigits)(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}}t.FractionOfSecondParser=o},8758:(e,t,n)=>{\"use strict\";t.getMinutes=function(e){const t=(0,r.toDate)(e);return t.getMinutes()};var r=n(73094)},8925:(e,t,n)=>{\"use strict\";t.isSameISOWeekYear=function(e,t){const n=(0,r.startOfISOWeekYear)(e),i=(0,r.startOfISOWeekYear)(t);return+n===+i};var r=n(58356)},9223:(e,t)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),t.getTag=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(e)}},9950:(e,t,n)=>{\"use strict\";e.exports=n(51983)},9956:(e,t,n)=>{\"use strict\";t.previousThursday=function(e){return(0,r.previousDay)(e,4)};var r=n(22326)},10440:(e,t,n)=>{\"use strict\";t.getOverlappingDaysInIntervals=function(e,t){const[n,o]=[+(0,a.toDate)(e.start),+(0,a.toDate)(e.end)].sort((e,t)=>e-t),[s,A]=[+(0,a.toDate)(t.start),+(0,a.toDate)(t.end)].sort((e,t)=>e-t);if(!(n<A&&s<o))return 0;const l=s<n?n:s,c=l-(0,r.getTimezoneOffsetInMilliseconds)(l),u=A>o?o:A,d=u-(0,r.getTimezoneOffsetInMilliseconds)(u);return Math.ceil((d-c)/i.millisecondsInDay)};var r=n(82757),i=n(4702),a=n(73094)},10781:(e,t,n)=>{\"use strict\";t.getDaysInMonth=function(e){const t=(0,r.toDate)(e),n=t.getFullYear(),a=t.getMonth(),o=(0,i.constructFrom)(e,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()};var r=n(73094),i=n(19078)},10812:(e,t,n)=>{\"use strict\";t.differenceInCalendarQuarters=function(e,t){const n=(0,i.toDate)(e),a=(0,i.toDate)(t),o=n.getFullYear()-a.getFullYear(),s=(0,r.getQuarter)(n)-(0,r.getQuarter)(a);return 4*o+s};var r=n(21063),i=n(73094)},10996:(e,t,n)=>{\"use strict\";t.hoursToMinutes=function(e){return Math.trunc(e*r.minutesInHour)};var r=n(4702)},11220:(e,t,n)=>{\"use strict\";t.isFriday=function(e){return 5===(0,r.toDate)(e).getDay()};var r=n(73094)},11603:(e,t,n)=>{\"use strict\";t.endOfSecond=function(e){const t=(0,r.toDate)(e);return t.setMilliseconds(999),t};var r=n(73094)},11647:(e,t,n)=>{\"use strict\";t.intervalToDuration=function(e){const t=(0,c.toDate)(e.start),n=(0,c.toDate)(e.end),u={},d=(0,l.differenceInYears)(n,t);d&&(u.years=d);const f=(0,r.add)(t,{years:u.years}),h=(0,s.differenceInMonths)(n,f);h&&(u.months=h);const p=(0,r.add)(f,{months:u.months}),g=(0,i.differenceInDays)(n,p);g&&(u.days=g);const m=(0,r.add)(p,{days:u.days}),v=(0,a.differenceInHours)(n,m);v&&(u.hours=v);const y=(0,r.add)(m,{hours:u.hours}),w=(0,o.differenceInMinutes)(n,y);w&&(u.minutes=w);const b=(0,r.add)(y,{minutes:u.minutes}),B=(0,A.differenceInSeconds)(n,b);B&&(u.seconds=B);return u};var r=n(63816),i=n(88992),a=n(94092),o=n(17106),s=n(22668),A=n(23454),l=n(57313),c=n(73094)},12897:(e,t,n)=>{var r=n(43693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},13405:(e,t,n)=>{\"use strict\";t.endOfDay=function(e){const t=(0,r.toDate)(e);return t.setHours(23,59,59,999),t};var r=n(73094)},13525:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.TimestampSecondsParser=void 0;var i=n(19078),a=n(29481),o=n(26117);class s extends a.Parser{constructor(){super(...arguments),r(this,\"priority\",40),r(this,\"incompatibleTokens\",\"*\")}parse(e){return(0,o.parseAnyDigitsSigned)(e)}set(e,t,n){return[(0,i.constructFrom)(e,1e3*n),{timestampIsSet:!0}]}}t.TimestampSecondsParser=s},13787:(e,t,n)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"});const r=n(57740),i=n(58316);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},14195:(e,t)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),t.isUnsafeProperty=function(e){return\"__proto__\"===e}},14719:(e,t,n)=>{\"use strict\";t.intlFormat=function(e,t,n){var i;let a;o=t,void 0===o||\"locale\"in o?n=t:a=t;var o;return new Intl.DateTimeFormat(null===(i=n)||void 0===i?void 0:i.locale,a).format((0,r.toDate)(e))};var r=n(73094)},14807:(e,t,n)=>{\"use strict\";t.getISOWeekYear=function(e){const t=(0,a.toDate)(e),n=t.getFullYear(),o=(0,r.constructFrom)(e,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const s=(0,i.startOfISOWeek)(o),A=(0,r.constructFrom)(e,0);A.setFullYear(n,0,4),A.setHours(0,0,0,0);const l=(0,i.startOfISOWeek)(A);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1};var r=n(19078),i=n(5813),a=n(73094)},15083:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.LocalWeekParser=void 0;var i=n(91355),a=n(85694),o=n(66961),s=n(29481),A=n(26117);class l extends s.Parser{constructor(){super(...arguments),r(this,\"priority\",100),r(this,\"incompatibleTokens\",[\"y\",\"R\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"i\",\"t\",\"T\"])}parse(e,t,n){switch(t){case\"w\":return(0,A.parseNumericPattern)(o.numericPatterns.week,e);case\"wo\":return n.ordinalNumber(e,{unit:\"week\"});default:return(0,A.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return(0,a.startOfWeek)((0,i.setWeek)(e,n,r),r)}}t.LocalWeekParser=l},15685:(e,t,n)=>{\"use strict\";t.quartersToYears=function(e){const t=e/r.quartersInYear;return Math.trunc(t)};var r=n(4702)},16117:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.AMPMMidnightParser=void 0;var i=n(29481),a=n(26117);class o extends i.Parser{constructor(){super(...arguments),r(this,\"priority\",80),r(this,\"incompatibleTokens\",[\"a\",\"B\",\"H\",\"k\",\"t\",\"T\"])}parse(e,t,n){switch(t){case\"b\":case\"bb\":case\"bbb\":return n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"bbbbb\":return n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});default:return n.dayPeriod(e,{width:\"wide\",context:\"formatting\"})||n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"})}}set(e,t,n){return e.setHours((0,a.dayPeriodEnumToHours)(n),0,0,0),e}}t.AMPMMidnightParser=o},16744:(e,t,n)=>{\"use strict\";t.subQuarters=function(e,t){return(0,r.addQuarters)(e,-t)};var r=n(20481)},16873:(e,t,n)=>{\"use strict\";t.setMilliseconds=function(e,t){const n=(0,r.toDate)(e);return n.setMilliseconds(t),n};var r=n(73094)},16936:(e,t,n)=>{\"use strict\";t.areIntervalsOverlapping=function(e,t,n){const[i,a]=[+(0,r.toDate)(e.start),+(0,r.toDate)(e.end)].sort((e,t)=>e-t),[o,s]=[+(0,r.toDate)(t.start),+(0,r.toDate)(t.end)].sort((e,t)=>e-t);return null!==n&&void 0!==n&&n.inclusive?i<=s&&o<=a:i<s&&o<a};var r=n(73094)},17106:(e,t,n)=>{\"use strict\";t.differenceInMinutes=function(e,t,n){const o=(0,a.differenceInMilliseconds)(e,t)/i.millisecondsInMinute;return(0,r.getRoundingMethod)(null===n||void 0===n?void 0:n.roundingMethod)(o)};var r=n(29577),i=n(4702),a=n(36593)},17119:(e,t,n)=>{\"use strict\";!function e(){if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&\"function\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(81863)},17533:(e,t,n)=>{\"use strict\";t.sub=function(e,t){const{years:n=0,months:o=0,weeks:s=0,days:A=0,hours:l=0,minutes:c=0,seconds:u=0}=t,d=(0,i.subMonths)(e,o+12*n),f=(0,r.subDays)(d,A+7*s),h=1e3*(u+60*(c+60*l));return(0,a.constructFrom)(e,f.getTime()-h)};var r=n(72242),i=n(51486),a=n(19078)},18225:(e,t,n)=>{\"use strict\";t.localize=void 0;var r=n(65152);t.localize={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+\"st\";case 2:return n+\"nd\";case 3:return n+\"rd\"}return n+\"th\"},era:(0,r.buildLocalizeFn)({values:{narrow:[\"B\",\"A\"],abbreviated:[\"BC\",\"AD\"],wide:[\"Before Christ\",\"Anno Domini\"]},defaultWidth:\"wide\"}),quarter:(0,r.buildLocalizeFn)({values:{narrow:[\"1\",\"2\",\"3\",\"4\"],abbreviated:[\"Q1\",\"Q2\",\"Q3\",\"Q4\"],wide:[\"1st quarter\",\"2nd quarter\",\"3rd quarter\",\"4th quarter\"]},defaultWidth:\"wide\",argumentCallback:e=>e-1}),month:(0,r.buildLocalizeFn)({values:{narrow:[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],abbreviated:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],wide:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]},defaultWidth:\"wide\"}),day:(0,r.buildLocalizeFn)({values:{narrow:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],short:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],abbreviated:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],wide:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},defaultWidth:\"wide\"}),dayPeriod:(0,r.buildLocalizeFn)({values:{narrow:{am:\"a\",pm:\"p\",midnight:\"mi\",noon:\"n\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},abbreviated:{am:\"AM\",pm:\"PM\",midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},wide:{am:\"a.m.\",pm:\"p.m.\",midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"}},defaultWidth:\"wide\",formattingValues:{narrow:{am:\"a\",pm:\"p\",midnight:\"mi\",noon:\"n\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"},abbreviated:{am:\"AM\",pm:\"PM\",midnight:\"midnight\",noon:\"noon\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"},wide:{am:\"a.m.\",pm:\"p.m.\",midnight:\"midnight\",noon:\"noon\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"}},defaultFormattingWidth:\"wide\"})}},18512:(e,t,n)=>{\"use strict\";t.quartersToMonths=function(e){return Math.trunc(e*r.monthsInQuarter)};var r=n(4702)},18982:(e,t,n)=>{\"use strict\";t.differenceInCalendarDays=function(e,t){const n=(0,i.startOfDay)(e),o=(0,i.startOfDay)(t),s=+n-(0,a.getTimezoneOffsetInMilliseconds)(n),A=+o-(0,a.getTimezoneOffsetInMilliseconds)(o);return Math.round((s-A)/r.millisecondsInDay)};var r=n(4702),i=n(64086),a=n(82757)},19078:(e,t)=>{\"use strict\";t.constructFrom=function(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}},19115:(e,t)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},19814:(e,t,n)=>{\"use strict\";t.isThisYear=function(e){return(0,i.isSameYear)(e,(0,r.constructNow)(e))};var r=n(24716),i=n(27776)},19859:(e,t,n)=>{\"use strict\";t.isSameDay=function(e,t){const n=(0,r.startOfDay)(e),i=(0,r.startOfDay)(t);return+n===+i};var r=n(64086)},20026:(e,t,n)=>{\"use strict\";t.getWeekYear=function(e,t){var n,s,A,l,c,u;const d=(0,a.toDate)(e),f=d.getFullYear(),h=(0,o.getDefaultOptions)(),p=null!==(n=null!==(s=null!==(A=null!==(l=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==l?l:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==A?A:h.firstWeekContainsDate)&&void 0!==s?s:null===(u=h.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1,g=(0,r.constructFrom)(e,0);g.setFullYear(f+1,0,p),g.setHours(0,0,0,0);const m=(0,i.startOfWeek)(g,t),v=(0,r.constructFrom)(e,0);v.setFullYear(f,0,p),v.setHours(0,0,0,0);const y=(0,i.startOfWeek)(v,t);return d.getTime()>=m.getTime()?f+1:d.getTime()>=y.getTime()?f:f-1};var r=n(19078),i=n(85694),a=n(73094),o=n(71531)},20171:(e,t,n)=>{\"use strict\";t.formatDistance=function(e,t,n){var u,d;const f=(0,l.getDefaultOptions)(),h=null!==(u=null!==(d=null===n||void 0===n?void 0:n.locale)&&void 0!==d?d:f.locale)&&void 0!==u?u:A.defaultLocale,p=(0,r.compareAsc)(e,t);if(isNaN(p))throw new RangeError(\"Invalid time value\");const g=Object.assign({},n,{addSuffix:null===n||void 0===n?void 0:n.addSuffix,comparison:p});let m,v;p>0?(m=(0,s.toDate)(t),v=(0,s.toDate)(e)):(m=(0,s.toDate)(e),v=(0,s.toDate)(t));const y=(0,o.differenceInSeconds)(v,m),w=((0,c.getTimezoneOffsetInMilliseconds)(v)-(0,c.getTimezoneOffsetInMilliseconds)(m))/1e3,b=Math.round((y-w)/60);let B;if(b<2)return null!==n&&void 0!==n&&n.includeSeconds?y<5?h.formatDistance(\"lessThanXSeconds\",5,g):y<10?h.formatDistance(\"lessThanXSeconds\",10,g):y<20?h.formatDistance(\"lessThanXSeconds\",20,g):y<40?h.formatDistance(\"halfAMinute\",0,g):y<60?h.formatDistance(\"lessThanXMinutes\",1,g):h.formatDistance(\"xMinutes\",1,g):0===b?h.formatDistance(\"lessThanXMinutes\",1,g):h.formatDistance(\"xMinutes\",b,g);if(b<45)return h.formatDistance(\"xMinutes\",b,g);if(b<90)return h.formatDistance(\"aboutXHours\",1,g);if(b<i.minutesInDay){const e=Math.round(b/60);return h.formatDistance(\"aboutXHours\",e,g)}if(b<2520)return h.formatDistance(\"xDays\",1,g);if(b<i.minutesInMonth){const e=Math.round(b/i.minutesInDay);return h.formatDistance(\"xDays\",e,g)}if(b<2*i.minutesInMonth)return B=Math.round(b/i.minutesInMonth),h.formatDistance(\"aboutXMonths\",B,g);if(B=(0,a.differenceInMonths)(v,m),B<12){const e=Math.round(b/i.minutesInMonth);return h.formatDistance(\"xMonths\",e,g)}{const e=B%12,t=Math.trunc(B/12);return e<3?h.formatDistance(\"aboutXYears\",t,g):e<9?h.formatDistance(\"overXYears\",t,g):h.formatDistance(\"almostXYears\",t+1,g)}};var r=n(39383),i=n(4702),a=n(22668),o=n(23454),s=n(73094),A=n(3451),l=n(71531),c=n(82757)},20481:(e,t,n)=>{\"use strict\";t.addQuarters=function(e,t){const n=3*t;return(0,r.addMonths)(e,n)};var r=n(27811)},21063:(e,t,n)=>{\"use strict\";t.getQuarter=function(e){const t=(0,r.toDate)(e);return Math.trunc(t.getMonth()/3)+1};var r=n(73094)},21478:(e,t,n)=>{\"use strict\";t.differenceInQuarters=function(e,t,n){const a=(0,i.differenceInMonths)(e,t)/3;return(0,r.getRoundingMethod)(null===n||void 0===n?void 0:n.roundingMethod)(a)};var r=n(29577),i=n(22668)},22326:(e,t,n)=>{\"use strict\";t.previousDay=function(e,t){let n=(0,r.getDay)(e)-t;n<=0&&(n+=7);return(0,i.subDays)(e,n)};var r=n(35833),i=n(72242)},22668:(e,t,n)=>{\"use strict\";t.differenceInMonths=function(e,t){const n=(0,o.toDate)(e),s=(0,o.toDate)(t),A=(0,r.compareAsc)(n,s),l=Math.abs((0,i.differenceInCalendarMonths)(n,s));let c;if(l<1)c=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-A*l);let t=(0,r.compareAsc)(n,s)===-A;(0,a.isLastDayOfMonth)((0,o.toDate)(e))&&1===l&&1===(0,r.compareAsc)(e,s)&&(t=!1),c=A*(l-Number(t))}return 0===c?0:c};var r=n(39383),i=n(78890),a=n(67620),o=n(73094)},22818:(e,t,n)=>{\"use strict\";t.startOfMinute=function(e){const t=(0,r.toDate)(e);return t.setSeconds(0,0),t};var r=n(73094)},23008:(e,t,n)=>{\"use strict\";t.lastDayOfWeek=function(e,t){var n,a,o,s,A,l;const c=(0,i.getDefaultOptions)(),u=null!==(n=null!==(a=null!==(o=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(A=t.locale)||void 0===A||null===(A=A.options)||void 0===A?void 0:A.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==a?a:null===(l=c.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==n?n:0,d=(0,r.toDate)(e),f=d.getDay(),h=6+(f<u?-7:0)-(f-u);return d.setHours(0,0,0,0),d.setDate(d.getDate()+h),d};var r=n(73094),i=n(71531)},23098:(e,t,n)=>{\"use strict\";t.setMinutes=function(e,t){const n=(0,r.toDate)(e);return n.setMinutes(t),n};var r=n(73094)},23454:(e,t,n)=>{\"use strict\";t.differenceInSeconds=function(e,t,n){const a=(0,i.differenceInMilliseconds)(e,t)/1e3;return(0,r.getRoundingMethod)(null===n||void 0===n?void 0:n.roundingMethod)(a)};var r=n(29577),i=n(36593)},24092:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.ExtendedYearParser=void 0;var i=n(29481),a=n(26117);class o extends i.Parser{constructor(){super(...arguments),r(this,\"priority\",130),r(this,\"incompatibleTokens\",[\"G\",\"y\",\"Y\",\"R\",\"w\",\"I\",\"i\",\"e\",\"c\",\"t\",\"T\"])}parse(e,t){return\"u\"===t?(0,a.parseNDigitsSigned)(4,e):(0,a.parseNDigitsSigned)(t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}}t.ExtendedYearParser=o},24716:(e,t,n)=>{\"use strict\";t.constructNow=function(e){return(0,r.constructFrom)(e,Date.now())};var r=n(19078)},24864:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.ISOWeekYearParser=void 0;var i=n(5813),a=n(19078),o=n(29481),s=n(26117);class A extends o.Parser{constructor(){super(...arguments),r(this,\"priority\",130),r(this,\"incompatibleTokens\",[\"G\",\"y\",\"Y\",\"u\",\"Q\",\"q\",\"M\",\"L\",\"w\",\"d\",\"D\",\"e\",\"c\",\"t\",\"T\"])}parse(e,t){return\"R\"===t?(0,s.parseNDigitsSigned)(4,e):(0,s.parseNDigitsSigned)(t.length,e)}set(e,t,n){const r=(0,a.constructFrom)(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),(0,i.startOfISOWeek)(r)}}t.ISOWeekYearParser=A},24873:(e,t,n)=>{\"use strict\";t.yearsToQuarters=function(e){return Math.trunc(e*r.quartersInYear)};var r=n(4702)},25035:(e,t,n)=>{\"use strict\";t.yearsToDays=function(e){return Math.trunc(e*r.daysInYear)};var r=n(4702)},25230:(e,t,n)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"});const r=n(9223);t.isArguments=function(e){return null!==e&&\"object\"===typeof e&&\"[object Arguments]\"===r.getTag(e)}},25336:(e,t,n)=>{\"use strict\";t.eachQuarterOfInterval=function(e,t){var n;const o=(0,a.toDate)(e.start),s=(0,a.toDate)(e.end);let A=+o>+s;const l=A?+(0,i.startOfQuarter)(o):+(0,i.startOfQuarter)(s);let c=A?(0,i.startOfQuarter)(s):(0,i.startOfQuarter)(o),u=null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1;if(!u)return[];u<0&&(u=-u,A=!A);const d=[];for(;+c<=l;)d.push((0,a.toDate)(c)),c=(0,r.addQuarters)(c,u);return A?d.reverse():d};var r=n(20481),i=n(33404),a=n(73094)},25469:(e,t,n)=>{\"use strict\";t.setDay=function(e,t,n){var o,s,A,l,c,u;const d=(0,a.getDefaultOptions)(),f=null!==(o=null!==(s=null!==(A=null!==(l=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==A?A:d.weekStartsOn)&&void 0!==s?s:null===(u=d.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:0,h=(0,i.toDate)(e),p=h.getDay(),g=(t%7+7)%7,m=7-f,v=t<0||t>6?t-(p+m)%7:(g+m)%7-(p+m)%7;return(0,r.addDays)(h,v)};var r=n(65811),i=n(73094),a=n(71531)},26094:(e,t,n)=>{\"use strict\";t.eachDayOfInterval=function(e,t){var n;const i=(0,r.toDate)(e.start),a=(0,r.toDate)(e.end);let o=+i>+a;const s=o?+i:+a,A=o?a:i;A.setHours(0,0,0,0);let l=null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1;if(!l)return[];l<0&&(l=-l,o=!o);const c=[];for(;+A<=s;)c.push((0,r.toDate)(A)),A.setDate(A.getDate()+l),A.setHours(0,0,0,0);return o?c.reverse():c};var r=n(73094)},26117:(e,t,n)=>{\"use strict\";t.dayPeriodEnumToHours=function(e){switch(e){case\"morning\":return 4;case\"evening\":return 17;case\"pm\":case\"noon\":case\"afternoon\":return 12;default:return 0}},t.isLeapYearIndex=function(e){return e%400===0||e%4===0&&e%100!==0},t.mapValue=function(e,t){if(!e)return e;return{value:t(e.value),rest:e.rest}},t.normalizeTwoDigitYear=function(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i},t.parseAnyDigitsSigned=function(e){return a(i.numericPatterns.anyDigitsSigned,e)},t.parseNDigits=function(e,t){switch(e){case 1:return a(i.numericPatterns.singleDigit,t);case 2:return a(i.numericPatterns.twoDigits,t);case 3:return a(i.numericPatterns.threeDigits,t);case 4:return a(i.numericPatterns.fourDigits,t);default:return a(new RegExp(\"^\\\\d{1,\"+e+\"}\"),t)}},t.parseNDigitsSigned=function(e,t){switch(e){case 1:return a(i.numericPatterns.singleDigitSigned,t);case 2:return a(i.numericPatterns.twoDigitsSigned,t);case 3:return a(i.numericPatterns.threeDigitsSigned,t);case 4:return a(i.numericPatterns.fourDigitsSigned,t);default:return a(new RegExp(\"^-?\\\\d{1,\"+e+\"}\"),t)}},t.parseNumericPattern=a,t.parseTimezonePattern=function(e,t){const n=t.match(e);if(!n)return null;if(\"Z\"===n[0])return{value:0,rest:t.slice(1)};const i=\"+\"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:i*(a*r.millisecondsInHour+o*r.millisecondsInMinute+s*r.millisecondsInSecond),rest:t.slice(n[0].length)}};var r=n(4702),i=n(66961);function a(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}},26267:(e,t,n)=>{\"use strict\";t.differenceInCalendarISOWeeks=function(e,t){const n=(0,i.startOfISOWeek)(e),o=(0,i.startOfISOWeek)(t),s=+n-(0,a.getTimezoneOffsetInMilliseconds)(n),A=+o-(0,a.getTimezoneOffsetInMilliseconds)(o);return Math.round((s-A)/r.millisecondsInWeek)};var r=n(4702),i=n(5813),a=n(82757)},26429:(e,t,n)=>{\"use strict\";e.exports=n(68577)},26650:(e,t,n)=>{\"use strict\";t.setYear=function(e,t){const n=(0,i.toDate)(e);if(isNaN(+n))return(0,r.constructFrom)(e,NaN);return n.setFullYear(t),n};var r=n(19078),i=n(73094)},26740:(e,t,n)=>{\"use strict\";t.hoursToSeconds=function(e){return Math.trunc(e*r.secondsInHour)};var r=n(4702)},27382:(e,t,n)=>{\"use strict\";t.eachMonthOfInterval=function(e,t){var n;const i=(0,r.toDate)(e.start),a=(0,r.toDate)(e.end);let o=+i>+a;const s=o?+i:+a,A=o?a:i;A.setHours(0,0,0,0),A.setDate(1);let l=null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1;if(!l)return[];l<0&&(l=-l,o=!o);const c=[];for(;+A<=s;)c.push((0,r.toDate)(A)),A.setMonth(A.getMonth()+l);return o?c.reverse():c};var r=n(73094)},27384:(e,t,n)=>{\"use strict\";Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"});const r=n(70011),i=n(51810),a=n(13787),o=n(71640);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},27471:(e,t)=>{\"use strict\";t.isExists=function(e,t,n){const r=new Date(e,t,n);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n}},27763:(e,t,n)=>{\"use strict\";t.formatters=void 0;var r=n(43269),i=n(44938),a=n(14807),o=n(44927),s=n(20026),A=n(82266),l=n(89829);const c=\"midnight\",u=\"noon\",d=\"morning\",f=\"afternoon\",h=\"evening\",p=\"night\";t.formatters={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case\"G\":case\"GG\":case\"GGG\":return n.era(r,{width:\"abbreviated\"});case\"GGGGG\":return n.era(r,{width:\"narrow\"});default:return n.era(r,{width:\"wide\"})}},y:function(e,t,n){if(\"yo\"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:\"year\"})}return l.lightFormatters.y(e,t)},Y:function(e,t,n,r){const i=(0,s.getWeekYear)(e,r),a=i>0?i:1-i;if(\"YY\"===t){const e=a%100;return(0,A.addLeadingZeros)(e,2)}return\"Yo\"===t?n.ordinalNumber(a,{unit:\"year\"}):(0,A.addLeadingZeros)(a,t.length)},R:function(e,t){const n=(0,a.getISOWeekYear)(e);return(0,A.addLeadingZeros)(n,t.length)},u:function(e,t){const n=e.getFullYear();return(0,A.addLeadingZeros)(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case\"Q\":return String(r);case\"QQ\":return(0,A.addLeadingZeros)(r,2);case\"Qo\":return n.ordinalNumber(r,{unit:\"quarter\"});case\"QQQ\":return n.quarter(r,{width:\"abbreviated\",context:\"formatting\"});case\"QQQQQ\":return n.quarter(r,{width:\"narrow\",context:\"formatting\"});default:return n.quarter(r,{width:\"wide\",context:\"formatting\"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case\"q\":return String(r);case\"qq\":return(0,A.addLeadingZeros)(r,2);case\"qo\":return n.ordinalNumber(r,{unit:\"quarter\"});case\"qqq\":return n.quarter(r,{width:\"abbreviated\",context:\"standalone\"});case\"qqqqq\":return n.quarter(r,{width:\"narrow\",context:\"standalone\"});default:return n.quarter(r,{width:\"wide\",context:\"standalone\"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case\"M\":case\"MM\":return l.lightFormatters.M(e,t);case\"Mo\":return n.ordinalNumber(r+1,{unit:\"month\"});case\"MMM\":return n.month(r,{width:\"abbreviated\",context:\"formatting\"});case\"MMMMM\":return n.month(r,{width:\"narrow\",context:\"formatting\"});default:return n.month(r,{width:\"wide\",context:\"formatting\"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case\"L\":return String(r+1);case\"LL\":return(0,A.addLeadingZeros)(r+1,2);case\"Lo\":return n.ordinalNumber(r+1,{unit:\"month\"});case\"LLL\":return n.month(r,{width:\"abbreviated\",context:\"standalone\"});case\"LLLLL\":return n.month(r,{width:\"narrow\",context:\"standalone\"});default:return n.month(r,{width:\"wide\",context:\"standalone\"})}},w:function(e,t,n,r){const i=(0,o.getWeek)(e,r);return\"wo\"===t?n.ordinalNumber(i,{unit:\"week\"}):(0,A.addLeadingZeros)(i,t.length)},I:function(e,t,n){const r=(0,i.getISOWeek)(e);return\"Io\"===t?n.ordinalNumber(r,{unit:\"week\"}):(0,A.addLeadingZeros)(r,t.length)},d:function(e,t,n){return\"do\"===t?n.ordinalNumber(e.getDate(),{unit:\"date\"}):l.lightFormatters.d(e,t)},D:function(e,t,n){const i=(0,r.getDayOfYear)(e);return\"Do\"===t?n.ordinalNumber(i,{unit:\"dayOfYear\"}):(0,A.addLeadingZeros)(i,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case\"E\":case\"EE\":case\"EEE\":return n.day(r,{width:\"abbreviated\",context:\"formatting\"});case\"EEEEE\":return n.day(r,{width:\"narrow\",context:\"formatting\"});case\"EEEEEE\":return n.day(r,{width:\"short\",context:\"formatting\"});default:return n.day(r,{width:\"wide\",context:\"formatting\"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case\"e\":return String(a);case\"ee\":return(0,A.addLeadingZeros)(a,2);case\"eo\":return n.ordinalNumber(a,{unit:\"day\"});case\"eee\":return n.day(i,{width:\"abbreviated\",context:\"formatting\"});case\"eeeee\":return n.day(i,{width:\"narrow\",context:\"formatting\"});case\"eeeeee\":return n.day(i,{width:\"short\",context:\"formatting\"});default:return n.day(i,{width:\"wide\",context:\"formatting\"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case\"c\":return String(a);case\"cc\":return(0,A.addLeadingZeros)(a,t.length);case\"co\":return n.ordinalNumber(a,{unit:\"day\"});case\"ccc\":return n.day(i,{width:\"abbreviated\",context:\"standalone\"});case\"ccccc\":return n.day(i,{width:\"narrow\",context:\"standalone\"});case\"cccccc\":return n.day(i,{width:\"short\",context:\"standalone\"});default:return n.day(i,{width:\"wide\",context:\"standalone\"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case\"i\":return String(i);case\"ii\":return(0,A.addLeadingZeros)(i,t.length);case\"io\":return n.ordinalNumber(i,{unit:\"day\"});case\"iii\":return n.day(r,{width:\"abbreviated\",context:\"formatting\"});case\"iiiii\":return n.day(r,{width:\"narrow\",context:\"formatting\"});case\"iiiiii\":return n.day(r,{width:\"short\",context:\"formatting\"});default:return n.day(r,{width:\"wide\",context:\"formatting\"})}},a:function(e,t,n){const r=e.getHours()/12>=1?\"pm\":\"am\";switch(t){case\"a\":case\"aa\":return n.dayPeriod(r,{width:\"abbreviated\",context:\"formatting\"});case\"aaa\":return n.dayPeriod(r,{width:\"abbreviated\",context:\"formatting\"}).toLowerCase();case\"aaaaa\":return n.dayPeriod(r,{width:\"narrow\",context:\"formatting\"});default:return n.dayPeriod(r,{width:\"wide\",context:\"formatting\"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?u:0===r?c:r/12>=1?\"pm\":\"am\",t){case\"b\":case\"bb\":return n.dayPeriod(i,{width:\"abbreviated\",context:\"formatting\"});case\"bbb\":return n.dayPeriod(i,{width:\"abbreviated\",context:\"formatting\"}).toLowerCase();case\"bbbbb\":return n.dayPeriod(i,{width:\"narrow\",context:\"formatting\"});default:return n.dayPeriod(i,{width:\"wide\",context:\"formatting\"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?h:r>=12?f:r>=4?d:p,t){case\"B\":case\"BB\":case\"BBB\":return n.dayPeriod(i,{width:\"abbreviated\",context:\"formatting\"});case\"BBBBB\":return n.dayPeriod(i,{width:\"narrow\",context:\"formatting\"});default:return n.dayPeriod(i,{width:\"wide\",context:\"formatting\"})}},h:function(e,t,n){if(\"ho\"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:\"hour\"})}return l.lightFormatters.h(e,t)},H:function(e,t,n){return\"Ho\"===t?n.ordinalNumber(e.getHours(),{unit:\"hour\"}):l.lightFormatters.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return\"Ko\"===t?n.ordinalNumber(r,{unit:\"hour\"}):(0,A.addLeadingZeros)(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),\"ko\"===t?n.ordinalNumber(r,{unit:\"hour\"}):(0,A.addLeadingZeros)(r,t.length)},m:function(e,t,n){return\"mo\"===t?n.ordinalNumber(e.getMinutes(),{unit:\"minute\"}):l.lightFormatters.m(e,t)},s:function(e,t,n){return\"so\"===t?n.ordinalNumber(e.getSeconds(),{unit:\"second\"}):l.lightFormatters.s(e,t)},S:function(e,t){return l.lightFormatters.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return\"Z\";switch(t){case\"X\":return m(r);case\"XXXX\":case\"XX\":return v(r);default:return v(r,\":\")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case\"x\":return m(r);case\"xxxx\":case\"xx\":return v(r);default:return v(r,\":\")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case\"O\":case\"OO\":case\"OOO\":return\"GMT\"+g(r,\":\");default:return\"GMT\"+v(r,\":\")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case\"z\":case\"zz\":case\"zzz\":return\"GMT\"+g(r,\":\");default:return\"GMT\"+v(r,\":\")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return(0,A.addLeadingZeros)(r,t.length)},T:function(e,t,n){const r=e.getTime();return(0,A.addLeadingZeros)(r,t.length)}};function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";const n=e>0?\"-\":\"+\",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+(0,A.addLeadingZeros)(a,2)}function m(e,t){if(e%60===0){return(e>0?\"-\":\"+\")+(0,A.addLeadingZeros)(Math.abs(e)/60,2)}return v(e,t)}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";const n=e>0?\"-\":\"+\",r=Math.abs(e);return n+(0,A.addLeadingZeros)(Math.trunc(r/60),2)+t+(0,A.addLeadingZeros)(r%60,2)}},27776:(e,t,n)=>{\"use strict\";t.isSameYear=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()===i.getFullYear()};var r=n(73094)},27811:(e,t,n)=>{\"use strict\";t.addMonths=function(e,t){const n=(0,r.toDate)(e);if(isNaN(t))return(0,i.constructFrom)(e,NaN);if(!t)return n;const a=n.getDate(),o=(0,i.constructFrom)(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const s=o.getDate();return a>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)};var r=n(73094),i=n(19078)},27902:(e,t,n)=>{\"use strict\";t.isFirstDayOfMonth=function(e){return 1===(0,r.toDate)(e).getDate()};var r=n(73094)},28220:(e,t,n)=>{\"use strict\";t.weeksToDays=function(e){return Math.trunc(e*r.daysInWeek)};var r=n(4702)},28236:(e,t,n)=>{\"use strict\";t.lastDayOfMonth=function(e){const t=(0,r.toDate)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t};var r=n(73094)},28285:(e,t,n)=>{\"use strict\";t.formatDistanceToNowStrict=function(e,t){return(0,r.formatDistanceStrict)(e,(0,i.constructNow)(e),t)};var r=n(94770),i=n(24716)},28707:(e,t,n)=>{\"use strict\";n.r(t),n.d(t,{Composite:()=>Xn,CompositeItem:()=>Jn,FloatingArrow:()=>rr,FloatingDelayGroup:()=>br,FloatingFocusManager:()=>Zr,FloatingList:()=>Nn,FloatingNode:()=>cr,FloatingOverlay:()=>ni,FloatingPortal:()=>Kr,FloatingTree:()=>ur,NextFloatingDelayGroup:()=>Cr,arrow:()=>Sn,autoPlacement:()=>xn,autoUpdate:()=>en,computePosition:()=>dn,detectOverflow:()=>tn,flip:()=>bn,getOverflowAncestors:()=>Q,hide:()=>Cn,inline:()=>kn,inner:()=>Qi,limitShift:()=>wn,offset:()=>vn,platform:()=>Zt,safePolygon:()=>Mi,shift:()=>yn,size:()=>Bn,useClick:()=>ai,useClientPoint:()=>si,useDelayGroup:()=>Br,useDelayGroupContext:()=>wr,useDismiss:()=>ui,useFloating:()=>fi,useFloatingNodeId:()=>lr,useFloatingParentNodeId:()=>sr,useFloatingPortalNode:()=>Rr,useFloatingRootContext:()=>di,useFloatingTree:()=>Ar,useFocus:()=>pi,useHover:()=>mr,useId:()=>nr,useInnerOffset:()=>Ui,useInteractions:()=>mi,useListItem:()=>Mn,useListNavigation:()=>Ci,useMergeRefs:()=>Qn,useNextDelayGroup:()=>kr,useRole:()=>Si,useTransitionStatus:()=>Fi,useTransitionStyles:()=>Oi,useTypeahead:()=>Pi});var r=n(59526),i=n(53986),a=n(89379),o=n(9950),s=n.t(o,2);function A(){return\"undefined\"!==typeof window}function l(e){return d(e)?(e.nodeName||\"\").toLowerCase():\"#document\"}function c(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function u(e){var t;return null==(t=(d(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function d(e){return!!A()&&(e instanceof Node||e instanceof c(e).Node)}function f(e){return!!A()&&(e instanceof Element||e instanceof c(e).Element)}function h(e){return!!A()&&(e instanceof HTMLElement||e instanceof c(e).HTMLElement)}function p(e){return!(!A()||\"undefined\"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof c(e).ShadowRoot)}const g=new Set([\"inline\",\"contents\"]);function m(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=F(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!g.has(i)}const v=new Set([\"table\",\"td\",\"th\"]);function y(e){return v.has(l(e))}const w=[\":popover-open\",\":modal\"];function b(e){return w.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const B=[\"transform\",\"translate\",\"scale\",\"rotate\",\"perspective\"],x=[\"transform\",\"translate\",\"scale\",\"rotate\",\"perspective\",\"filter\"],C=[\"paint\",\"layout\",\"strict\",\"content\"];function k(e){const t=S(),n=f(e)?F(e):e;return B.some(e=>!!n[e]&&\"none\"!==n[e])||!!n.containerType&&\"normal\"!==n.containerType||!t&&!!n.backdropFilter&&\"none\"!==n.backdropFilter||!t&&!!n.filter&&\"none\"!==n.filter||x.some(e=>(n.willChange||\"\").includes(e))||C.some(e=>(n.contain||\"\").includes(e))}function S(){return!(\"undefined\"===typeof CSS||!CSS.supports)&&CSS.supports(\"-webkit-backdrop-filter\",\"none\")}const E=new Set([\"html\",\"body\",\"#document\"]);function _(e){return E.has(l(e))}function F(e){return c(e).getComputedStyle(e)}function O(e){return f(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function P(e){if(\"html\"===l(e))return e;const t=e.assignedSlot||e.parentNode||p(e)&&e.host||u(e);return p(t)?t.host:t}function D(e){const t=P(e);return _(t)?e.ownerDocument?e.ownerDocument.body:e.body:h(t)&&m(t)?t:D(t)}function Q(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=D(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),o=c(i);if(a){const e=U(o);return t.concat(o,o.visualViewport||[],m(i)?i:[],e&&n?Q(e):[])}return t.concat(i,Q(i,[],n))}function U(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const I=[\"top\",\"right\",\"bottom\",\"left\"],N=[\"start\",\"end\"],M=I.reduce((e,t)=>e.concat(t,t+\"-\"+N[0],t+\"-\"+N[1]),[]),L=Math.min,j=Math.max,T=Math.round,H=Math.floor,R=e=>({x:e,y:e}),K={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"},z={start:\"end\",end:\"start\"};function W(e,t,n){return j(e,L(t,n))}function Y(e,t){return\"function\"===typeof e?e(t):e}function V(e){return e.split(\"-\")[0]}function q(e){return e.split(\"-\")[1]}function G(e){return\"x\"===e?\"y\":\"x\"}function X(e){return\"y\"===e?\"height\":\"width\"}const J=new Set([\"top\",\"bottom\"]);function Z(e){return J.has(V(e))?\"y\":\"x\"}function $(e){return G(Z(e))}function ee(e,t,n){void 0===n&&(n=!1);const r=q(e),i=$(e),a=X(i);let o=\"x\"===i?r===(n?\"end\":\"start\")?\"right\":\"left\":\"start\"===r?\"bottom\":\"top\";return t.reference[a]>t.floating[a]&&(o=se(o)),[o,se(o)]}function te(e){return e.replace(/start|end/g,e=>z[e])}const ne=[\"left\",\"right\"],re=[\"right\",\"left\"],ie=[\"top\",\"bottom\"],ae=[\"bottom\",\"top\"];function oe(e,t,n,r){const i=q(e);let a=function(e,t,n){switch(e){case\"top\":case\"bottom\":return n?t?re:ne:t?ne:re;case\"left\":case\"right\":return t?ie:ae;default:return[]}}(V(e),\"start\"===n,r);return i&&(a=a.map(e=>e+\"-\"+i),t&&(a=a.concat(a.map(te)))),a}function se(e){return e.replace(/left|right|bottom|top/g,e=>K[e])}function Ae(e){return\"number\"!==typeof e?function(e){return(0,a.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function le(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var ce=[\"input:not([inert])\",\"select:not([inert])\",\"textarea:not([inert])\",\"a[href]:not([inert])\",\"button:not([inert])\",\"[tabindex]:not(slot):not([inert])\",\"audio[controls]:not([inert])\",\"video[controls]:not([inert])\",'[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\"details>summary:first-of-type:not([inert])\",\"details:not([inert])\"],ue=ce.join(\",\"),de=\"undefined\"===typeof Element,fe=de?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,he=!de&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},pe=function e(t,n){var r;void 0===n&&(n=!0);var i=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,\"inert\");return\"\"===i||\"true\"===i||n&&t&&e(t.parentNode)},ge=function(e,t,n){if(pe(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(ue));return t&&fe.call(e,ue)&&r.unshift(e),r=r.filter(n)},me=function e(t,n,r){for(var i=[],a=Array.from(t);a.length;){var o=a.shift();if(!pe(o,!1))if(\"SLOT\"===o.tagName){var s=o.assignedElements(),A=e(s.length?s:o.children,!0,r);r.flatten?i.push.apply(i,A):i.push({scopeParent:o,candidates:A})}else{fe.call(o,ue)&&r.filter(o)&&(n||!t.includes(o))&&i.push(o);var l=o.shadowRoot||\"function\"===typeof r.getShadowRoot&&r.getShadowRoot(o),c=!pe(l,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(l&&c){var u=e(!0===l?o.children:l.children,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else a.unshift.apply(a,o.children)}}return i},ve=function(e){return!isNaN(parseInt(e.getAttribute(\"tabindex\"),10))},ye=function(e){if(!e)throw new Error(\"No node provided\");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,\"contenteditable\");return\"\"===n||\"true\"===n}(e))&&!ve(e)?0:e.tabIndex},we=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},be=function(e){return\"INPUT\"===e.tagName},Be=function(e){return function(e){return be(e)&&\"radio\"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||he(e),r=function(e){return n.querySelectorAll('input[type=\"radio\"][name=\"'+e+'\"]')};if(\"undefined\"!==typeof window&&\"undefined\"!==typeof window.CSS&&\"function\"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(a){return console.error(\"Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s\",a.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},xe=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Ce=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if(\"hidden\"===getComputedStyle(e).visibility)return!0;var i=fe.call(e,\"details>summary:first-of-type\")?e.parentElement:e;if(fe.call(i,\"details:not([open]) *\"))return!0;if(n&&\"full\"!==n&&\"legacy-full\"!==n){if(\"non-zero-area\"===n)return xe(e)}else{if(\"function\"===typeof r){for(var a=e;e;){var o=e.parentElement,s=he(e);if(o&&!o.shadowRoot&&!0===r(o))return xe(e);e=e.assignedSlot?e.assignedSlot:o||s===e.ownerDocument?o:s.host}e=a}if(function(e){var t,n,r,i,a=e&&he(e),o=null===(t=a)||void 0===t?void 0:t.host,s=!1;if(a&&a!==e)for(s=!!(null!==(n=o)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(o)||null!==e&&void 0!==e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&o;){var A,l,c;s=!(null===(l=o=null===(A=a=he(o))||void 0===A?void 0:A.host)||void 0===l||null===(c=l.ownerDocument)||void 0===c||!c.contains(o))}return s}(e))return!e.getClientRects().length;if(\"legacy-full\"!==n)return!0}return!1},ke=function(e,t){return!(t.disabled||pe(t)||function(e){return be(e)&&\"hidden\"===e.type}(t)||Ce(t,e)||function(e){return\"DETAILS\"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return\"SUMMARY\"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(\"FIELDSET\"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if(\"LEGEND\"===r.tagName)return!!fe.call(t,\"fieldset[disabled] *\")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},Se=function(e,t){return!(Be(t)||ye(t)<0||!ke(e,t))},Ee=function(e){var t=parseInt(e.getAttribute(\"tabindex\"),10);return!!(isNaN(t)||t>=0)},_e=function e(t){var n=[],r=[];return t.forEach(function(t,i){var a=!!t.scopeParent,o=a?t.scopeParent:t,s=function(e,t){var n=ye(e);return n<0&&t&&!ve(e)?0:n}(o,a),A=a?e(t.candidates):o;0===s?a?n.push.apply(n,A):n.push(o):r.push({documentOrder:i,tabIndex:s,item:t,isScope:a,content:A})}),r.sort(we).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(n)},Fe=function(e,t){var n;return n=(t=t||{}).getShadowRoot?me([e],t.includeContainer,{filter:Se.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ee}):ge(e,t.includeContainer,Se.bind(null,t)),_e(n)},Oe=function(e,t){return(t=t||{}).getShadowRoot?me([e],t.includeContainer,{filter:ke.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):ge(e,t.includeContainer,ke.bind(null,t))},Pe=function(e,t){if(t=t||{},!e)throw new Error(\"No node provided\");return!1!==fe.call(e,ue)&&Se(t,e)};function De(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function Qe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+\"/\"+n}).join(\" \"):navigator.userAgent}function Ue(){return/apple/i.test(navigator.vendor)}function Ie(){const e=/android/i;return e.test(De())||e.test(Qe())}function Ne(){return Qe().includes(\"jsdom/\")}const Me=\"data-floating-ui-focusable\",Le=\"input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\",je=\"ArrowLeft\",Te=\"ArrowRight\",He=\"ArrowUp\",Re=\"ArrowDown\";function Ke(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function ze(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&p(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function We(e){return\"composedPath\"in e?e.composedPath()[0]:e.target}function Ye(e,t){if(null==t)return!1;if(\"composedPath\"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function Ve(e){return(null==e?void 0:e.ownerDocument)||document}function qe(e){return h(e)&&e.matches(Le)}function Ge(e){return!!e&&(\"combobox\"===e.getAttribute(\"role\")&&qe(e))}function Xe(e){return e?e.hasAttribute(Me)?e:e.querySelector(\"[\"+Me+\"]\")||e:null}function Je(e,t,n){void 0===n&&(n=!0);return e.filter(e=>{var r;return e.parentId===t&&(!n||(null==(r=e.context)?void 0:r.open))}).flatMap(t=>[t,...Je(e,t.id,n)])}function Ze(e,t){var n;let r=[],i=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;i;){const t=e.find(e=>e.id===i);i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}function $e(e){e.preventDefault(),e.stopPropagation()}function et(e){return!(0!==e.mozInputSource||!e.isTrusted)||(Ie()&&e.pointerType?\"click\"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function tt(e){return!Ne()&&(!Ie()&&0===e.width&&0===e.height||Ie()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&\"mouse\"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&\"touch\"===e.pointerType)}function nt(e,t){const n=[\"mouse\",\"pen\"];return t||n.push(\"\",void 0),n.includes(e)}var rt=\"undefined\"!==typeof document?o.useLayoutEffect:function(){};function it(e){const t=o.useRef(e);return rt(()=>{t.current=e}),t}const at=(0,a.A)({},s).useInsertionEffect||(e=>e());function ot(e){const t=o.useRef(()=>{0});return at(()=>{t.current=e}),o.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function st(e,t,n){return Math.floor(e/t)!==n}function At(e,t){return t<0||t>=e.current.length}function lt(e,t){return ut(e,{disabledIndices:t})}function ct(e,t){return ut(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ut(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:a=1}=void 0===t?{}:t,o=n;do{o+=r?-a:a}while(o>=0&&o<=e.current.length-1&&gt(e,o,i));return o}function dt(e,t){let{event:n,orientation:r,loop:i,rtl:a,cols:o,disabledIndices:s,minIndex:A,maxIndex:l,prevIndex:c,stopEvent:u=!1}=t,d=c;if(n.key===He){if(u&&$e(n),-1===c)d=l;else if(d=ut(e,{startingIndex:d,amount:o,decrement:!0,disabledIndices:s}),i&&(c-o<A||d<0)){const e=c%o,t=l%o,n=l-(t-e);d=t===e?l:t>e?n:n-o}At(e,d)&&(d=c)}if(n.key===Re&&(u&&$e(n),-1===c?d=A:(d=ut(e,{startingIndex:c,amount:o,disabledIndices:s}),i&&c+o>l&&(d=ut(e,{startingIndex:c%o-o,amount:o,disabledIndices:s}))),At(e,d)&&(d=c)),\"both\"===r){const t=H(c/o);n.key===(a?je:Te)&&(u&&$e(n),c%o!==o-1?(d=ut(e,{startingIndex:c,disabledIndices:s}),i&&st(d,o,t)&&(d=ut(e,{startingIndex:c-c%o-1,disabledIndices:s}))):i&&(d=ut(e,{startingIndex:c-c%o-1,disabledIndices:s})),st(d,o,t)&&(d=c)),n.key===(a?Te:je)&&(u&&$e(n),c%o!==0?(d=ut(e,{startingIndex:c,decrement:!0,disabledIndices:s}),i&&st(d,o,t)&&(d=ut(e,{startingIndex:c+(o-c%o),decrement:!0,disabledIndices:s}))):i&&(d=ut(e,{startingIndex:c+(o-c%o),decrement:!0,disabledIndices:s})),st(d,o,t)&&(d=c));const r=H(l/o)===t;At(e,d)&&(d=i&&r?n.key===(a?Te:je)?l:ut(e,{startingIndex:c-c%o-1,disabledIndices:s}):c)}return d}function ft(e,t,n){const r=[];let i=0;return e.forEach((e,a)=>{let{width:o,height:s}=e,A=!1;for(n&&(i=0);!A;){const e=[];for(let n=0;n<o;n++)for(let r=0;r<s;r++)e.push(i+n+r*t);i%t+o<=t&&e.every(e=>null==r[e])?(e.forEach(e=>{r[e]=a}),A=!0):i++}}),[...r]}function ht(e,t,n,r,i){if(-1===e)return-1;const a=n.indexOf(e),o=t[e];switch(i){case\"tl\":return a;case\"tr\":return o?a+o.width-1:a;case\"bl\":return o?a+(o.height-1)*r:a;case\"br\":return n.lastIndexOf(e)}}function pt(e,t){return t.flatMap((t,n)=>e.includes(t)?[n]:[])}function gt(e,t,n){if(\"function\"===typeof n)return n(t);if(n)return n.includes(t);const r=e.current[t];return null==r||r.hasAttribute(\"disabled\")||\"true\"===r.getAttribute(\"aria-disabled\")}const mt=()=>({getShadowRoot:!0,displayCheck:\"function\"===typeof ResizeObserver&&ResizeObserver.toString().includes(\"[native code]\")?\"full\":\"none\"});function vt(e,t){const n=Fe(e,mt()),r=n.length;if(0===r)return;const i=Ke(Ve(e)),a=n.indexOf(i);return n[-1===a?1===t?0:r-1:a+t]}function yt(e){return vt(Ve(e).body,1)||e}function wt(e){return vt(Ve(e).body,-1)||e}function bt(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ze(n,r)}function Bt(e){Fe(e,mt()).forEach(e=>{e.dataset.tabindex=e.getAttribute(\"tabindex\")||\"\",e.setAttribute(\"tabindex\",\"-1\")})}function xt(e){e.querySelectorAll(\"[data-tabindex]\").forEach(e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute(\"tabindex\",t):e.removeAttribute(\"tabindex\")})}var Ct=n(44414),kt=n(17119);const St=[\"crossAxis\",\"alignment\",\"allowedPlacements\",\"autoAlignment\"],Et=[\"mainAxis\",\"crossAxis\",\"fallbackPlacements\",\"fallbackStrategy\",\"fallbackAxisSideDirection\",\"flipAlignment\"],_t=[\"strategy\"],Ft=[\"mainAxis\",\"crossAxis\",\"limiter\"],Ot=[\"apply\"];function Pt(e,t,n){let{reference:r,floating:i}=e;const a=Z(t),o=$(t),s=X(o),A=V(t),l=\"y\"===a,c=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let f;switch(A){case\"top\":f={x:c,y:r.y-i.height};break;case\"bottom\":f={x:c,y:r.y+r.height};break;case\"right\":f={x:r.x+r.width,y:u};break;case\"left\":f={x:r.x-i.width,y:u};break;default:f={x:r.x,y:r.y}}switch(q(t)){case\"start\":f[o]-=d*(n&&l?-1:1);break;case\"end\":f[o]+=d*(n&&l?-1:1)}return f}async function Dt(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:A}=e,{boundary:l=\"clippingAncestors\",rootBoundary:c=\"viewport\",elementContext:u=\"floating\",altBoundary:d=!1,padding:f=0}=Y(t,e),h=Ae(f),p=s[d?\"floating\"===u?\"reference\":\"floating\":u],g=le(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(p)))||n?p:p.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:l,rootBoundary:c,strategy:A})),m=\"floating\"===u?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),y=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},w=le(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:m,offsetParent:v,strategy:A}):m);return{top:(g.top-w.top+h.top)/y.y,bottom:(w.bottom-g.bottom+h.bottom)/y.y,left:(g.left-w.left+h.left)/y.x,right:(w.right-g.right+h.right)/y.x}}function Qt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ut(e){return I.some(t=>e[t]>=0)}function It(e){const t=L(...e.map(e=>e.left)),n=L(...e.map(e=>e.top));return{x:t,y:n,width:j(...e.map(e=>e.right))-t,height:j(...e.map(e=>e.bottom))-n}}const Nt=new Set([\"left\",\"top\"]);function Mt(e){const t=F(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=h(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=T(n)!==a||T(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Lt(e){return f(e)?e:e.contextElement}function jt(e){const t=Lt(e);if(!h(t))return R(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Mt(t);let o=(a?T(n.width):n.width)/r,s=(a?T(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const Tt=R(0);function Ht(e){const t=c(e);return S()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Tt}function Rt(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=Lt(e);let o=R(1);t&&(r?f(r)&&(o=jt(r)):o=jt(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==c(e))&&t}(a,n,r)?Ht(a):R(0);let A=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const e=c(a),t=r&&f(r)?c(r):r;let n=e,i=U(n);for(;i&&r&&t!==n;){const e=jt(i),t=i.getBoundingClientRect(),r=F(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;A*=e.x,l*=e.y,u*=e.x,d*=e.y,A+=a,l+=o,n=c(i),i=U(n)}}return le({width:u,height:d,x:A,y:l})}function Kt(e,t){const n=O(e).scrollLeft;return t?t.left+n:Rt(u(e)).left+n}function zt(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-Kt(e,n),y:n.top+t.scrollTop}}const Wt=new Set([\"absolute\",\"fixed\"]);function Yt(e,t,n){let r;if(\"viewport\"===t)r=function(e,t){const n=c(e),r=u(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,A=0;if(i){a=i.width,o=i.height;const e=S();(!e||e&&\"fixed\"===t)&&(s=i.offsetLeft,A=i.offsetTop)}const l=Kt(r);if(l<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=\"CSS1Compat\"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=25&&(a-=o)}else l<=25&&(a+=l);return{width:a,height:o,x:s,y:A}}(e,n);else if(\"document\"===t)r=function(e){const t=u(e),n=O(e),r=e.ownerDocument.body,i=j(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=j(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Kt(e);const s=-n.scrollTop;return\"rtl\"===F(r).direction&&(o+=j(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}(u(e));else if(f(t))r=function(e,t){const n=Rt(e,!0,\"fixed\"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=h(e)?jt(e):R(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=Ht(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return le(r)}function Vt(e,t){const n=P(e);return!(n===t||!f(n)||_(n))&&(\"fixed\"===F(n).position||Vt(n,t))}function qt(e,t,n){const r=h(t),i=u(t),a=\"fixed\"===n,o=Rt(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const A=R(0);function c(){A.x=Kt(i)}if(r||!r&&!a)if((\"body\"!==l(t)||m(i))&&(s=O(t)),r){const e=Rt(t,!0,a,t);A.x=e.x+t.clientLeft,A.y=e.y+t.clientTop}else i&&c();a&&!r&&i&&c();const d=!i||r||a?R(0):zt(i,s);return{x:o.left+s.scrollLeft-A.x-d.x,y:o.top+s.scrollTop-A.y-d.y,width:o.width,height:o.height}}function Gt(e){return\"static\"===F(e).position}function Xt(e,t){if(!h(e)||\"fixed\"===F(e).position)return null;if(t)return t(e);let n=e.offsetParent;return u(e)===n&&(n=n.ownerDocument.body),n}function Jt(e,t){const n=c(e);if(b(e))return n;if(!h(e)){let t=P(e);for(;t&&!_(t);){if(f(t)&&!Gt(t))return t;t=P(t)}return n}let r=Xt(e,t);for(;r&&y(r)&&Gt(r);)r=Xt(r,t);return r&&_(r)&&Gt(r)&&!k(r)?n:r||function(e){let t=P(e);for(;h(t)&&!_(t);){if(k(t))return t;if(b(t))return null;t=P(t)}return null}(e)||n}const Zt={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=\"fixed\"===i,o=u(r),s=!!t&&b(t.floating);if(r===o||s&&a)return n;let A={scrollLeft:0,scrollTop:0},c=R(1);const d=R(0),f=h(r);if((f||!f&&!a)&&((\"body\"!==l(r)||m(o))&&(A=O(r)),h(r))){const e=Rt(r);c=jt(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const p=!o||f||a?R(0):zt(o,A);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-A.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-A.scrollTop*c.y+d.y+p.y}},getDocumentElement:u,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...\"clippingAncestors\"===n?b(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Q(e,[],!1).filter(e=>f(e)&&\"body\"!==l(e)),i=null;const a=\"fixed\"===F(e).position;let o=a?P(e):e;for(;f(o)&&!_(o);){const t=F(o),n=k(o);n||\"fixed\"!==t.position||(i=null),(a?!n&&!i:!n&&\"static\"===t.position&&i&&Wt.has(i.position)||m(o)&&!n&&Vt(e,o))?r=r.filter(e=>e!==o):i=t,o=P(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{const r=Yt(t,n,i);return e.top=j(r.top,e.top),e.right=L(r.right,e.right),e.bottom=L(r.bottom,e.bottom),e.left=j(r.left,e.left),e},Yt(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Jt,getElementRects:async function(e){const t=this.getOffsetParent||Jt,n=this.getDimensions,r=await n(e.floating);return{reference:qt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Mt(e);return{width:t,height:n}},getScale:jt,isElement:f,isRTL:function(e){return\"rtl\"===F(e).direction}};function $t(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function en(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=\"function\"===typeof ResizeObserver,layoutShift:A=\"function\"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=Lt(e),d=i||o?[...c?Q(c):[],...Q(t)]:[];d.forEach(e=>{i&&e.addEventListener(\"scroll\",n,{passive:!0}),o&&e.addEventListener(\"resize\",n)});const f=c&&A?function(e,t){let n,r=null;const i=u(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(A,l){void 0===A&&(A=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(A||t(),!f||!h)return;const p={rootMargin:-H(d)+\"px \"+-H(i.clientWidth-(u+f))+\"px \"+-H(i.clientHeight-(d+h))+\"px \"+-H(u)+\"px\",threshold:j(0,L(1,l))||1};let g=!0;function m(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||$t(c,e.getBoundingClientRect())||s(),g=!1}try{r=new IntersectionObserver(m,(0,a.A)((0,a.A)({},p),{},{root:i.ownerDocument}))}catch(v){r=new IntersectionObserver(m,p)}r.observe(e)}(!0),o}(c,n):null;let h,p=-1,g=null;s&&(g=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let m=l?Rt(e):null;return l&&function t(){const r=Rt(e);m&&!$t(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{i&&e.removeEventListener(\"scroll\",n),o&&e.removeEventListener(\"resize\",n)}),null==f||f(),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(h)}}const tn=Dt,nn=function(e){return void 0===e&&(e=0),{name:\"offset\",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:A}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=V(n),s=q(n),A=\"y\"===Z(n),l=Nt.has(o)?-1:1,c=a&&A?-1:1,u=Y(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:h}=\"number\"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&\"number\"===typeof h&&(f=\"end\"===s?-1*h:h),A?{x:f*c,y:d*l}:{x:d*l,y:f*c}}(t,e);return s===(null==(n=A.offset)?void 0:n.placement)&&null!=(r=A.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:(0,a.A)((0,a.A)({},l),{},{placement:s})}}}},rn=function(e){return void 0===e&&(e={}),{name:\"autoPlacement\",options:e,async fn(t){var n,r,a;const{rects:o,middlewareData:s,placement:A,platform:l,elements:c}=t,u=Y(e,t),{crossAxis:d=!1,alignment:f,allowedPlacements:h=M,autoAlignment:p=!0}=u,g=(0,i.A)(u,St),m=void 0!==f||h===M?function(e,t,n){return(e?[...n.filter(t=>q(t)===e),...n.filter(t=>q(t)!==e)]:n.filter(e=>V(e)===e)).filter(n=>!e||q(n)===e||!!t&&te(n)!==n)}(f||null,p,h):h,v=await Dt(t,g),y=(null==(n=s.autoPlacement)?void 0:n.index)||0,w=m[y];if(null==w)return{};const b=ee(w,o,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(A!==w)return{reset:{placement:m[0]}};const B=[v[V(w)],v[b[0]],v[b[1]]],x=[...(null==(r=s.autoPlacement)?void 0:r.overflows)||[],{placement:w,overflows:B}],C=m[y+1];if(C)return{data:{index:y+1,overflows:x},reset:{placement:C}};const k=x.map(e=>{const t=q(e.placement);return[e.placement,t&&d?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),S=(null==(a=k.filter(e=>e[2].slice(0,q(e[0])?2:3).every(e=>e<=0))[0])?void 0:a[0])||k[0][0];return S!==A?{data:{index:y+1,overflows:x},reset:{placement:S}}:{}}}},an=function(e){return void 0===e&&(e={}),{name:\"shift\",options:e,async fn(t){const{x:n,y:r,placement:o}=t,s=Y(e,t),{mainAxis:A=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=s,u=(0,i.A)(s,Ft),d={x:n,y:r},f=await Dt(t,u),h=Z(V(o)),p=G(h);let g=d[p],m=d[h];if(A){const e=\"y\"===p?\"bottom\":\"right\";g=W(g+f[\"y\"===p?\"top\":\"left\"],g,g-f[e])}if(l){const e=\"y\"===h?\"bottom\":\"right\";m=W(m+f[\"y\"===h?\"top\":\"left\"],m,m-f[e])}const v=c.fn((0,a.A)((0,a.A)({},t),{},{[p]:g,[h]:m}));return(0,a.A)((0,a.A)({},v),{},{data:{x:v.x-n,y:v.y-r,enabled:{[p]:A,[h]:l}}})}}},on=function(e){return void 0===e&&(e={}),{name:\"flip\",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:A,platform:l,elements:c}=t,u=Y(e,t),{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p=\"bestFit\",fallbackAxisSideDirection:g=\"none\",flipAlignment:m=!0}=u,v=(0,i.A)(u,Et);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const y=V(a),w=Z(A),b=V(A)===A,B=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=h||(b||!m?[se(A)]:function(e){const t=se(e);return[te(e),t,te(t)]}(A)),C=\"none\"!==g;!h&&C&&x.push(...oe(A,m,g,B));const k=[A,...x],S=await Dt(t,v),E=[];let _=(null==(r=o.flip)?void 0:r.overflows)||[];if(d&&E.push(S[y]),f){const e=ee(a,s,B);E.push(S[e[0]],S[e[1]])}if(_=[..._,{placement:a,overflows:E}],!E.every(e=>e<=0)){var F,O;const e=((null==(F=o.flip)?void 0:F.index)||0)+1,t=k[e];if(t){if(!(\"alignment\"===f&&w!==Z(t))||_.every(e=>Z(e.placement)!==w||e.overflows[0]>0))return{data:{index:e,overflows:_},reset:{placement:t}}}let n=null==(O=_.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:O.placement;if(!n)switch(p){case\"bestFit\":{var P;const e=null==(P=_.filter(e=>{if(C){const t=Z(e.placement);return t===w||\"y\"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(n=e);break}case\"initialPlacement\":n=A}if(a!==n)return{reset:{placement:n}}}return{}}}},sn=function(e){return void 0===e&&(e={}),{name:\"size\",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:A,elements:l}=t,c=Y(e,t),{apply:u=()=>{}}=c,d=(0,i.A)(c,Ot),f=await Dt(t,d),h=V(o),p=q(o),g=\"y\"===Z(o),{width:m,height:v}=s.floating;let y,w;\"top\"===h||\"bottom\"===h?(y=h,w=p===(await(null==A.isRTL?void 0:A.isRTL(l.floating))?\"start\":\"end\")?\"left\":\"right\"):(w=h,y=\"end\"===p?\"top\":\"bottom\");const b=v-f.top-f.bottom,B=m-f.left-f.right,x=L(v-f[y],b),C=L(m-f[w],B),k=!t.middlewareData.shift;let S=x,E=C;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(E=B),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(S=b),k&&!p){const e=j(f.left,0),t=j(f.right,0),n=j(f.top,0),r=j(f.bottom,0);g?E=m-2*(0!==e||0!==t?e+t:j(f.left,f.right)):S=v-2*(0!==n||0!==r?n+r:j(f.top,f.bottom))}await u((0,a.A)((0,a.A)({},t),{},{availableWidth:E,availableHeight:S}));const _=await A.getDimensions(l.floating);return m!==_.width||v!==_.height?{reset:{rects:!0}}:{}}}},An=function(e){return void 0===e&&(e={}),{name:\"hide\",options:e,async fn(t){const{rects:n}=t,r=Y(e,t),{strategy:o=\"referenceHidden\"}=r,s=(0,i.A)(r,_t);switch(o){case\"referenceHidden\":{const e=Qt(await Dt(t,(0,a.A)((0,a.A)({},s),{},{elementContext:\"reference\"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Ut(e)}}}case\"escaped\":{const e=Qt(await Dt(t,(0,a.A)((0,a.A)({},s),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:Ut(e)}}}default:return{}}}}},ln=e=>({name:\"arrow\",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:A,middlewareData:l}=t,{element:c,padding:u=0}=Y(e,t)||{};if(null==c)return{};const d=Ae(u),f={x:n,y:r},h=$(i),p=X(h),g=await s.getDimensions(c),m=\"y\"===h,v=m?\"top\":\"left\",y=m?\"bottom\":\"right\",w=m?\"clientHeight\":\"clientWidth\",b=o.reference[p]+o.reference[h]-f[h]-o.floating[p],B=f[h]-o.reference[h],x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let C=x?x[w]:0;C&&await(null==s.isElement?void 0:s.isElement(x))||(C=A.floating[w]||o.floating[p]);const k=b/2-B/2,S=C/2-g[p]/2-1,E=L(d[v],S),_=L(d[y],S),F=E,O=C-g[p]-_,P=C/2-g[p]/2+k,D=W(F,P,O),Q=!l.arrow&&null!=q(i)&&P!==D&&o.reference[p]/2-(P<F?E:_)-g[p]/2<0,U=Q?P<F?P-F:P-O:0;return{[h]:f[h]+U,data:(0,a.A)({[h]:D,centerOffset:P-D-U},Q&&{alignmentOffset:U}),reset:Q}}}),cn=function(e){return void 0===e&&(e={}),{name:\"inline\",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:a,strategy:o}=t,{padding:s=2,x:A,y:l}=Y(e,t),c=Array.from(await(null==a.getClientRects?void 0:a.getClientRects(r.reference))||[]),u=function(e){const t=e.slice().sort((e,t)=>e.y-t.y),n=[];let r=null;for(let i=0;i<t.length;i++){const e=t[i];!r||e.y-r.y>r.height/2?n.push([e]):n[n.length-1].push(e),r=e}return n.map(e=>le(It(e)))}(c),d=le(It(c)),f=Ae(s);const h=await a.getElementRects({reference:{getBoundingClientRect:function(){if(2===u.length&&u[0].left>u[1].right&&null!=A&&null!=l)return u.find(e=>A>e.left-f.left&&A<e.right+f.right&&l>e.top-f.top&&l<e.bottom+f.bottom)||d;if(u.length>=2){if(\"y\"===Z(n)){const e=u[0],t=u[u.length-1],r=\"top\"===V(n),i=e.top,a=t.bottom,o=r?e.left:t.left,s=r?e.right:t.right;return{top:i,bottom:a,left:o,right:s,width:s-o,height:a-i,x:o,y:i}}const e=\"left\"===V(n),t=j(...u.map(e=>e.right)),r=L(...u.map(e=>e.left)),i=u.filter(n=>e?n.left===r:n.right===t),a=i[0].top,o=i[i.length-1].bottom;return{top:a,bottom:o,left:r,right:t,width:t-r,height:o-a,x:r,y:a}}return d}},floating:r.floating,strategy:o});return i.reference.x!==h.reference.x||i.reference.y!==h.reference.y||i.reference.width!==h.reference.width||i.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}},un=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:A=0,mainAxis:l=!0,crossAxis:c=!0}=Y(e,t),u={x:n,y:r},d=Z(i),f=G(d);let h=u[f],p=u[d];const g=Y(A,t),m=\"number\"===typeof g?{mainAxis:g,crossAxis:0}:(0,a.A)({mainAxis:0,crossAxis:0},g);if(l){const e=\"y\"===f?\"height\":\"width\",t=o.reference[f]-o.floating[e]+m.mainAxis,n=o.reference[f]+o.reference[e]-m.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var v,y;const e=\"y\"===f?\"width\":\"height\",t=Nt.has(V(i)),n=o.reference[d]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[d])||0)+(t?0:m.crossAxis),r=o.reference[d]+o.reference[e]+(t?0:(null==(y=s.offset)?void 0:y[d])||0)-(t?m.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[f]:h,[d]:p}}}},dn=(e,t,n)=>{const r=new Map,i=(0,a.A)({platform:Zt},n),o=(0,a.A)((0,a.A)({},i.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r=\"bottom\",strategy:i=\"absolute\",middleware:o=[],platform:s}=n,A=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Pt(c,r,l),f=r,h={},p=0;for(let g=0;g<A.length;g++){const{name:n,fn:o}=A[g],{x:m,y:v,data:y,reset:w}=await o({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=m?m:u,d=null!=v?v:d,h=(0,a.A)((0,a.A)({},h),{},{[n]:(0,a.A)((0,a.A)({},h[n]),y)}),w&&p<=50&&(p++,\"object\"===typeof w&&(w.placement&&(f=w.placement),w.rects&&(c=!0===w.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:u,y:d}=Pt(c,f,l))),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}})(e,t,(0,a.A)((0,a.A)({},i),{},{platform:o}))};var fn=\"undefined\"!==typeof document?o.useLayoutEffect:function(){};function hn(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if(\"function\"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&\"object\"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!hn(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if((\"_owner\"!==n||!e.$$typeof)&&!hn(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function pn(e){if(\"undefined\"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gn(e,t){const n=pn(e);return Math.round(t*n)/n}function mn(e){const t=o.useRef(e);return fn(()=>{t.current=e}),t}const vn=(e,t)=>(0,a.A)((0,a.A)({},nn(e)),{},{options:[e,t]}),yn=(e,t)=>(0,a.A)((0,a.A)({},an(e)),{},{options:[e,t]}),wn=(e,t)=>(0,a.A)((0,a.A)({},un(e)),{},{options:[e,t]}),bn=(e,t)=>(0,a.A)((0,a.A)({},on(e)),{},{options:[e,t]}),Bn=(e,t)=>(0,a.A)((0,a.A)({},sn(e)),{},{options:[e,t]}),xn=(e,t)=>(0,a.A)((0,a.A)({},rn(e)),{},{options:[e,t]}),Cn=(e,t)=>(0,a.A)((0,a.A)({},An(e)),{},{options:[e,t]}),kn=(e,t)=>(0,a.A)((0,a.A)({},cn(e)),{},{options:[e,t]}),Sn=(e,t)=>(0,a.A)((0,a.A)({},(e=>({name:\"arrow\",options:e,fn(t){const{element:n,padding:r}=\"function\"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,\"current\"))?null!=n.current?ln({element:n.current,padding:r}).fn(t):{}:n?ln({element:n,padding:r}).fn(t):{};var i}}))(e)),{},{options:[e,t]}),En=[\"render\",\"orientation\",\"loop\",\"rtl\",\"cols\",\"disabledIndices\",\"activeIndex\",\"onNavigate\",\"itemSizes\",\"dense\"],_n=[\"render\"],Fn=[\"transform\"],On=[\"context\",\"width\",\"height\",\"tipRadius\",\"strokeWidth\",\"staticOffset\",\"stroke\",\"d\",\"style\"],Pn=[\"lockScroll\"],Dn=[\"listRef\",\"overflowRef\",\"onFallbackChange\",\"offset\",\"index\",\"minItemsVisible\",\"referenceOverflowThreshold\",\"scrollRef\"];function Qn(e){const t=o.useRef(void 0),n=o.useCallback(t=>{const n=e.map(e=>{if(null!=e){if(\"function\"===typeof e){const n=e,r=n(t);return\"function\"===typeof r?r:()=>{n(null)}}return e.current=t,()=>{e.current=null}}});return()=>{n.forEach(e=>null==e?void 0:e())}},e);return o.useMemo(()=>e.every(e=>null==e)?null:e=>{t.current&&(t.current(),t.current=void 0),null!=e&&(t.current=n(e))},e)}function Un(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const In=o.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Nn(e){const{children:t,elementsRef:n,labelsRef:r}=e,[i,a]=o.useState(()=>new Set),s=o.useCallback(e=>{a(t=>new Set(t).add(e))},[]),A=o.useCallback(e=>{a(t=>{const n=new Set(t);return n.delete(e),n})},[]),l=o.useMemo(()=>{const e=new Map;return Array.from(i.keys()).sort(Un).forEach((t,n)=>{e.set(t,n)}),e},[i]);return(0,Ct.jsx)(In.Provider,{value:o.useMemo(()=>({register:s,unregister:A,map:l,elementsRef:n,labelsRef:r}),[s,A,l,n,r]),children:t})}function Mn(e){void 0===e&&(e={});const{label:t}=e,{register:n,unregister:r,map:i,elementsRef:a,labelsRef:s}=o.useContext(In),[A,l]=o.useState(null),c=o.useRef(null),u=o.useCallback(e=>{if(c.current=e,null!==A&&(a.current[A]=e,s)){var n;const r=void 0!==t;s.current[A]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}},[A,a,s,t]);return rt(()=>{const e=c.current;if(e)return n(e),()=>{r(e)}},[n,r]),rt(()=>{const e=c.current?i.get(c.current):null;null!=e&&l(e)},[i]),o.useMemo(()=>({ref:u,index:null==A?-1:A}),[A,u])}const Ln=\"data-floating-ui-focusable\",jn=\"active\",Tn=\"selected\",Hn=\"ArrowLeft\",Rn=\"ArrowRight\",Kn=\"ArrowUp\",zn=\"ArrowDown\";function Wn(e,t){return\"function\"===typeof e?e(t):e?o.cloneElement(e,t):(0,Ct.jsx)(\"div\",(0,a.A)({},t))}const Yn=o.createContext({activeIndex:0,onNavigate:()=>{}}),Vn=[Hn,Rn],qn=[Kn,zn],Gn=[...Vn,...qn],Xn=o.forwardRef(function(e,t){const{render:n,orientation:r=\"both\",loop:s=!0,rtl:A=!1,cols:l=1,disabledIndices:c,activeIndex:u,onNavigate:d,itemSizes:f,dense:h=!1}=e,p=(0,i.A)(e,En),[g,m]=o.useState(0),v=null!=u?u:g,y=ot(null!=d?d:m),w=o.useRef([]),b=n&&\"function\"!==typeof n?n.props:{},B=o.useMemo(()=>({activeIndex:v,onNavigate:y}),[v,y]),x=l>1;const C=(0,a.A)((0,a.A)((0,a.A)({},p),b),{},{ref:t,\"aria-orientation\":\"both\"===r?void 0:r,onKeyDown(e){null==p.onKeyDown||p.onKeyDown(e),null==b.onKeyDown||b.onKeyDown(e),function(e){if(!Gn.includes(e.key))return;let t=v;const n=lt(w,c),i=ct(w,c),a=A?Hn:Rn,o=A?Rn:Hn;if(x){const o=f||Array.from({length:w.current.length},()=>({width:1,height:1})),u=ft(o,l,h),d=u.findIndex(e=>null!=e&&!gt(w,e,c)),p=u.reduce((e,t,n)=>null==t||gt(w,t,c)?e:n,-1),g=u[dt({current:u.map(e=>e?w.current[e]:null)},{event:e,orientation:r,loop:s,rtl:A,cols:l,disabledIndices:pt([...(\"function\"!==typeof c?c:null)||w.current.map((e,t)=>gt(w,t,c)?t:void 0),void 0],u),minIndex:d,maxIndex:p,prevIndex:ht(v>i?n:v,o,u,l,e.key===zn?\"bl\":e.key===a?\"tr\":\"tl\")})];null!=g&&(t=g)}const u={horizontal:[a],vertical:[zn],both:[a,zn]}[r],d={horizontal:[o],vertical:[Kn],both:[o,Kn]}[r],p=x?Gn:{horizontal:Vn,vertical:qn,both:Gn}[r];var g;t===v&&[...u,...d].includes(e.key)&&(t=s&&t===i&&u.includes(e.key)?n:s&&t===n&&d.includes(e.key)?i:ut(w,{startingIndex:t,decrement:d.includes(e.key),disabledIndices:c})),t===v||At(w,t)||(e.stopPropagation(),p.includes(e.key)&&e.preventDefault(),y(t),null==(g=w.current[t])||g.focus())}(e)}});return(0,Ct.jsx)(Yn.Provider,{value:B,children:(0,Ct.jsx)(Nn,{elementsRef:w,children:Wn(n,C)})})}),Jn=o.forwardRef(function(e,t){const{render:n}=e,r=(0,i.A)(e,_n),s=n&&\"function\"!==typeof n?n.props:{},{activeIndex:A,onNavigate:l}=o.useContext(Yn),{ref:c,index:u}=Mn(),d=Qn([c,t,s.ref]),f=A===u;return Wn(n,(0,a.A)((0,a.A)((0,a.A)({},r),s),{},{ref:d,tabIndex:f?0:-1,\"data-active\":f?\"\":void 0,onFocus(e){null==r.onFocus||r.onFocus(e),null==s.onFocus||s.onFocus(e),l(u)}}))}),Zn=(0,a.A)({},s);let $n=!1,er=0;const tr=()=>\"floating-ui-\"+Math.random().toString(36).slice(2,6)+er++;const nr=Zn.useId||function(){const[e,t]=o.useState(()=>$n?tr():void 0);return rt(()=>{null==e&&t(tr())},[]),o.useEffect(()=>{$n=!0},[]),e};const rr=o.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s,shift:A}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:p,style:{transform:g}={}}=e,m=(0,i.A)(e.style,Fn),v=(0,i.A)(e,On);const y=nr(),[w,b]=o.useState(!1);if(rt(()=>{if(!r)return;\"rtl\"===F(r).direction&&b(!0)},[r]),!r)return null;const[B,x]=n.split(\"-\"),C=\"top\"===B||\"bottom\"===B;let k=f;(C&&null!=A&&A.x||!C&&null!=A&&A.y)&&(k=null);const S=2*d,E=S/2,_=l/2*(u/-8+1),O=c/2*u/4,P=!!p,D=k&&\"end\"===x?\"bottom\":\"top\";let Q=k&&\"end\"===x?\"right\":\"left\";k&&w&&(Q=\"end\"===x?\"left\":\"right\");const U=null!=(null==s?void 0:s.x)?k||s.x:\"\",I=null!=(null==s?void 0:s.y)?k||s.y:\"\",N=p||\"M0,0 H\"+l+\" L\"+(l-_)+\",\"+(c-O)+\" Q\"+l/2+\",\"+c+\" \"+_+\",\"+(c-O)+\" Z\",M={top:P?\"rotate(180deg)\":\"\",left:P?\"rotate(90deg)\":\"rotate(-90deg)\",bottom:P?\"\":\"rotate(180deg)\",right:P?\"rotate(-90deg)\":\"rotate(90deg)\"}[B];return(0,Ct.jsxs)(\"svg\",(0,a.A)((0,a.A)({},v),{},{\"aria-hidden\":!0,ref:t,width:P?l:l+S,height:l,viewBox:\"0 0 \"+l+\" \"+(c>l?c:l),style:(0,a.A)({position:\"absolute\",pointerEvents:\"none\",[Q]:U,[D]:I,[B]:C||P?\"100%\":\"calc(100% - \"+S/2+\"px)\",transform:[M,g].filter(e=>!!e).join(\" \")},m),children:[S>0&&(0,Ct.jsx)(\"path\",{clipPath:\"url(#\"+y+\")\",fill:\"none\",stroke:h,strokeWidth:S+(p?0:1),d:N}),(0,Ct.jsx)(\"path\",{stroke:S&&!p?v.fill:\"none\",d:N}),(0,Ct.jsx)(\"clipPath\",{id:y,children:(0,Ct.jsx)(\"rect\",{x:-E,y:E*(P?-1:1),width:l+S,height:l})})]}))});function ir(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const ar=o.createContext(null),or=o.createContext(null),sr=()=>{var e;return(null==(e=o.useContext(ar))?void 0:e.id)||null},Ar=()=>o.useContext(or);function lr(e){const t=nr(),n=Ar(),r=sr(),i=e||r;return rt(()=>{if(!t)return;const e={id:t,parentId:i};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}},[n,t,i]),t}function cr(e){const{children:t,id:n}=e,r=sr();return(0,Ct.jsx)(ar.Provider,{value:o.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function ur(e){const{children:t}=e,n=o.useRef([]),r=o.useCallback(e=>{n.current=[...n.current,e]},[]),i=o.useCallback(e=>{n.current=n.current.filter(t=>t!==e)},[]),[a]=o.useState(()=>ir());return(0,Ct.jsx)(or.Provider,{value:o.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:a}),[r,i,a]),children:t})}function dr(e){return\"data-floating-ui-\"+e}function fr(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}const hr=dr(\"safe-polygon\");function pr(e,t,n){if(n&&!nt(n))return 0;if(\"number\"===typeof e)return e;if(\"function\"===typeof e){const n=e();return\"number\"===typeof n?n:null==n?void 0:n[t]}return null==e?void 0:e[t]}function gr(e){return\"function\"===typeof e?e():e}function mr(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:A}=e,{enabled:l=!0,delay:c=0,handleClose:u=null,mouseOnly:d=!1,restMs:h=0,move:p=!0}=t,g=Ar(),m=sr(),v=it(u),y=it(c),w=it(n),b=it(h),B=o.useRef(),x=o.useRef(-1),C=o.useRef(),k=o.useRef(-1),S=o.useRef(!0),E=o.useRef(!1),_=o.useRef(()=>{}),F=o.useRef(!1),O=ot(()=>{var e;const t=null==(e=i.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes(\"mouse\"))&&\"mousedown\"!==t});o.useEffect(()=>{if(l)return s.on(\"openchange\",e),()=>{s.off(\"openchange\",e)};function e(e){let{open:t}=e;t||(fr(x),fr(k),S.current=!0,F.current=!1)}},[l,s]),o.useEffect(()=>{if(!l)return;if(!v.current)return;if(!n)return;function e(e){O()&&r(!1,e,\"hover\")}const t=Ve(A.floating).documentElement;return t.addEventListener(\"mouseleave\",e),()=>{t.removeEventListener(\"mouseleave\",e)}},[A.floating,n,r,l,v,O]);const P=o.useCallback(function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=\"hover\");const i=pr(y.current,\"close\",B.current);i&&!C.current?(fr(x),x.current=window.setTimeout(()=>r(!1,e,n),i)):t&&(fr(x),r(!1,e,n))},[y,r]),D=ot(()=>{_.current(),C.current=void 0}),Q=ot(()=>{if(E.current){const e=Ve(A.floating).body;e.style.pointerEvents=\"\",e.removeAttribute(hr),E.current=!1}}),U=ot(()=>!!i.current.openEvent&&[\"click\",\"mousedown\"].includes(i.current.openEvent.type));o.useEffect(()=>{if(l&&f(A.domReference)){const r=A.domReference,i=A.floating;return n&&r.addEventListener(\"mouseleave\",o),p&&r.addEventListener(\"mousemove\",e,{once:!0}),r.addEventListener(\"mouseenter\",e),r.addEventListener(\"mouseleave\",t),i&&(i.addEventListener(\"mouseleave\",o),i.addEventListener(\"mouseenter\",s),i.addEventListener(\"mouseleave\",c)),()=>{n&&r.removeEventListener(\"mouseleave\",o),p&&r.removeEventListener(\"mousemove\",e),r.removeEventListener(\"mouseenter\",e),r.removeEventListener(\"mouseleave\",t),i&&(i.removeEventListener(\"mouseleave\",o),i.removeEventListener(\"mouseenter\",s),i.removeEventListener(\"mouseleave\",c))}}function e(e){if(fr(x),S.current=!1,d&&!nt(B.current)||gr(b.current)>0&&!pr(y.current,\"open\"))return;const t=pr(y.current,\"open\",B.current);t?x.current=window.setTimeout(()=>{w.current||r(!0,e,\"hover\")},t):n||r(!0,e,\"hover\")}function t(e){if(U())return void Q();_.current();const t=Ve(A.floating);if(fr(k),F.current=!1,v.current&&i.current.floatingContext){n||fr(x),C.current=v.current((0,a.A)((0,a.A)({},i.current.floatingContext),{},{tree:g,x:e.clientX,y:e.clientY,onClose(){Q(),D(),U()||P(e,!0,\"safe-polygon\")}}));const r=C.current;return t.addEventListener(\"mousemove\",r),void(_.current=()=>{t.removeEventListener(\"mousemove\",r)})}(\"touch\"!==B.current||!ze(A.floating,e.relatedTarget))&&P(e)}function o(e){U()||i.current.floatingContext&&(null==v.current||v.current((0,a.A)((0,a.A)({},i.current.floatingContext),{},{tree:g,x:e.clientX,y:e.clientY,onClose(){Q(),D(),U()||P(e)}}))(e))}function s(){fr(x)}function c(e){U()||P(e,!1)}},[A,l,e,d,p,P,D,Q,r,n,w,g,y,v,i,U,b]),rt(()=>{var e;if(l&&n&&null!=(e=v.current)&&null!=(e=e.__options)&&e.blockPointerEvents&&O()){E.current=!0;const e=A.floating;if(f(A.domReference)&&e){var t;const n=Ve(A.floating).body;n.setAttribute(hr,\"\");const r=A.domReference,i=null==g||null==(t=g.nodesRef.current.find(e=>e.id===m))||null==(t=t.context)?void 0:t.elements.floating;return i&&(i.style.pointerEvents=\"\"),n.style.pointerEvents=\"none\",r.style.pointerEvents=\"auto\",e.style.pointerEvents=\"auto\",()=>{n.style.pointerEvents=\"\",r.style.pointerEvents=\"\",e.style.pointerEvents=\"\"}}}},[l,n,m,A,g,v,O]),rt(()=>{n||(B.current=void 0,F.current=!1,D(),Q())},[n,D,Q]),o.useEffect(()=>()=>{D(),fr(x),fr(k),Q()},[l,A.domReference,D,Q]);const I=o.useMemo(()=>{function e(e){B.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e;function i(){S.current||w.current||r(!0,t,\"hover\")}d&&!nt(B.current)||n||0===gr(b.current)||F.current&&e.movementX**2+e.movementY**2<2||(fr(k),\"touch\"===B.current?i():(F.current=!0,k.current=window.setTimeout(i,gr(b.current))))}}},[d,r,n,w,b]);return o.useMemo(()=>l?{reference:I}:{},[l,I])}const vr=()=>{},yr=o.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:vr,setState:vr,isInstantPhase:!1}),wr=()=>o.useContext(yr);function br(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,s]=o.useReducer((e,t)=>(0,a.A)((0,a.A)({},e),t),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),A=o.useRef(null),l=o.useCallback(e=>{s({currentId:e})},[]);return rt(()=>{i.currentId?null===A.current?A.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),A.current=null)},[i.currentId,i.isInstantPhase]),(0,Ct.jsx)(yr.Provider,{value:o.useMemo(()=>(0,a.A)((0,a.A)({},i),{},{setState:s,setCurrentId:l}),[i,l]),children:t})}function Br(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:a,enabled:o=!0}=t,s=null!=a?a:i,A=wr(),{currentId:l,setCurrentId:c,initialDelay:u,setState:d,timeoutMs:f}=A;return rt(()=>{o&&l&&(d({delay:{open:1,close:pr(u,\"close\")}}),l!==s&&r(!1))},[o,s,r,d,l,u]),rt(()=>{function e(){r(!1),d({delay:u,currentId:null})}if(o&&l&&!n&&l===s){if(f){const t=window.setTimeout(e,f);return()=>{clearTimeout(t)}}e()}},[o,n,d,l,s,r,u,f]),rt(()=>{o&&c!==vr&&n&&c(s)},[o,n,c,s]),A}const xr=o.createContext({hasProvider:!1,timeoutMs:0,delayRef:{current:0},initialDelayRef:{current:0},timeoutIdRef:{current:-1},currentIdRef:{current:null},currentContextRef:{current:null}});function Cr(e){const{children:t,delay:n,timeoutMs:r=0}=e,i=o.useRef(n),a=o.useRef(n),s=o.useRef(null),A=o.useRef(null),l=o.useRef(-1);return(0,Ct.jsx)(xr.Provider,{value:o.useMemo(()=>({hasProvider:!0,delayRef:i,initialDelayRef:a,currentIdRef:s,timeoutMs:r,currentContextRef:A,timeoutIdRef:l}),[r]),children:t})}function kr(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{enabled:a=!0}=t,s=o.useContext(xr),{currentIdRef:A,delayRef:l,timeoutMs:c,initialDelayRef:u,currentContextRef:d,hasProvider:f,timeoutIdRef:h}=s,[p,g]=o.useState(!1);return rt(()=>{function e(){var e;g(!1),null==(e=d.current)||e.setIsInstantPhase(!1),A.current=null,d.current=null,l.current=u.current}if(a&&A.current&&!n&&A.current===i){if(g(!1),c)return h.current=window.setTimeout(e,c),()=>{clearTimeout(h.current)};e()}},[a,n,i,A,l,c,u,d,h]),rt(()=>{if(!a)return;if(!n)return;const e=d.current,t=A.current;d.current={onOpenChange:r,setIsInstantPhase:g},A.current=i,l.current={open:0,close:pr(u.current,\"close\")},null!==t&&t!==i?(fr(h),g(!0),null==e||e.setIsInstantPhase(!0),null==e||e.onOpenChange(!1)):(g(!1),null==e||e.setIsInstantPhase(!1))},[a,n,i,r,A,l,c,u,d,h]),rt(()=>()=>{d.current=null},[d]),o.useMemo(()=>({hasProvider:f,delayRef:l,isInstantPhase:p}),[f,l,p])}let Sr=0;function Er(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(Sr);const a=()=>null==e?void 0:e.focus({preventScroll:n});i?a():Sr=requestAnimationFrame(a)}function _r(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&p(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}const Fr={inert:new WeakMap,\"aria-hidden\":new WeakMap,none:new WeakMap};function Or(e){return\"inert\"===e?Fr.inert:\"aria-hidden\"===e?Fr[\"aria-hidden\"]:Fr.none}let Pr=new WeakSet,Dr={},Qr=0;const Ur=()=>\"undefined\"!==typeof HTMLElement&&\"inert\"in HTMLElement.prototype,Ir=e=>e&&(e.host||Ir(e.parentNode)),Nr=(e,t)=>t.map(t=>{if(e.contains(t))return t;const n=Ir(t);return e.contains(n)?n:null}).filter(e=>null!=e);function Mr(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=(i=e[0],(null==i?void 0:i.ownerDocument)||document).body;var i;return function(e,t,n,r){const i=\"data-floating-ui-inert\",a=r?\"inert\":n?\"aria-hidden\":null,o=Nr(t,e),s=new Set,A=new Set(o),c=[];Dr[i]||(Dr[i]=new WeakMap);const u=Dr[i];return o.forEach(function e(t){t&&!s.has(t)&&(s.add(t),t.parentNode&&e(t.parentNode))}),function e(t){t&&!A.has(t)&&[].forEach.call(t.children,t=>{if(\"script\"!==l(t))if(s.has(t))e(t);else{const e=a?t.getAttribute(a):null,n=null!==e&&\"false\"!==e,r=Or(a),o=(r.get(t)||0)+1,s=(u.get(t)||0)+1;r.set(t,o),u.set(t,s),c.push(t),1===o&&n&&Pr.add(t),1===s&&t.setAttribute(i,\"\"),!n&&a&&t.setAttribute(a,\"inert\"===a?\"\":\"true\")}})}(t),s.clear(),Qr++,()=>{c.forEach(e=>{const t=Or(a),n=(t.get(e)||0)-1,r=(u.get(e)||0)-1;t.set(e,n),u.set(e,r),n||(!Pr.has(e)&&a&&e.removeAttribute(a),Pr.delete(e)),r||e.removeAttribute(i)}),Qr--,Qr||(Fr.inert=new WeakMap,Fr[\"aria-hidden\"]=new WeakMap,Fr.none=new WeakMap,Pr=new WeakSet,Dr={})}}(e.concat(Array.from(r.querySelectorAll('[aria-live],[role=\"status\"],output'))),r,t,n)}const Lr={border:0,clip:\"rect(0 0 0 0)\",height:\"1px\",margin:\"-1px\",overflow:\"hidden\",padding:0,position:\"fixed\",whiteSpace:\"nowrap\",width:\"1px\",top:0,left:0},jr=o.forwardRef(function(e,t){const[n,r]=o.useState();rt(()=>{Ue()&&r(\"button\")},[]);const i={ref:t,tabIndex:0,role:n,\"aria-hidden\":!n||void 0,[dr(\"focus-guard\")]:\"\",style:Lr};return(0,Ct.jsx)(\"span\",(0,a.A)((0,a.A)({},e),i))}),Tr=o.createContext(null),Hr=dr(\"portal\");function Rr(e){void 0===e&&(e={});const{id:t,root:n}=e,r=nr(),i=zr(),[a,s]=o.useState(null),A=o.useRef(null);return rt(()=>()=>{null==a||a.remove(),queueMicrotask(()=>{A.current=null})},[a]),rt(()=>{if(!r)return;if(A.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement(\"div\");n.id=r,n.setAttribute(Hr,\"\"),e.appendChild(n),A.current=n,s(n)},[t,r]),rt(()=>{if(null===n)return;if(!r)return;if(A.current)return;let e=n||(null==i?void 0:i.portalNode);e&&!d(e)&&(e=e.current),e=e||document.body;let a=null;t&&(a=document.createElement(\"div\"),a.id=t,e.appendChild(a));const o=document.createElement(\"div\");o.id=r,o.setAttribute(Hr,\"\"),e=a||e,e.appendChild(o),A.current=o,s(o)},[t,n,r,i]),a}function Kr(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,a=Rr({id:n,root:r}),[s,A]=o.useState(null),l=o.useRef(null),c=o.useRef(null),u=o.useRef(null),d=o.useRef(null),f=null==s?void 0:s.modal,h=null==s?void 0:s.open,p=!!s&&!s.modal&&s.open&&i&&!(!r&&!a);return o.useEffect(()=>{if(a&&i&&!f)return a.addEventListener(\"focusin\",e,!0),a.addEventListener(\"focusout\",e,!0),()=>{a.removeEventListener(\"focusin\",e,!0),a.removeEventListener(\"focusout\",e,!0)};function e(e){if(a&&bt(e)){(\"focusin\"===e.type?xt:Bt)(a)}}},[a,i,f]),o.useEffect(()=>{a&&(h||xt(a))},[h,a]),(0,Ct.jsxs)(Tr.Provider,{value:o.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:u,afterInsideRef:d,portalNode:a,setFocusManagerState:A}),[i,a]),children:[p&&a&&(0,Ct.jsx)(jr,{\"data-type\":\"outside\",ref:l,onFocus:e=>{if(bt(e,a)){var t;null==(t=u.current)||t.focus()}else{const e=wt(s?s.domReference:null);null==e||e.focus()}}}),p&&a&&(0,Ct.jsx)(\"span\",{\"aria-owns\":a.id,style:Lr}),a&&kt.createPortal(t,a),p&&a&&(0,Ct.jsx)(jr,{\"data-type\":\"outside\",ref:c,onFocus:e=>{if(bt(e,a)){var t;null==(t=d.current)||t.focus()}else{const t=yt(s?s.domReference:null);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,\"focus-out\"))}}})]})}const zr=()=>o.useContext(Tr);function Wr(e){return o.useMemo(()=>t=>{e.forEach(e=>{e&&(e.current=t)})},e)}const Yr=20;let Vr=[];function qr(){Vr=Vr.filter(e=>e.isConnected)}function Gr(){return qr(),Vr[Vr.length-1]}function Xr(e,t){var n;if(!t.current.includes(\"floating\")&&(null==(n=e.getAttribute(\"role\"))||!n.includes(\"dialog\")))return;const r=mt(),i=Oe(e,r).filter(e=>{const t=e.getAttribute(\"data-tabindex\")||\"\";return Pe(e,r)||e.hasAttribute(\"data-tabindex\")&&!t.startsWith(\"-\")}),a=e.getAttribute(\"tabindex\");t.current.includes(\"floating\")||0===i.length?\"0\"!==a&&e.setAttribute(\"tabindex\",\"0\"):(\"-1\"!==a||e.hasAttribute(\"data-tabindex\")&&\"-1\"!==e.getAttribute(\"data-tabindex\"))&&(e.setAttribute(\"tabindex\",\"-1\"),e.setAttribute(\"data-tabindex\",\"-1\"))}const Jr=o.forwardRef(function(e,t){return(0,Ct.jsx)(\"button\",(0,a.A)((0,a.A)({},e),{},{type:\"button\",ref:t,tabIndex:-1,style:Lr}))});function Zr(e){const{context:t,children:n,disabled:r=!1,order:i=[\"content\"],guards:a=!0,initialFocus:s=0,returnFocus:A=!0,restoreFocus:c=!1,modal:u=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:f=!0,outsideElementsInert:p=!1,getInsideElements:g=()=>[]}=e,{open:m,onOpenChange:v,events:y,dataRef:w,elements:{domReference:b,floating:B}}=t,x=ot(()=>{var e;return null==(e=w.current.floatingContext)?void 0:e.nodeId}),C=ot(g),k=\"number\"===typeof s&&s<0,S=Ge(b)&&k,E=Ur(),_=!E||a,F=!_||E&&p,O=it(i),P=it(s),D=it(A),Q=Ar(),U=zr(),I=o.useRef(null),N=o.useRef(null),M=o.useRef(!1),L=o.useRef(!1),j=o.useRef(-1),T=o.useRef(-1),H=null!=U,R=Xe(B),K=ot(function(e){return void 0===e&&(e=R),e?Fe(e,mt()):[]}),z=ot(e=>{const t=K(e);return O.current.map(e=>b&&\"reference\"===e?b:R&&\"floating\"===e?R:t).filter(Boolean).flat()});o.useEffect(()=>{if(r)return;if(!u)return;function e(e){if(\"Tab\"===e.key){ze(R,Ke(Ve(R)))&&0===K().length&&!S&&$e(e);const t=z(),n=We(e);\"reference\"===O.current[0]&&n===b&&($e(e),e.shiftKey?Er(t[t.length-1]):Er(t[1])),\"floating\"===O.current[1]&&n===R&&e.shiftKey&&($e(e),Er(t[0]))}}const t=Ve(R);return t.addEventListener(\"keydown\",e),()=>{t.removeEventListener(\"keydown\",e)}},[r,b,R,u,O,S,K,z]),o.useEffect(()=>{if(!r&&B)return B.addEventListener(\"focusin\",e),()=>{B.removeEventListener(\"focusin\",e)};function e(e){const t=We(e),n=K().indexOf(t);-1!==n&&(j.current=n)}},[r,B,K]),o.useEffect(()=>{if(r)return;if(!f)return;function e(){L.current=!0,setTimeout(()=>{L.current=!1})}function t(e){const t=e.relatedTarget,n=e.currentTarget,r=We(e);queueMicrotask(()=>{const i=x(),a=!(ze(b,t)||ze(B,t)||ze(t,B)||ze(null==U?void 0:U.portalNode,t)||null!=t&&t.hasAttribute(dr(\"focus-guard\"))||Q&&(Je(Q.nodesRef.current,i).find(e=>{var n,r;return ze(null==(n=e.context)?void 0:n.elements.floating,t)||ze(null==(r=e.context)?void 0:r.elements.domReference,t)})||Ze(Q.nodesRef.current,i).find(e=>{var n,r,i;return[null==(n=e.context)?void 0:n.elements.floating,Xe(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(i=e.context)?void 0:i.elements.domReference)===t})));if(n===b&&R&&Xr(R,O),c&&n!==b&&(null==r||!r.isConnected)&&Ke(Ve(R))===Ve(R).body){h(R)&&R.focus();const e=j.current,t=K(),n=t[e]||t[t.length-1]||R;h(n)&&n.focus()}w.current.insideReactTree?w.current.insideReactTree=!1:!S&&u||!t||!a||L.current||t===Gr()||(M.current=!0,v(!1,e,\"focus-out\"))})}const n=Boolean(!Q&&U);function i(){fr(T),w.current.insideReactTree=!0,T.current=window.setTimeout(()=>{w.current.insideReactTree=!1})}return B&&h(b)?(b.addEventListener(\"focusout\",t),b.addEventListener(\"pointerdown\",e),B.addEventListener(\"focusout\",t),n&&B.addEventListener(\"focusout\",i,!0),()=>{b.removeEventListener(\"focusout\",t),b.removeEventListener(\"pointerdown\",e),B.removeEventListener(\"focusout\",t),n&&B.removeEventListener(\"focusout\",i,!0)}):void 0},[r,b,B,R,u,Q,U,v,f,c,K,S,x,O,w]);const W=o.useRef(null),Y=o.useRef(null),V=Wr([W,null==U?void 0:U.beforeInsideRef]),q=Wr([Y,null==U?void 0:U.afterInsideRef]);function G(e){return!r&&d&&u?(0,Ct.jsx)(Jr,{ref:\"start\"===e?I:N,onClick:e=>v(!1,e.nativeEvent),children:\"string\"===typeof d?d:\"Dismiss\"}):null}o.useEffect(()=>{var e,t;if(r)return;if(!B)return;const n=Array.from((null==U||null==(e=U.portalNode)?void 0:e.querySelectorAll(\"[\"+dr(\"portal\")+\"]\"))||[]),i=null==(t=(Q?Ze(Q.nodesRef.current,x()):[]).find(e=>{var t;return Ge((null==(t=e.context)?void 0:t.elements.domReference)||null)}))||null==(t=t.context)?void 0:t.elements.domReference,a=[B,i,...n,...C(),I.current,N.current,W.current,Y.current,null==U?void 0:U.beforeOutsideRef.current,null==U?void 0:U.afterOutsideRef.current,O.current.includes(\"reference\")||S?b:null].filter(e=>null!=e),o=u||S?Mr(a,!F,F):Mr(a);return()=>{o()}},[r,b,B,u,O,U,S,_,F,Q,x,C]),rt(()=>{if(r||!h(R))return;const e=Ke(Ve(R));queueMicrotask(()=>{const t=z(R),n=P.current,r=(\"number\"===typeof n?t[n]:n.current)||R,i=ze(R,e);k||i||!m||Er(r,{preventScroll:r===R})})},[r,m,R,k,z,P]),rt(()=>{if(r||!R)return;const e=Ve(R),t=Ke(e);var n;function i(e){let{reason:t,event:n,nested:r}=e;if([\"hover\",\"safe-polygon\"].includes(t)&&\"mouseleave\"===n.type&&(M.current=!0),\"outside-press\"===t)if(r)M.current=!1;else if(et(n)||tt(n))M.current=!1;else{let e=!1;document.createElement(\"div\").focus({get preventScroll(){return e=!0,!1}}),M.current=!e}}n=t,qr(),n&&\"body\"!==l(n)&&(Vr.push(n),Vr.length>Yr&&(Vr=Vr.slice(-20))),y.on(\"openchange\",i);const a=e.createElement(\"span\");return a.setAttribute(\"tabindex\",\"-1\"),a.setAttribute(\"aria-hidden\",\"true\"),Object.assign(a.style,Lr),H&&b&&b.insertAdjacentElement(\"afterend\",a),()=>{y.off(\"openchange\",i);const t=Ke(e),n=ze(B,t)||Q&&Je(Q.nodesRef.current,x(),!1).some(e=>{var n;return ze(null==(n=e.context)?void 0:n.elements.floating,t)}),r=function(){if(\"boolean\"===typeof D.current){const e=b||Gr();return e&&e.isConnected?e:a}return D.current.current||a}();queueMicrotask(()=>{const i=function(e){const t=mt();return Pe(e,t)?e:Fe(e,t)[0]||e}(r);D.current&&!M.current&&h(i)&&(i===t||t===e.body||n)&&i.focus({preventScroll:!0}),a.remove()})}},[r,B,R,D,w,y,Q,H,b,x]),o.useEffect(()=>(queueMicrotask(()=>{M.current=!1}),()=>{queueMicrotask(qr)}),[r]),rt(()=>{if(!r&&U)return U.setFocusManagerState({modal:u,closeOnFocusOut:f,open:m,onOpenChange:v,domReference:b}),()=>{U.setFocusManagerState(null)}},[r,U,u,m,v,f,b]),rt(()=>{r||R&&Xr(R,O)},[r,R,O]);const X=!r&&_&&(!u||!S)&&(H||u);return(0,Ct.jsxs)(Ct.Fragment,{children:[X&&(0,Ct.jsx)(jr,{\"data-type\":\"inside\",ref:V,onFocus:e=>{if(u){const e=z();Er(\"reference\"===i[0]?e[0]:e[e.length-1])}else if(null!=U&&U.preserveTabOrder&&U.portalNode)if(M.current=!1,bt(e,U.portalNode)){const e=yt(b);null==e||e.focus()}else{var t;null==(t=U.beforeOutsideRef.current)||t.focus()}}}),!S&&G(\"start\"),n,G(\"end\"),X&&(0,Ct.jsx)(jr,{\"data-type\":\"inside\",ref:q,onFocus:e=>{if(u)Er(z()[0]);else if(null!=U&&U.preserveTabOrder&&U.portalNode)if(f&&(M.current=!0),bt(e,U.portalNode)){const e=wt(b);null==e||e.focus()}else{var t;null==(t=U.afterOutsideRef.current)||t.focus()}}})]})}let $r=0;const ei=\"--floating-ui-scrollbar-width\";let ti=()=>{};const ni=o.forwardRef(function(e,t){const{lockScroll:n=!1}=e,r=(0,i.A)(e,Pn);return rt(()=>{if(n)return $r++,1===$r&&(ti=function(){const e=De(),t=/iP(hone|ad|od)|iOS/.test(e)||\"MacIntel\"===e&&navigator.maxTouchPoints>1,n=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?\"paddingLeft\":\"paddingRight\",i=window.innerWidth-document.documentElement.clientWidth,a=n.left?parseFloat(n.left):window.scrollX,o=n.top?parseFloat(n.top):window.scrollY;if(n.overflow=\"hidden\",n.setProperty(ei,i+\"px\"),i&&(n[r]=i+\"px\"),t){var s,A;const e=(null==(s=window.visualViewport)?void 0:s.offsetLeft)||0,t=(null==(A=window.visualViewport)?void 0:A.offsetTop)||0;Object.assign(n,{position:\"fixed\",top:-(o-Math.floor(t))+\"px\",left:-(a-Math.floor(e))+\"px\",right:\"0\"})}return()=>{Object.assign(n,{overflow:\"\",[r]:\"\"}),n.removeProperty(ei),t&&(Object.assign(n,{position:\"\",top:\"\",left:\"\",right:\"\"}),window.scrollTo(a,o))}}()),()=>{$r--,0===$r&&ti()}},[n]),(0,Ct.jsx)(\"div\",(0,a.A)((0,a.A)({ref:t},r),{},{style:(0,a.A)({position:\"fixed\",overflow:\"auto\",top:0,right:0,bottom:0,left:0},r.style)}))});function ri(e){return h(e.target)&&\"BUTTON\"===e.target.tagName}function ii(e){return qe(e)}function ai(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:a}}=e,{enabled:s=!0,event:A=\"click\",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:u=!0,stickIfOpen:d=!0}=t,f=o.useRef(),p=o.useRef(!1),g=o.useMemo(()=>({onPointerDown(e){f.current=e.pointerType},onMouseDown(e){const t=f.current;0===e.button&&\"click\"!==A&&(nt(t,!0)&&c||(!n||!l||i.current.openEvent&&d&&\"mousedown\"!==i.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,\"click\")):r(!1,e.nativeEvent,\"click\")))},onClick(e){const t=f.current;\"mousedown\"===A&&f.current?f.current=void 0:nt(t,!0)&&c||(!n||!l||i.current.openEvent&&d&&\"click\"!==i.current.openEvent.type?r(!0,e.nativeEvent,\"click\"):r(!1,e.nativeEvent,\"click\"))},onKeyDown(e){f.current=void 0,e.defaultPrevented||!u||ri(e)||(\" \"!==e.key||ii(a)||(e.preventDefault(),p.current=!0),function(e){return h(e.target)&&\"A\"===e.target.tagName}(e)||\"Enter\"===e.key&&r(!n||!l,e.nativeEvent,\"click\"))},onKeyUp(e){e.defaultPrevented||!u||ri(e)||ii(a)||\" \"===e.key&&p.current&&(p.current=!1,r(!n||!l,e.nativeEvent,\"click\"))}}),[i,a,A,c,u,r,n,d,l]);return o.useMemo(()=>s?{reference:g}:{},[s,g])}function oi(e){return null!=e&&null!=e.clientX}function si(e,t){void 0===t&&(t={});const{open:n,dataRef:r,elements:{floating:i,domReference:a},refs:s}=e,{enabled:A=!0,axis:l=\"both\",x:u=null,y:d=null}=t,f=o.useRef(!1),h=o.useRef(null),[p,g]=o.useState(),[m,v]=o.useState([]),y=ot((e,t)=>{f.current||r.current.openEvent&&!oi(r.current.openEvent)||s.setPositionReference(function(e,t){let n=null,r=null,i=!1;return{contextElement:e||void 0,getBoundingClientRect(){var a;const o=(null==e?void 0:e.getBoundingClientRect())||{width:0,height:0,x:0,y:0},s=\"x\"===t.axis||\"both\"===t.axis,A=\"y\"===t.axis||\"both\"===t.axis,l=[\"mouseenter\",\"mousemove\"].includes((null==(a=t.dataRef.current.openEvent)?void 0:a.type)||\"\")&&\"touch\"!==t.pointerType;let c=o.width,u=o.height,d=o.x,f=o.y;return null==n&&t.x&&s&&(n=o.x-t.x),null==r&&t.y&&A&&(r=o.y-t.y),d-=n||0,f-=r||0,c=0,u=0,!i||l?(c=\"y\"===t.axis?o.width:0,u=\"x\"===t.axis?o.height:0,d=s&&null!=t.x?t.x:d,f=A&&null!=t.y?t.y:f):i&&!l&&(u=\"x\"===t.axis?o.height:u,c=\"y\"===t.axis?o.width:c),i=!0,{width:c,height:u,x:d,y:f,top:f,right:d+c,bottom:f+u,left:d}}}}(a,{x:e,y:t,axis:l,dataRef:r,pointerType:p}))}),w=ot(e=>{null==u&&null==d&&(n?h.current||v([]):y(e.clientX,e.clientY))}),b=nt(p)?i:n,B=o.useCallback(()=>{if(!b||!A||null!=u||null!=d)return;const e=c(i);function t(n){const r=We(n);ze(i,r)?(e.removeEventListener(\"mousemove\",t),h.current=null):y(n.clientX,n.clientY)}if(!r.current.openEvent||oi(r.current.openEvent)){e.addEventListener(\"mousemove\",t);const n=()=>{e.removeEventListener(\"mousemove\",t),h.current=null};return h.current=n,n}s.setPositionReference(a)},[b,A,u,d,i,r,s,a,y]);o.useEffect(()=>B(),[B,m]),o.useEffect(()=>{A&&!i&&(f.current=!1)},[A,i]),o.useEffect(()=>{!A&&n&&(f.current=!0)},[A,n]),rt(()=>{!A||null==u&&null==d||(f.current=!1,y(u,d))},[A,u,d,y]);const x=o.useMemo(()=>{function e(e){let{pointerType:t}=e;g(t)}return{onPointerDown:e,onPointerEnter:e,onMouseMove:w,onMouseEnter:w}},[w]);return o.useMemo(()=>A?{reference:x}:{},[A,x])}const Ai={pointerdown:\"onPointerDown\",mousedown:\"onMouseDown\",click:\"onClick\"},li={pointerdown:\"onPointerDownCapture\",mousedown:\"onMouseDownCapture\",click:\"onClickCapture\"},ci=e=>{var t,n;return{escapeKey:\"boolean\"===typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:\"boolean\"===typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function ui(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:A=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:u=\"pointerdown\",referencePress:d=!1,referencePressEvent:p=\"pointerdown\",ancestorScroll:g=!1,bubbles:m,capture:v}=t,y=Ar(),w=ot(\"function\"===typeof c?c:()=>!1),b=\"function\"===typeof c?w:c,B=o.useRef(!1),{escapeKey:x,outsidePress:C}=ci(m),{escapeKey:k,outsidePress:E}=ci(v),O=o.useRef(!1),D=ot(e=>{var t;if(!n||!A||!l||\"Escape\"!==e.key)return;if(O.current)return;const i=null==(t=s.current.floatingContext)?void 0:t.nodeId,a=y?Je(y.nodesRef.current,i):[];if(!x&&(e.stopPropagation(),a.length>0)){let e=!0;if(a.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)}),!e)return}r(!1,function(e){return\"nativeEvent\"in e}(e)?e.nativeEvent:e,\"escape-key\")}),U=ot(e=>{var t;const n=()=>{var t;D(e),null==(t=We(e))||t.removeEventListener(\"keydown\",n)};null==(t=We(e))||t.addEventListener(\"keydown\",n)}),I=ot(e=>{var t;const n=s.current.insideReactTree;s.current.insideReactTree=!1;const a=B.current;if(B.current=!1,\"click\"===u&&a)return;if(n)return;if(\"function\"===typeof b&&!b(e))return;const o=We(e),A=\"[\"+dr(\"inert\")+\"]\",l=Ve(i.floating).querySelectorAll(A);let c=f(o)?o:null;for(;c&&!_(c);){const e=P(c);if(_(e)||!f(e))break;c=e}if(l.length&&f(o)&&!o.matches(\"html,body\")&&!ze(o,i.floating)&&Array.from(l).every(e=>!ze(c,e)))return;if(h(o)&&L){const t=_(o),n=F(o),r=/auto|scroll/,i=t||r.test(n.overflowX),a=t||r.test(n.overflowY),s=i&&o.clientWidth>0&&o.scrollWidth>o.clientWidth,A=a&&o.clientHeight>0&&o.scrollHeight>o.clientHeight,l=\"rtl\"===n.direction,c=A&&(l?e.offsetX<=o.offsetWidth-o.clientWidth:e.offsetX>o.clientWidth),u=s&&e.offsetY>o.clientHeight;if(c||u)return}const d=null==(t=s.current.floatingContext)?void 0:t.nodeId,p=y&&Je(y.nodesRef.current,d).some(t=>{var n;return Ye(e,null==(n=t.context)?void 0:n.elements.floating)});if(Ye(e,i.floating)||Ye(e,i.domReference)||p)return;const g=y?Je(y.nodesRef.current,d):[];if(g.length>0){let e=!0;if(g.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)}),!e)return}r(!1,e,\"outside-press\")}),N=ot(e=>{var t;const n=()=>{var t;I(e),null==(t=We(e))||t.removeEventListener(u,n)};null==(t=We(e))||t.addEventListener(u,n)});o.useEffect(()=>{if(!n||!A)return;s.current.__escapeKeyBubbles=x,s.current.__outsidePressBubbles=C;let e=-1;function t(e){r(!1,e,\"ancestor-scroll\")}function a(){window.clearTimeout(e),O.current=!0}function o(){e=window.setTimeout(()=>{O.current=!1},S()?5:0)}const c=Ve(i.floating);l&&(c.addEventListener(\"keydown\",k?U:D,k),c.addEventListener(\"compositionstart\",a),c.addEventListener(\"compositionend\",o)),b&&c.addEventListener(u,E?N:I,E);let d=[];return g&&(f(i.domReference)&&(d=Q(i.domReference)),f(i.floating)&&(d=d.concat(Q(i.floating))),!f(i.reference)&&i.reference&&i.reference.contextElement&&(d=d.concat(Q(i.reference.contextElement)))),d=d.filter(e=>{var t;return e!==(null==(t=c.defaultView)?void 0:t.visualViewport)}),d.forEach(e=>{e.addEventListener(\"scroll\",t,{passive:!0})}),()=>{l&&(c.removeEventListener(\"keydown\",k?U:D,k),c.removeEventListener(\"compositionstart\",a),c.removeEventListener(\"compositionend\",o)),b&&c.removeEventListener(u,E?N:I,E),d.forEach(e=>{e.removeEventListener(\"scroll\",t)}),window.clearTimeout(e)}},[s,i,l,b,u,n,r,g,A,x,C,D,k,U,I,E,N]),o.useEffect(()=>{s.current.insideReactTree=!1},[s,b,u]);const M=o.useMemo(()=>(0,a.A)({onKeyDown:D},d&&(0,a.A)({[Ai[p]]:e=>{r(!1,e.nativeEvent,\"reference-press\")}},\"click\"!==p&&{onClick(e){r(!1,e.nativeEvent,\"reference-press\")}})),[D,r,d,p]),L=o.useMemo(()=>({onKeyDown:D,onMouseDown(){B.current=!0},onMouseUp(){B.current=!0},[li[u]]:()=>{s.current.insideReactTree=!0}}),[D,u,s]);return o.useMemo(()=>A?{reference:M,floating:L}:{},[A,M,L])}function di(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=nr(),a=o.useRef({}),[s]=o.useState(()=>ir()),A=null!=sr();const[l,c]=o.useState(r.reference),u=ot((e,t,r)=>{a.current.openEvent=e?t:void 0,s.emit(\"openchange\",{open:e,event:t,reason:r,nested:A}),null==n||n(e,t,r)}),d=o.useMemo(()=>({setPositionReference:c}),[]),f=o.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return o.useMemo(()=>({dataRef:a,open:t,onOpenChange:u,elements:f,events:s,floatingId:i,refs:d}),[t,u,f,s,i,d])}function fi(e){void 0===e&&(e={});const{nodeId:t}=e,n=di((0,a.A)((0,a.A)({},e),{},{elements:(0,a.A)({reference:null,floating:null},e.elements)})),r=e.rootContext||n,i=r.elements,[s,A]=o.useState(null),[l,c]=o.useState(null),u=(null==i?void 0:i.domReference)||s,d=o.useRef(null),h=Ar();rt(()=>{u&&(d.current=u)},[u]);const p=function(e){void 0===e&&(e={});const{placement:t=\"bottom\",strategy:n=\"absolute\",middleware:r=[],platform:i,elements:{reference:s,floating:A}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=o.useState(r);hn(h,r)||p(r);const[g,m]=o.useState(null),[v,y]=o.useState(null),w=o.useCallback(e=>{e!==C.current&&(C.current=e,m(e))},[]),b=o.useCallback(e=>{e!==k.current&&(k.current=e,y(e))},[]),B=s||g,x=A||v,C=o.useRef(null),k=o.useRef(null),S=o.useRef(d),E=null!=c,_=mn(c),F=mn(i),O=mn(u),P=o.useCallback(()=>{if(!C.current||!k.current)return;const e={placement:t,strategy:n,middleware:h};F.current&&(e.platform=F.current),dn(C.current,k.current,e).then(e=>{const t=(0,a.A)((0,a.A)({},e),{},{isPositioned:!1!==O.current});D.current&&!hn(S.current,t)&&(S.current=t,kt.flushSync(()=>{f(t)}))})},[h,t,n,F,O]);fn(()=>{!1===u&&S.current.isPositioned&&(S.current.isPositioned=!1,f(e=>(0,a.A)((0,a.A)({},e),{},{isPositioned:!1})))},[u]);const D=o.useRef(!1);fn(()=>(D.current=!0,()=>{D.current=!1}),[]),fn(()=>{if(B&&(C.current=B),x&&(k.current=x),B&&x){if(_.current)return _.current(B,x,P);P()}},[B,x,P,_,E]);const Q=o.useMemo(()=>({reference:C,floating:k,setReference:w,setFloating:b}),[w,b]),U=o.useMemo(()=>({reference:B,floating:x}),[B,x]),I=o.useMemo(()=>{const e={position:n,left:0,top:0};if(!U.floating)return e;const t=gn(U.floating,d.x),r=gn(U.floating,d.y);return l?(0,a.A)((0,a.A)({},e),{},{transform:\"translate(\"+t+\"px, \"+r+\"px)\"},pn(U.floating)>=1.5&&{willChange:\"transform\"}):{position:n,left:t,top:r}},[n,l,U.floating,d.x,d.y]);return o.useMemo(()=>(0,a.A)((0,a.A)({},d),{},{update:P,refs:Q,elements:U,floatingStyles:I}),[d,P,Q,U,I])}((0,a.A)((0,a.A)({},e),{},{elements:(0,a.A)((0,a.A)({},i),l&&{reference:l})})),g=o.useCallback(e=>{const t=f(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),p.refs.setReference(t)},[p.refs]),m=o.useCallback(e=>{(f(e)||null===e)&&(d.current=e,A(e)),(f(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!f(e))&&p.refs.setReference(e)},[p.refs]),v=o.useMemo(()=>(0,a.A)((0,a.A)({},p.refs),{},{setReference:m,setPositionReference:g,domReference:d}),[p.refs,m,g]),y=o.useMemo(()=>(0,a.A)((0,a.A)({},p.elements),{},{domReference:u}),[p.elements,u]),w=o.useMemo(()=>(0,a.A)((0,a.A)((0,a.A)({},p),r),{},{refs:v,elements:y,nodeId:t}),[p,v,y,t,r]);return rt(()=>{r.dataRef.current.floatingContext=w;const e=null==h?void 0:h.nodesRef.current.find(e=>e.id===t);e&&(e.context=w)}),o.useMemo(()=>(0,a.A)((0,a.A)({},p),{},{context:w,refs:v,elements:y}),[p,v,y,w])}function hi(){return De().toLowerCase().startsWith(\"mac\")&&!navigator.maxTouchPoints&&Ue()}function pi(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:a,elements:s}=e,{enabled:A=!0,visibleOnly:l=!0}=t,u=o.useRef(!1),d=o.useRef(-1),p=o.useRef(!0);o.useEffect(()=>{if(!A)return;const e=c(s.domReference);function t(){!n&&h(s.domReference)&&s.domReference===Ke(Ve(s.domReference))&&(u.current=!0)}function r(){p.current=!0}function i(){p.current=!1}return e.addEventListener(\"blur\",t),hi()&&(e.addEventListener(\"keydown\",r,!0),e.addEventListener(\"pointerdown\",i,!0)),()=>{e.removeEventListener(\"blur\",t),hi()&&(e.removeEventListener(\"keydown\",r,!0),e.removeEventListener(\"pointerdown\",i,!0))}},[s.domReference,n,A]),o.useEffect(()=>{if(A)return i.on(\"openchange\",e),()=>{i.off(\"openchange\",e)};function e(e){let{reason:t}=e;\"reference-press\"!==t&&\"escape-key\"!==t||(u.current=!0)}},[i,A]),o.useEffect(()=>()=>{fr(d)},[]);const g=o.useMemo(()=>({onMouseLeave(){u.current=!1},onFocus(e){if(u.current)return;const t=We(e.nativeEvent);if(l&&f(t))if(hi()&&!e.relatedTarget){if(!p.current&&!qe(t))return}else if(!function(e){if(!e||Ne())return!0;try{return e.matches(\":focus-visible\")}catch(t){return!0}}(t))return;r(!0,e.nativeEvent,\"focus\")},onBlur(e){u.current=!1;const t=e.relatedTarget,n=e.nativeEvent,i=f(t)&&t.hasAttribute(dr(\"focus-guard\"))&&\"outside\"===t.getAttribute(\"data-type\");d.current=window.setTimeout(()=>{var e;const o=Ke(s.domReference?s.domReference.ownerDocument:document);(t||o!==s.domReference)&&(ze(null==(e=a.current.floatingContext)?void 0:e.refs.floating.current,o)||ze(s.domReference,o)||i||r(!1,n,\"focus\"))})}}),[a,s.domReference,r,l]);return o.useMemo(()=>A?{reference:g}:{},[A,g])}function gi(e,t,n){const o=new Map,s=\"item\"===n;let A=e;if(s&&e){const{[jn]:t,[Tn]:n}=e;A=(0,i.A)(e,[jn,Tn].map(r.A))}return(0,a.A)((0,a.A)((0,a.A)({},\"floating\"===n&&{tabIndex:-1,[Ln]:\"\"}),A),t.map(t=>{const r=t?t[n]:null;return\"function\"===typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,r]=t;var i;s&&[jn,Tn].includes(n)||(0===n.indexOf(\"on\")?(o.has(n)||o.set(n,[]),\"function\"===typeof r&&(null==(i=o.get(n))||i.push(r),e[n]=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null==(e=o.get(n))?void 0:e.map(e=>e(...r)).find(e=>void 0!==e)})):e[n]=r)}),e):e,{}))}function mi(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),i=o.useCallback(t=>gi(t,e,\"reference\"),t),a=o.useCallback(t=>gi(t,e,\"floating\"),n),s=o.useCallback(t=>gi(t,e,\"item\"),r);return o.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:s}),[i,a,s])}const vi=\"Escape\";function yi(e,t,n){switch(e){case\"vertical\":return t;case\"horizontal\":return n;default:return t||n}}function wi(e,t){return yi(t,e===Kn||e===zn,e===Hn||e===Rn)}function bi(e,t,n){return yi(t,e===zn,n?e===Hn:e===Rn)||\"Enter\"===e||\" \"===e||\"\"===e}function Bi(e,t,n){return yi(t,n?e===Hn:e===Rn,e===zn)}function xi(e,t,n,r){return\"both\"===t||\"horizontal\"===t&&r&&r>1?e===vi:yi(t,n?e===Rn:e===Hn,e===Kn)}function Ci(e,t){const{open:n,onOpenChange:r,elements:i,floatingId:s}=e,{listRef:A,activeIndex:l,onNavigate:c=()=>{},enabled:u=!0,selectedIndex:d=null,allowEscape:f=!1,loop:p=!1,nested:g=!1,rtl:m=!1,virtual:v=!1,focusItemOnOpen:y=\"auto\",focusItemOnHover:w=!0,openOnArrowKeyDown:b=!0,disabledIndices:B,orientation:x=\"vertical\",parentOrientation:C,cols:k=1,scrollItemIntoView:S=!0,virtualItemRef:E,itemSizes:_,dense:F=!1}=t;const O=it(Xe(i.floating)),P=sr(),D=Ar();rt(()=>{e.dataRef.current.orientation=x},[e,x]);const Q=ot(()=>{c(-1===N.current?null:N.current)}),U=Ge(i.domReference),I=o.useRef(y),N=o.useRef(null!=d?d:-1),M=o.useRef(null),L=o.useRef(!0),j=o.useRef(Q),T=o.useRef(!!i.floating),H=o.useRef(n),R=o.useRef(!1),K=o.useRef(!1),z=it(B),W=it(n),Y=it(S),V=it(d),[q,G]=o.useState(),[X,J]=o.useState(),Z=ot(()=>{function e(e){var t;v?(null!=(t=e.id)&&t.endsWith(\"-fui-option\")&&(e.id=s+\"-\"+Math.random().toString(16).slice(2,10)),G(e.id),null==D||D.events.emit(\"virtualfocus\",e),E&&(E.current=e)):Er(e,{sync:R.current,preventScroll:!0})}const t=A.current[N.current],n=K.current;t&&e(t);(R.current?e=>e():requestAnimationFrame)(()=>{const r=A.current[N.current]||t;if(!r)return;t||e(r);const i=Y.current;i&&ee&&(n||!L.current)&&(null==r.scrollIntoView||r.scrollIntoView(\"boolean\"===typeof i?{block:\"nearest\",inline:\"nearest\"}:i))})});rt(()=>{u&&(n&&i.floating?I.current&&null!=d&&(K.current=!0,N.current=d,Q()):T.current&&(N.current=-1,j.current()))},[u,n,i.floating,d,Q]),rt(()=>{if(u&&n&&i.floating)if(null==l){if(R.current=!1,null!=V.current)return;if(T.current&&(N.current=-1,Z()),(!H.current||!T.current)&&I.current&&(null!=M.current||!0===I.current&&null==M.current)){let e=0;const t=()=>{if(null==A.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else N.current=null==M.current||bi(M.current,x,m)||g?lt(A,z.current):ct(A,z.current),M.current=null,Q()};t()}}else At(A,l)||(N.current=l,Z(),K.current=!1)},[u,n,i.floating,l,V,g,A,x,m,Q,Z,z]),rt(()=>{var e;if(!u||i.floating||!D||v||!T.current)return;const t=D.nodesRef.current,n=null==(e=t.find(e=>e.id===P))||null==(e=e.context)?void 0:e.elements.floating,r=Ke(Ve(i.floating)),a=t.some(e=>e.context&&ze(e.context.elements.floating,r));n&&!a&&L.current&&n.focus({preventScroll:!0})},[u,i.floating,D,P,v]),rt(()=>{if(u&&D&&v&&!P)return D.events.on(\"virtualfocus\",e),()=>{D.events.off(\"virtualfocus\",e)};function e(e){J(e.id),E&&(E.current=e)}},[u,D,v,P,E]),rt(()=>{j.current=Q,H.current=n,T.current=!!i.floating}),rt(()=>{n||(M.current=null,I.current=y)},[n,y]);const $=null!=l,ee=o.useMemo(()=>{function e(e){if(!W.current)return;const t=A.current.indexOf(e);-1!==t&&N.current!==t&&(N.current=t,Q())}return{onFocus(t){let{currentTarget:n}=t;R.current=!0,e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},onMouseMove(t){let{currentTarget:n}=t;R.current=!0,K.current=!1,w&&e(n)},onPointerLeave(e){let{pointerType:t}=e;var n;L.current&&\"touch\"!==t&&(R.current=!0,w&&(N.current=-1,Q(),v||null==(n=O.current)||n.focus({preventScroll:!0})))}}},[W,O,w,A,Q,v]),te=o.useCallback(()=>{var e;return null!=C?C:null==D||null==(e=D.nodesRef.current.find(e=>e.id===P))||null==(e=e.context)||null==(e=e.dataRef)?void 0:e.current.orientation},[P,D,C]),ne=ot(e=>{if(L.current=!1,R.current=!0,229===e.which)return;if(!W.current&&e.currentTarget===O.current)return;if(g&&xi(e.key,x,m,k))return wi(e.key,te())||$e(e),r(!1,e.nativeEvent,\"list-navigation\"),void(h(i.domReference)&&(v?null==D||D.events.emit(\"virtualfocus\",i.domReference):i.domReference.focus()));const t=N.current,a=lt(A,B),o=ct(A,B);if(U||(\"Home\"===e.key&&($e(e),N.current=a,Q()),\"End\"===e.key&&($e(e),N.current=o,Q())),k>1){const t=_||Array.from({length:A.current.length},()=>({width:1,height:1})),n=ft(t,k,F),r=n.findIndex(e=>null!=e&&!gt(A,e,B)),i=n.reduce((e,t,n)=>null==t||gt(A,t,B)?e:n,-1),s=n[dt({current:n.map(e=>null!=e?A.current[e]:null)},{event:e,orientation:x,loop:p,rtl:m,cols:k,disabledIndices:pt([...(\"function\"!==typeof B?B:null)||A.current.map((e,t)=>gt(A,t,B)?t:void 0),void 0],n),minIndex:r,maxIndex:i,prevIndex:ht(N.current>o?a:N.current,t,n,k,e.key===zn?\"bl\":e.key===(m?Hn:Rn)?\"tr\":\"tl\"),stopEvent:!0})];if(null!=s&&(N.current=s,Q()),\"both\"===x)return}if(wi(e.key,x)){if($e(e),n&&!v&&Ke(e.currentTarget.ownerDocument)===e.currentTarget)return N.current=bi(e.key,x,m)?a:o,void Q();bi(e.key,x,m)?N.current=p?t>=o?f&&t!==A.current.length?-1:a:ut(A,{startingIndex:t,disabledIndices:B}):Math.min(o,ut(A,{startingIndex:t,disabledIndices:B})):N.current=p?t<=a?f&&-1!==t?A.current.length:o:ut(A,{startingIndex:t,decrement:!0,disabledIndices:B}):Math.max(a,ut(A,{startingIndex:t,decrement:!0,disabledIndices:B})),At(A,N.current)&&(N.current=-1),Q()}}),re=o.useMemo(()=>v&&n&&$&&{\"aria-activedescendant\":X||q},[v,n,$,X,q]),ie=o.useMemo(()=>(0,a.A)((0,a.A)({\"aria-orientation\":\"both\"===x?void 0:x},U?{}:re),{},{onKeyDown:ne,onPointerMove(){L.current=!0}}),[re,ne,x,U]),ae=o.useMemo(()=>{function e(e){\"auto\"===y&&et(e.nativeEvent)&&(I.current=!0)}function t(e){I.current=y,\"auto\"===y&&tt(e.nativeEvent)&&(I.current=!0)}return(0,a.A)((0,a.A)({},re),{},{onKeyDown(e){L.current=!1;const t=e.key.startsWith(\"Arrow\"),i=[\"Home\",\"End\"].includes(e.key),a=t||i,o=Bi(e.key,x,m),s=xi(e.key,x,m,k),l=Bi(e.key,te(),m),c=wi(e.key,x),u=(g?l:c)||\"Enter\"===e.key||\"\"===e.key.trim();if(v&&n){const t=null==D?void 0:D.nodesRef.current.find(e=>null==e.parentId),n=D&&t?function(e,t){let n,r=-1;return function t(i,a){a>r&&(n=i,r=a),Je(e,i).forEach(e=>{t(e.id,a+1)})}(t,0),e.find(e=>e.id===n)}(D.nodesRef.current,t.id):null;if(a&&n&&E){const t=new KeyboardEvent(\"keydown\",{key:e.key,bubbles:!0});if(o||s){var f,h;const r=(null==(f=n.context)?void 0:f.elements.domReference)===e.currentTarget,i=s&&!r?null==(h=n.context)?void 0:h.elements.domReference:o?A.current.find(e=>(null==e?void 0:e.id)===q):null;i&&($e(e),i.dispatchEvent(t),J(void 0))}var p;if((c||i)&&n.context)if(n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return $e(e),void(null==(p=n.context.elements.domReference)||p.dispatchEvent(t))}return ne(e)}if(n||b||!t){if(u){const t=wi(e.key,te());M.current=g&&t?null:e.key}g?l&&($e(e),n?(N.current=lt(A,z.current),Q()):r(!0,e.nativeEvent,\"list-navigation\")):c&&(null!=d&&(N.current=d),$e(e),!n&&b?r(!0,e.nativeEvent,\"list-navigation\"):ne(e),n&&Q())}},onFocus(){n&&!v&&(N.current=-1,Q())},onPointerDown:t,onPointerEnter:t,onMouseDown:e,onClick:e})},[q,re,k,ne,z,y,A,g,Q,r,n,b,x,te,m,d,D,v,E]);return o.useMemo(()=>u?{reference:ae,floating:ie,item:ee}:{},[u,ae,ie,ee])}const ki=new Map([[\"select\",\"listbox\"],[\"combobox\",\"listbox\"],[\"label\",!1]]);function Si(e,t){var n,r;void 0===t&&(t={});const{open:i,elements:s,floatingId:A}=e,{enabled:l=!0,role:c=\"dialog\"}=t,u=nr(),d=(null==(n=s.domReference)?void 0:n.id)||u,f=o.useMemo(()=>{var e;return(null==(e=Xe(s.floating))?void 0:e.id)||A},[s.floating,A]),h=null!=(r=ki.get(c))?r:c,p=null!=sr(),g=o.useMemo(()=>\"tooltip\"===h||\"label\"===c?{[\"aria-\"+(\"label\"===c?\"labelledby\":\"describedby\")]:i?f:void 0}:(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({\"aria-expanded\":i?\"true\":\"false\",\"aria-haspopup\":\"alertdialog\"===h?\"dialog\":h,\"aria-controls\":i?f:void 0},\"listbox\"===h&&{role:\"combobox\"}),\"menu\"===h&&{id:d}),\"menu\"===h&&p&&{role:\"menuitem\"}),\"select\"===c&&{\"aria-autocomplete\":\"none\"}),\"combobox\"===c&&{\"aria-autocomplete\":\"list\"}),[h,f,p,i,d,c]),m=o.useMemo(()=>{const e=(0,a.A)({id:f},h&&{role:h});return\"tooltip\"===h||\"label\"===c?e:(0,a.A)((0,a.A)({},e),\"menu\"===h&&{\"aria-labelledby\":d})},[h,f,d,c]),v=o.useCallback(e=>{let{active:t,selected:n}=e;const r=(0,a.A)({role:\"option\"},t&&{id:f+\"-fui-option\"});switch(c){case\"select\":case\"combobox\":return(0,a.A)((0,a.A)({},r),{},{\"aria-selected\":n})}return{}},[f,c]);return o.useMemo(()=>l?{reference:g,floating:m,item:v}:{},[l,g,m,v])}const Ei=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,t)=>(t?\"-\":\"\")+e.toLowerCase());function _i(e,t){return\"function\"===typeof e?e(t):e}function Fi(e,t){void 0===t&&(t={});const{open:n,elements:{floating:r}}=e,{duration:i=250}=t,a=(\"number\"===typeof i?i:i.close)||0,[s,A]=o.useState(\"unmounted\"),l=function(e,t){const[n,r]=o.useState(e);return e&&!n&&r(!0),o.useEffect(()=>{if(!e&&n){const e=setTimeout(()=>r(!1),t);return()=>clearTimeout(e)}},[e,n,t]),n}(n,a);return l||\"close\"!==s||A(\"unmounted\"),rt(()=>{if(r){if(n){A(\"initial\");const e=requestAnimationFrame(()=>{kt.flushSync(()=>{A(\"open\")})});return()=>{cancelAnimationFrame(e)}}A(\"close\")}},[n,r]),{isMounted:l,status:s}}function Oi(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:A=250}=t,l=e.placement,c=l.split(\"-\")[0],u=o.useMemo(()=>({side:c,placement:l}),[c,l]),d=\"number\"===typeof A,f=(d?A:A.open)||0,h=(d?A:A.close)||0,[p,g]=o.useState(()=>(0,a.A)((0,a.A)({},_i(s,u)),_i(n,u))),{isMounted:m,status:v}=Fi(e,{duration:A}),y=it(n),w=it(r),b=it(i),B=it(s);return rt(()=>{const e=_i(y.current,u),t=_i(b.current,u),n=_i(B.current,u),r=_i(w.current,u)||Object.keys(e).reduce((e,t)=>(e[t]=\"\",e),{});if(\"initial\"===v&&g(t=>(0,a.A)((0,a.A)({transitionProperty:t.transitionProperty},n),e)),\"open\"===v&&g((0,a.A)((0,a.A)({transitionProperty:Object.keys(r).map(Ei).join(\",\"),transitionDuration:f+\"ms\"},n),r)),\"close\"===v){const r=t||e;g((0,a.A)((0,a.A)({transitionProperty:Object.keys(r).map(Ei).join(\",\"),transitionDuration:h+\"ms\"},n),r))}},[h,b,y,w,B,f,v,u]),{isMounted:m,styles:p}}function Pi(e,t){var n;const{open:r,dataRef:i}=e,{listRef:a,activeIndex:s,onMatch:A,onTypingChange:l,enabled:c=!0,findMatch:u=null,resetMs:d=750,ignoreKeys:f=[],selectedIndex:h=null}=t,p=o.useRef(-1),g=o.useRef(\"\"),m=o.useRef(null!=(n=null!=h?h:s)?n:-1),v=o.useRef(null),y=ot(A),w=ot(l),b=it(u),B=it(f);rt(()=>{r&&(fr(p),v.current=null,g.current=\"\")},[r]),rt(()=>{var e;r&&\"\"===g.current&&(m.current=null!=(e=null!=h?h:s)?e:-1)},[r,h,s]);const x=ot(e=>{e?i.current.typing||(i.current.typing=e,w(e)):i.current.typing&&(i.current.typing=e,w(e))}),C=ot(e=>{function t(e,t,n){const r=b.current?b.current(t,n):t.find(e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase())));return r?e.indexOf(r):-1}const n=a.current;if(g.current.length>0&&\" \"!==g.current[0]&&(-1===t(n,n,g.current)?x(!1):\" \"===e.key&&$e(e)),null==n||B.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r&&\" \"!==e.key&&($e(e),x(!0));n.every(e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())})&&g.current===e.key&&(g.current=\"\",m.current=v.current),g.current+=e.key,fr(p),p.current=window.setTimeout(()=>{g.current=\"\",m.current=v.current,x(!1)},d);const i=m.current,o=t(n,[...n.slice((i||0)+1),...n.slice(0,(i||0)+1)],g.current);-1!==o?(y(o),v.current=o):\" \"!==e.key&&(g.current=\"\",x(!1))}),k=o.useMemo(()=>({onKeyDown:C}),[C]),S=o.useMemo(()=>({onKeyDown:C,onKeyUp(e){\" \"===e.key&&x(!1)}}),[C,x]);return o.useMemo(()=>c?{reference:k,floating:S}:{},[c,k,S])}function Di(e,t){return(0,a.A)((0,a.A)({},e),{},{rects:(0,a.A)((0,a.A)({},e.rects),{},{floating:(0,a.A)((0,a.A)({},e.rects.floating),{},{height:t})})})}const Qi=e=>({name:\"inner\",options:e,async fn(t){const n=Y(e,t),{listRef:r,overflowRef:o,onFallbackChange:s,offset:A=0,index:l=0,minItemsVisible:c=4,referenceOverflowThreshold:u=0,scrollRef:d}=n,f=(0,i.A)(n,Dn),{rects:h,elements:{floating:p}}=t,g=r.current[l],m=(null==d?void 0:d.current)||p,v=p.clientTop||m.clientTop,y=0!==p.clientTop,w=0!==m.clientTop,b=p===m;if(!g)return{};const B=(0,a.A)((0,a.A)({},t),await vn(-g.offsetTop-p.clientTop-h.reference.height/2-g.offsetHeight/2-A).fn(t)),x=await tn(Di(B,m.scrollHeight+v+p.clientTop),f),C=await tn(B,(0,a.A)((0,a.A)({},f),{},{elementContext:\"reference\"})),k=j(0,x.top),S=B.y+k,E=(m.scrollHeight>m.clientHeight?e=>e:T)(j(0,m.scrollHeight+(y&&b||w?2*v:0)-k-j(0,x.bottom)));if(m.style.maxHeight=E+\"px\",m.scrollTop=k,s){const e=m.offsetHeight<g.offsetHeight*L(c,r.current.length)-1||C.top>=-u||C.bottom>=-u;kt.flushSync(()=>s(e))}return o&&(o.current=await tn(Di((0,a.A)((0,a.A)({},B),{},{y:S}),m.offsetHeight+v+p.clientTop),f)),{y:S}}});function Ui(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:s,scrollRef:A,onChange:l}=t,c=ot(l),u=o.useRef(!1),d=o.useRef(null),f=o.useRef(null);o.useEffect(()=>{if(!i)return;function e(e){if(e.ctrlKey||!t||null==s.current)return;const n=e.deltaY,r=s.current.top>=-.5,i=s.current.bottom>=-.5,a=t.scrollHeight-t.clientHeight,o=n<0?-1:1,A=n<0?\"max\":\"min\";t.scrollHeight<=t.clientHeight||(!r&&n>0||!i&&n<0?(e.preventDefault(),kt.flushSync(()=>{c(e=>e+Math[A](n,a*o))})):/firefox/i.test(Qe())&&(t.scrollTop+=n))}const t=(null==A?void 0:A.current)||r.floating;return n&&t?(t.addEventListener(\"wheel\",e),requestAnimationFrame(()=>{d.current=t.scrollTop,null!=s.current&&(f.current=(0,a.A)({},s.current))}),()=>{d.current=null,f.current=null,t.removeEventListener(\"wheel\",e)}):void 0},[i,n,r.floating,s,A,c]);const h=o.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const e=(null==A?void 0:A.current)||r.floating;if(s.current&&e&&u.current){if(null!==d.current){const t=e.scrollTop-d.current;(s.current.bottom<-.5&&t<-1||s.current.top<-.5&&t>1)&&kt.flushSync(()=>c(e=>e+t))}requestAnimationFrame(()=>{d.current=e.scrollTop})}}}),[r.floating,c,s,A]);return o.useMemo(()=>i?{floating:h}:{},[i,h])}function Ii(e,t,n){void 0===n&&(n=!0);return e.filter(e=>{var r;return e.parentId===t&&(!n||(null==(r=e.context)?void 0:r.open))}).flatMap(t=>[t,...Ii(e,t.id,n)])}function Ni(e,t){const[n,r]=e;let i=!1;const a=t.length;for(let o=0,s=a-1;o<a;s=o++){const[e,a]=t[o]||[0,0],[A,l]=t[s]||[0,0];a>=r!==l>=r&&n<=(A-e)*(r-a)/(l-a)+e&&(i=!i)}return i}function Mi(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,i={current:-1};let a=!1,o=null,s=null,A=\"undefined\"!==typeof performance?performance.now():0;const l=e=>{let{x:n,y:l,placement:c,elements:u,onClose:d,nodeId:h,tree:p}=e;return function(e){function g(){fr(i),d()}if(fr(i),!u.domReference||!u.floating||null==c||null==n||null==l)return;const{clientX:m,clientY:v}=e,y=[m,v],w=function(e){return\"composedPath\"in e?e.composedPath()[0]:e.target}(e),b=\"mouseleave\"===e.type,B=_r(u.floating,w),x=_r(u.domReference,w),C=u.domReference.getBoundingClientRect(),k=u.floating.getBoundingClientRect(),S=c.split(\"-\")[0],E=n>k.right-k.width/2,_=l>k.bottom-k.height/2,F=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(y,C),O=k.width>C.width,P=k.height>C.height,D=(O?C:k).left,Q=(O?C:k).right,U=(P?C:k).top,I=(P?C:k).bottom;if(B&&(a=!0,!b))return;if(x&&(a=!1),x&&!b)return void(a=!0);if(b&&f(e.relatedTarget)&&_r(u.floating,e.relatedTarget))return;if(p&&Ii(p.nodesRef.current,h).length)return;if(\"top\"===S&&l>=C.bottom-1||\"bottom\"===S&&l<=C.top+1||\"left\"===S&&n>=C.right-1||\"right\"===S&&n<=C.left+1)return g();let N=[];switch(S){case\"top\":N=[[D,C.top+1],[D,k.bottom-1],[Q,k.bottom-1],[Q,C.top+1]];break;case\"bottom\":N=[[D,k.top+1],[D,C.bottom-1],[Q,C.bottom-1],[Q,k.top+1]];break;case\"left\":N=[[k.right-1,I],[k.right-1,U],[C.left+1,U],[C.left+1,I]];break;case\"right\":N=[[C.right-1,I],[C.right-1,U],[k.left+1,U],[k.left+1,I]]}if(!Ni([m,v],N)){if(a&&!F)return g();if(!b&&r){const t=function(e,t){const n=performance.now(),r=n-A;if(null===o||null===s||0===r)return o=e,s=t,A=n,null;const i=e-o,a=t-s,l=Math.sqrt(i*i+a*a);return o=e,s=t,A=n,l/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return g()}Ni([m,v],function(e){let[n,r]=e;switch(S){case\"top\":return[[O?n+t/2:E?n+4*t:n-4*t,r+t+1],[O?n-t/2:E?n+4*t:n-4*t,r+t+1],...[[k.left,E||O?k.bottom-t:k.top],[k.right,E?O?k.bottom-t:k.top:k.bottom-t]]];case\"bottom\":return[[O?n+t/2:E?n+4*t:n-4*t,r-t],[O?n-t/2:E?n+4*t:n-4*t,r-t],...[[k.left,E||O?k.top+t:k.bottom],[k.right,E?O?k.top+t:k.bottom:k.top+t]]];case\"left\":{const e=[n+t+1,P?r+t/2:_?r+4*t:r-4*t],i=[n+t+1,P?r-t/2:_?r+4*t:r-4*t];return[...[[_||P?k.right-t:k.left,k.top],[_?P?k.right-t:k.left:k.right-t,k.bottom]],e,i]}case\"right\":return[[n-t,P?r+t/2:_?r+4*t:r-4*t],[n-t,P?r-t/2:_?r+4*t:r-4*t],...[[_||P?k.left+t:k.right,k.top],[_?P?k.left+t:k.right:k.left+t,k.bottom]]]}}([n,l]))?!a&&r&&(i.current=window.setTimeout(g,40)):g()}}};return l.__options={blockPointerEvents:n},l}},28887:(e,t,n)=>{\"use strict\";t.endOfDecade=function(e){const t=(0,r.toDate)(e),n=t.getFullYear(),i=9+10*Math.floor(n/10);return t.setFullYear(i,11,31),t.setHours(23,59,59,999),t};var r=n(73094)},28928:(e,t,n)=>{\"use strict\";t.eachHourOfInterval=function(e,t){var n;const a=(0,i.toDate)(e.start),o=(0,i.toDate)(e.end);let s=+a>+o;const A=s?+a:+o;let l=s?o:a;l.setMinutes(0,0,0);let c=null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1;if(!c)return[];c<0&&(c=-c,s=!s);const u=[];for(;+l<=A;)u.push((0,i.toDate)(l)),l=(0,r.addHours)(l,c);return s?u.reverse():u};var r=n(58213),i=n(73094)},29023:(e,t,n)=>{\"use strict\";t.addWeeks=function(e,t){const n=7*t;return(0,r.addDays)(e,n)};var r=n(65811)},29091:(e,t,n)=>{\"use strict\";t.monthsToYears=function(e){const t=e/r.monthsInYear;return Math.trunc(t)};var r=n(4702)},29204:(e,t,n)=>{\"use strict\";t.isSaturday=function(e){return 6===(0,r.toDate)(e).getDay()};var r=n(73094)},29402:(e,t,n)=>{\"use strict\";t.getDefaultOptions=function(){return Object.assign({},(0,r.getDefaultOptions)())};var r=n(71531)},29409:(e,t,n)=>{\"use strict\";t.endOfMonth=function(e){const t=(0,r.toDate)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t};var r=n(73094)},29481:(e,t,n)=>{\"use strict\";t.Parser=void 0;var r=n(34941);t.Parser=class{run(e,t,n,i){const a=this.parse(e,t,n,i);return a?{setter:new r.ValueSetter(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}},29577:(e,t)=>{\"use strict\";t.getRoundingMethod=function(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}},30118:(e,t)=>{\"use strict\";t.buildMatchPatternFn=function(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;return{value:o,rest:t.slice(i.length)}}}},30155:(e,t,n)=>{\"use strict\";t.yearsToMonths=function(e){return Math.trunc(e*r.monthsInYear)};var r=n(4702)},30581:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.StandAloneQuarterParser=void 0;var i=n(29481),a=n(26117);class o extends i.Parser{constructor(){super(...arguments),r(this,\"priority\",120),r(this,\"incompatibleTokens\",[\"Y\",\"R\",\"Q\",\"M\",\"L\",\"w\",\"I\",\"d\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"])}parse(e,t,n){switch(t){case\"q\":case\"qq\":return(0,a.parseNDigits)(t.length,e);case\"qo\":return n.ordinalNumber(e,{unit:\"quarter\"});case\"qqq\":return n.quarter(e,{width:\"abbreviated\",context:\"standalone\"})||n.quarter(e,{width:\"narrow\",context:\"standalone\"});case\"qqqqq\":return n.quarter(e,{width:\"narrow\",context:\"standalone\"});default:return n.quarter(e,{width:\"wide\",context:\"standalone\"})||n.quarter(e,{width:\"abbreviated\",context:\"standalone\"})||n.quarter(e,{width:\"narrow\",context:\"standalone\"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}}t.StandAloneQuarterParser=o},30659:(e,t,n)=>{\"use strict\";t.nextTuesday=function(e){return(0,r.nextDay)(e,2)};var r=n(56994)},30830:(e,t,n)=>{e.exports=n(85497).sortBy},30877:(e,t,n)=>{\"use strict\";t.isAfter=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getTime()>i.getTime()};var r=n(73094)},31103:(e,t,n)=>{\"use strict\";t.millisecondsToMinutes=function(e){const t=e/r.millisecondsInMinute;return Math.trunc(t)};var r=n(4702)},31146:(e,t,n)=>{\"use strict\";t.getSeconds=function(e){const t=(0,r.toDate)(e);return t.getSeconds()};var r=n(73094)},31181:(e,t,n)=>{\"use strict\";t.isSameSecond=function(e,t){const n=(0,r.startOfSecond)(e),i=(0,r.startOfSecond)(t);return+n===+i};var r=n(60326)},31229:(e,t,n)=>{\"use strict\";t.isThisMonth=function(e){return(0,i.isSameMonth)(e,(0,r.constructNow)(e))};var r=n(24716),i=n(49663)},31351:(e,t,n)=>{\"use strict\";t.closestIndexTo=function(e,t){const n=(0,r.toDate)(e);if(isNaN(Number(n)))return NaN;const i=n.getTime();let a,o;return t.forEach(function(e,t){const n=(0,r.toDate)(e);if(isNaN(Number(n)))return a=NaN,void(o=NaN);const s=Math.abs(i-n.getTime());(null==a||s<o)&&(a=t,o=s)}),a};var r=n(73094)},32272:(e,t,n)=>{\"use strict\";var r=n(43693).default;t.ISOTimezoneWithZParser=void 0;var i=n(19078),a=n(82757),o=n(66961),s=n(29481),A=n(26117);class l extends s.Parser{constructor(){super(...arguments),r(this,\"priority\",10),r(this,\"incompatibleTokens\",[\"t\",\"T\",\"x\"])}parse(e,t){switch(t){case\"X\":return(0,A.parseTimezonePattern)(o.timezonePatterns.basicOptionalMinutes,e);case\"XX\":return(0,A.parseTimezonePattern)(o.timezonePatterns.basic,e);case\"XXXX\":return(0,A.parseTimezonePattern)(o.timezonePatterns.basicOptionalSeconds,e);case\"XXXXX\":return(0,A.parseTimezonePattern)(o.timezonePatterns.extendedOptionalSeconds,e);default:return(0,A.parseTimezonePattern)(o.timezonePatterns.extended,e)}}set(e,t,n){return t.timestampIsSet?e:(0,i.constructFrom)(e,e.getTime()-(0,a.getTimezoneOffsetInMilliseconds)(e)-n)}}t.ISOTimezoneWithZParser=l},32334:(e,t,n)=>{\"use strict\";t.setWeekYear=function(e,t,n){var A,l,c,u,d,f;const h=(0,s.getDefaultOptions)(),p=null!==(A=null!==(l=null!==(c=null!==(u=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void ","size_bytes":360000},"backend/__init__.py":{"content":"","size_bytes":0},"backend/app/__init__.py":{"content":"","size_bytes":0},"backend/app/auth.py":{"content":"\"\"\"\nAuthentication utilities for Nigzsu Analytics API\n\"\"\"\n\nimport hashlib\nimport secrets\nfrom datetime import datetime\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import HTTPBasic, HTTPBasicCredentials\n\nfrom .database import load_users, save_users\n\nsecurity = HTTPBasic()\n\n\ndef hash_password(password: str) -> str:\n    \"\"\"Hash password using SHA-256 with salt\"\"\"\n    salt = secrets.token_hex(16)\n    password_hash = hashlib.sha256((password + salt).encode()).hexdigest()\n    return f\"{salt}:{password_hash}\"\n\n\ndef verify_password(password: str, stored_hash: str) -> bool:\n    \"\"\"Verify password against stored hash\"\"\"\n    try:\n        if ':' not in stored_hash:\n            return password == stored_hash\n        salt, hash_part = stored_hash.split(':', 1)\n        password_hash = hashlib.sha256((password + salt).encode()).hexdigest()\n        return password_hash == hash_part\n    except:\n        return False\n\n\ndef authenticate_user(credentials: HTTPBasicCredentials = Depends(security)):\n    \"\"\"Authenticate user and update last login timestamp\"\"\"\n    users = load_users()\n    \n    if credentials.username not in users:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid credentials\"\n        )\n    \n    user = users[credentials.username]\n    \n    if not verify_password(credentials.password, user['password']):\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid credentials\"\n        )\n    \n    users[credentials.username]['last_login'] = datetime.now().isoformat()\n    save_users(users)\n    \n    return {\n        'username': credentials.username,\n        'role': user['role'],\n        'name': user.get('name', credentials.username)\n    }\n","size_bytes":1818},"backend/app/config.py":{"content":"\"\"\"\nConfiguration settings for Nigzsu Analytics API\n\"\"\"\n\nimport os\n\nGCS_BUCKET = 'nigzsu_cdata-testclient1'\nUSERS_FILE = 'backend/data/users.json'\nALARM_LOGS_FILE = 'backend/data/alarm_logs.json'\nDEVICE_LISTS_FILE = 'backend/data/device_lists.json'\nINTEREST_SUBMISSIONS_FILE = 'backend/data/interest_submissions.json'\n\n\ndef get_allowed_origins():\n    \"\"\"Get allowed origins based on environment\"\"\"\n    origins = []\n    \n    if os.environ.get(\"NODE_ENV\") != \"production\":\n        origins.extend([\n            \"http://localhost:5000\",\n            \"http://127.0.0.1:5000\",\n            \"http://0.0.0.0:5000\",\n            \"http://localhost:3000\",\n        ])\n    \n    replit_domain = os.environ.get(\"REPLIT_DOMAINS\", \"\")\n    if replit_domain:\n        origins.extend([\n            f\"https://{replit_domain}\",\n            f\"http://{replit_domain}\",\n        ])\n    \n    cloud_run_service = os.environ.get(\"CLOUD_RUN_SERVICE_URL\", \"\")\n    if cloud_run_service:\n        origins.append(cloud_run_service)\n    \n    production_domain = os.environ.get(\"PRODUCTION_DOMAIN\", \"\")\n    if production_domain:\n        origins.extend([\n            f\"https://{production_domain}\",\n            f\"http://{production_domain}\",\n        ])\n    \n    return list(set(origin for origin in origins if origin))\n","size_bytes":1277},"backend/app/data_processor.py":{"content":"\"\"\"\nIntelligent Data Processor for Nigzsu Analytics\nSupports Cloud SQL PostgreSQL data sources\n\"\"\"\n\nimport pandas as pd\nimport numpy as np\nimport logging\nfrom datetime import datetime, timedelta\nfrom typing import Dict, Optional\nfrom fastapi import HTTPException\nfrom sqlalchemy import text\n\nfrom .models import DataIntelligence\nfrom .cloudsql import cloudsql_connection\n\nlogger = logging.getLogger(__name__)\n\n\nclass DataProcessor:\n    \"\"\"Intelligent data processor with Cloud SQL support using aggregation queries\"\"\"\n    \n    @staticmethod\n    def get_aggregated_analytics(table_name: str, filters: Dict[str, Optional[str]] = None) -> Dict:\n        \"\"\"Get pre-aggregated analytics data from Cloud SQL using parameterized queries\"\"\"\n        try:\n            filters = filters or {}\n            params = {}\n            where_clauses = []\n            dwell_where_clauses = []  # For dwell time, exclude event filter\n            \n            # Build parameterized WHERE clauses\n            if filters.get('start_date'):\n                where_clauses.append(\"timestamp >= :start_date\")\n                dwell_where_clauses.append(\"timestamp >= :start_date\")\n                params['start_date'] = filters['start_date']\n            if filters.get('end_date'):\n                where_clauses.append(\"timestamp <= :end_date\")\n                dwell_where_clauses.append(\"timestamp <= :end_date\")\n                params['end_date'] = filters['end_date']\n            if filters.get('gender'):\n                where_clauses.append(\"sex = :gender\")\n                dwell_where_clauses.append(\"sex = :gender\")\n                params['gender'] = filters['gender']\n            if filters.get('age_group'):\n                where_clauses.append(\"age_bucket = :age_group\")\n                dwell_where_clauses.append(\"age_bucket = :age_group\")\n                params['age_group'] = filters['age_group']\n            if filters.get('event'):\n                event_val = 1 if filters['event'] == 'entry' else 0\n                where_clauses.append(\"event = :event\")\n                params['event'] = event_val\n            \n            where_sql = f\"WHERE {' AND '.join(where_clauses)}\" if where_clauses else \"\"\n            dwell_where_sql = f\"AND {' AND '.join(dwell_where_clauses)}\" if dwell_where_clauses else \"\"\n            \n            with cloudsql_connection.get_connection_context() as conn:\n                # Query 1: Basic stats\n                stats_query = text(f\"\"\"\n                SELECT \n                    COUNT(*) as total_records,\n                    MIN(timestamp) as min_timestamp,\n                    MAX(timestamp) as max_timestamp,\n                    COUNT(CASE WHEN event = 1 THEN 1 END) as entries,\n                    COUNT(CASE WHEN event = 0 THEN 1 END) as exits\n                FROM {table_name}\n                {where_sql}\n                \"\"\")\n                stats_df = pd.read_sql(stats_query, conn, params=params)\n                \n                # Query 2: Demographics\n                demo_query = text(f\"\"\"\n                SELECT \n                    sex,\n                    age_bucket,\n                    COUNT(*) as count\n                FROM {table_name}\n                {where_sql}\n                GROUP BY sex, age_bucket\n                \"\"\")\n                demo_df = pd.read_sql(demo_query, conn, params=params)\n                \n                # Query 3: Hourly distribution\n                hourly_query = text(f\"\"\"\n                SELECT \n                    EXTRACT(HOUR FROM timestamp) as hour,\n                    COUNT(*) as count\n                FROM {table_name}\n                {where_sql}\n                GROUP BY hour\n                ORDER BY hour\n                \"\"\")\n                hourly_df = pd.read_sql(hourly_query, conn, params=params)\n                \n                # Query 4: Actual event records (limited for performance, sorted by timestamp)\n                limit = 10000  # Limit records to keep response size manageable\n                records_query = text(f\"\"\"\n                SELECT \n                    track_id,\n                    event,\n                    timestamp,\n                    sex,\n                    age_bucket\n                FROM {table_name}\n                {where_sql}\n                ORDER BY timestamp DESC\n                LIMIT {limit}\n                \"\"\")\n                records_df = pd.read_sql(records_query, conn, params=params)\n                \n                # Query 5: Occupancy-based dwell time calculation\n                # Calculate total person-minutes (area under occupancy curve) / total entries\n                # This gives average time spent per person based on aggregate occupancy\n                dwell_where_clause = f\"WHERE {' AND '.join(dwell_where_clauses)}\" if dwell_where_clauses else \"\"\n                dwell_query = text(f\"\"\"\n                WITH ordered_events AS (\n                    SELECT \n                        timestamp,\n                        CASE WHEN event = 1 THEN 1 ELSE -1 END as occupancy_change\n                    FROM {table_name}\n                    {dwell_where_clause}\n                    ORDER BY timestamp\n                ),\n                occupancy_periods AS (\n                    SELECT \n                        timestamp as start_time,\n                        LEAD(timestamp) OVER (ORDER BY timestamp) as end_time,\n                        SUM(occupancy_change) OVER (ORDER BY timestamp) as occupancy\n                    FROM ordered_events\n                ),\n                person_minutes AS (\n                    SELECT \n                        SUM(\n                            CASE \n                                WHEN end_time IS NOT NULL AND occupancy > 0\n                                THEN occupancy * EXTRACT(EPOCH FROM (end_time - start_time)) / 60.0\n                                ELSE 0\n                            END\n                        ) as total_person_minutes\n                    FROM occupancy_periods\n                ),\n                total_entries AS (\n                    SELECT COUNT(*) as entry_count\n                    FROM {table_name}\n                    WHERE event = 1 {dwell_where_sql}\n                )\n                SELECT \n                    CASE \n                        WHEN te.entry_count > 0 \n                        THEN pm.total_person_minutes / te.entry_count \n                        ELSE 0 \n                    END as avg_dwell_minutes\n                FROM person_minutes pm, total_entries te\n                \"\"\")\n                # Only pass non-event params to dwell query\n                dwell_params = {k: v for k, v in params.items() if k != 'event'}\n                dwell_df = pd.read_sql(dwell_query, conn, params=dwell_params)\n                \n                logger.info(f\"Loaded aggregated analytics for {table_name}\")\n                \n                return {\n                    'stats': stats_df,\n                    'demographics': demo_df,\n                    'hourly': hourly_df,\n                    'records': records_df,\n                    'dwell': dwell_df\n                }\n                \n        except Exception as e:\n            logger.error(f\"Failed to load aggregated analytics from {table_name}: {e}\")\n            raise HTTPException(status_code=500, detail=f\"Database query failed: {str(e)}\")\n    \n    @staticmethod\n    def transform_cloudsql_format(df: pd.DataFrame) -> pd.DataFrame:\n        \"\"\"Transform Cloud SQL data format to match expected analytics format\"\"\"\n        df['track_number'] = df['track_id']\n        \n        df['event'] = df['event'].apply(lambda x: 'entry' if x == 1 else 'exit')\n        \n        df['age_estimate'] = df['age_bucket']\n        \n        df['timestamp'] = pd.to_datetime(df['timestamp'])\n        \n        required_columns = ['index', 'track_number', 'event', 'timestamp', 'sex', 'age_estimate']\n        df = df[required_columns]\n        \n        logger.info(f\"Transformed {len(df)} records to analytics format\")\n        return df\n    \n    @staticmethod\n    def process_timestamps(df: pd.DataFrame) -> pd.DataFrame:\n        \"\"\"Process timestamps - already in ISO format from Cloud SQL\"\"\"\n        try:\n            if 'timestamp' in df.columns:\n                df['timestamp'] = pd.to_datetime(df['timestamp'], errors='coerce')\n            \n            df['hour'] = df['timestamp'].dt.hour\n            df['day_of_week'] = df['timestamp'].dt.day_name()\n            df['date'] = df['timestamp'].dt.date\n            \n            df['hour'] = df['hour'].fillna(12)\n            df['day_of_week'] = df['day_of_week'].fillna('Unknown')\n            \n            logger.info(f\"Processed timestamps, {df['timestamp'].notna().sum()} valid timestamps\")\n            return df\n            \n        except Exception as e:\n            logger.error(f\"Timestamp processing failed: {e}\")\n            raise HTTPException(status_code=400, detail=f\"Timestamp processing failed: {str(e)}\")\n    \n    @staticmethod\n    def analyze_data_intelligence(df: pd.DataFrame) -> DataIntelligence:\n        \"\"\"Analyze data to provide intelligent insights\"\"\"\n        valid_timestamps = df['timestamp'].dropna()\n        latest_timestamp = valid_timestamps.max() if len(valid_timestamps) > 0 else None\n        earliest_timestamp = valid_timestamps.min() if len(valid_timestamps) > 0 else None\n        \n        date_span_days = 0\n        if latest_timestamp and earliest_timestamp:\n            date_span_days = (latest_timestamp - earliest_timestamp).days\n        \n        optimal_granularity = \"hourly\"\n        if date_span_days > 30:\n            optimal_granularity = \"weekly\"\n        elif date_span_days > 7:\n            optimal_granularity = \"daily\"\n        \n        hourly_counts = df.groupby('hour').size()\n        peak_hours = hourly_counts.nlargest(3).index.tolist()\n        \n        demographics_breakdown = {\n            'gender': df['sex'].value_counts().to_dict(),\n            'age_groups': df['age_estimate'].value_counts().to_dict(),\n            'events': df['event'].value_counts().to_dict()\n        }\n        \n        temporal_patterns = {\n            'hourly_distribution': df.groupby('hour').size().to_dict(),\n            'daily_distribution': df.groupby('day_of_week').size().to_dict(),\n            'peak_times': {\n                'hour': int(hourly_counts.idxmax()) if len(hourly_counts) > 0 else 12,\n                'count': int(hourly_counts.max()) if len(hourly_counts) > 0 else 0\n            }\n        }\n        \n        return DataIntelligence(\n            total_records=len(df),\n            date_span_days=date_span_days,\n            latest_timestamp=latest_timestamp,\n            optimal_granularity=optimal_granularity,\n            peak_hours=peak_hours,\n            demographics_breakdown=demographics_breakdown,\n            temporal_patterns=temporal_patterns\n        )\n    \n    @staticmethod\n    def apply_filters(df: pd.DataFrame, filters: Dict[str, Optional[str]]) -> pd.DataFrame:\n        \"\"\"Apply intelligent filters to the data\"\"\"\n        filtered_df = df.copy()\n        \n        if 'start_date' in filters and filters['start_date']:\n            filtered_df = filtered_df[filtered_df['timestamp'] >= pd.to_datetime(filters['start_date'])]\n        \n        if 'end_date' in filters and filters['end_date']:\n            filtered_df = filtered_df[filtered_df['timestamp'] <= pd.to_datetime(filters['end_date'])]\n        \n        if 'gender' in filters and filters['gender']:\n            filtered_df = filtered_df[filtered_df['sex'] == filters['gender']]\n        \n        if 'age_group' in filters and filters['age_group']:\n            filtered_df = filtered_df[filtered_df['age_estimate'] == filters['age_group']]\n        \n        if 'event' in filters and filters['event']:\n            filtered_df = filtered_df[filtered_df['event'] == filters['event']]\n        \n        logger.info(f\"Applied filters, {len(filtered_df)} records remaining\")\n        return filtered_df\n","size_bytes":11905},"backend/app/database.py":{"content":"\"\"\"\nDatabase operations for Nigzsu Analytics API\nJSON file-based storage with atomic writes\n\"\"\"\n\nimport os\nimport json\nimport tempfile\nimport shutil\nfrom typing import Optional, Dict\nimport hashlib\nimport secrets\n\nfrom .config import USERS_FILE, ALARM_LOGS_FILE, DEVICE_LISTS_FILE\n\n\ndef hash_password(password: str) -> str:\n    \"\"\"Hash password using SHA-256 with salt\"\"\"\n    salt = secrets.token_hex(16)\n    password_hash = hashlib.sha256((password + salt).encode()).hexdigest()\n    return f\"{salt}:{password_hash}\"\n\n\ndef load_users():\n    \"\"\"Load user credentials from JSON file\"\"\"\n    if not os.path.exists(USERS_FILE):\n        users_data = {\n            \"admin\": {\n                \"password\": hash_password(\"admin123\"),\n                \"role\": \"admin\",\n                \"name\": \"System Administrator\",\n                \"last_login\": None,\n                \"data_sources\": []\n            },\n            \"client1\": {\n                \"password\": hash_password(\"client123\"),\n                \"role\": \"client\",\n                \"name\": \"Test Client 1\",\n                \"table_name\": \"client1\",\n                \"last_login\": None,\n                \"data_sources\": []\n            },\n            \"client2\": {\n                \"password\": hash_password(\"client456\"),\n                \"role\": \"client\",\n                \"name\": \"Test Client 2\",\n                \"table_name\": \"client2\",\n                \"last_login\": None,\n                \"data_sources\": []\n            }\n        }\n        with open(USERS_FILE, 'w') as f:\n            json.dump(users_data, f, indent=2)\n        return users_data\n    \n    with open(USERS_FILE, 'r') as f:\n        users = json.load(f)\n    \n    modified = False\n    for username, user_data in users.items():\n        if 'last_login' not in user_data:\n            user_data['last_login'] = None\n            modified = True\n        if 'data_sources' not in user_data:\n            user_data['data_sources'] = []\n            modified = True\n    \n    if modified:\n        save_users(users)\n    \n    return users\n\n\ndef save_users(users_data: dict):\n    \"\"\"Save users data to JSON file using atomic write\"\"\"\n    file_dir = os.path.dirname(USERS_FILE) or '.'\n    \n    temp_fd, temp_path = tempfile.mkstemp(dir=file_dir, suffix='.tmp')\n    try:\n        with os.fdopen(temp_fd, 'w') as f:\n            json.dump(users_data, f, indent=2)\n        shutil.move(temp_path, USERS_FILE)\n    except Exception as e:\n        if os.path.exists(temp_path):\n            os.unlink(temp_path)\n        raise e\n\n\ndef get_active_table_name(client_id: str, users: dict) -> Optional[str]:\n    \"\"\"Get the Cloud SQL table name for a client\"\"\"\n    if client_id not in users:\n        return None\n    \n    client_data = users[client_id]\n    return client_data.get('table_name')\n\n\ndef load_alarm_logs():\n    \"\"\"Load alarm logs from JSON file\"\"\"\n    if not os.path.exists(ALARM_LOGS_FILE):\n        return {}\n    with open(ALARM_LOGS_FILE, 'r') as f:\n        return json.load(f)\n\n\ndef save_alarm_logs(alarm_data: dict):\n    \"\"\"Save alarm logs to JSON file\"\"\"\n    with open(ALARM_LOGS_FILE, 'w') as f:\n        json.dump(alarm_data, f, indent=2)\n\n\ndef load_device_lists():\n    \"\"\"Load device lists from JSON file\"\"\"\n    if not os.path.exists(DEVICE_LISTS_FILE):\n        return {}\n    with open(DEVICE_LISTS_FILE, 'r') as f:\n        return json.load(f)\n\n\ndef save_device_lists(device_data: dict):\n    \"\"\"Save device lists to JSON file\"\"\"\n    with open(DEVICE_LISTS_FILE, 'w') as f:\n        json.dump(device_data, f, indent=2)\n","size_bytes":3498},"backend/app/models.py":{"content":"\"\"\"\nPydantic Data Models for Nigzsu Analytics API\n\"\"\"\n\nfrom datetime import datetime\nfrom typing import Optional, Dict, List, Any\nfrom pydantic import BaseModel\n\n\nclass LoginRequest(BaseModel):\n    username: str\n    password: str\n\n\nclass LoginResponse(BaseModel):\n    user: Dict[str, Any]\n    message: str\n\n\nclass ChartDataResponse(BaseModel):\n    data: List[Dict[str, Any]]\n    summary: Dict[str, Any]\n    intelligence: Dict[str, Any]\n\n\nclass DataIntelligence(BaseModel):\n    \"\"\"Smart insights about the dataset\"\"\"\n    total_records: int\n    date_span_days: int\n    latest_timestamp: Optional[datetime]\n    optimal_granularity: str\n    peak_hours: List[int]\n    demographics_breakdown: Dict[str, Any]\n    temporal_patterns: Dict[str, Any]\n\n\nclass CreateUserRequest(BaseModel):\n    username: str\n    password: str\n    name: str\n    role: str\n    table_name: Optional[str] = None\n\n\nclass UpdateUserRequest(BaseModel):\n    name: Optional[str] = None\n    password: Optional[str] = None\n    role: Optional[str] = None\n    table_name: Optional[str] = None\n\n\nclass CreateViewTokenRequest(BaseModel):\n    client_id: str\n\n\nclass ViewTokenResponse(BaseModel):\n    token: str\n    expires_at: str\n    client_id: str\n\n\nclass AlarmEvent(BaseModel):\n    id: str\n    instance: str\n    device: str\n    description: str\n    alarmStartedAt: str\n    alarmClearedAfter: Optional[str] = None\n    severity: str\n    client_id: str\n\n\nclass RegisterInterestRequest(BaseModel):\n    name: str\n    email: str\n    company: str\n    phone: Optional[str] = None\n    business_type: Optional[str] = None\n    message: Optional[str] = None\n\n\nclass RegisterInterestResponse(BaseModel):\n    message: str\n    submission_id: str\n\n\nclass CreateAlarmRequest(BaseModel):\n    instance: str\n    device: str\n    description: str\n    alarmStartedAt: str\n    alarmClearedAfter: Optional[str] = None\n    severity: str\n    client_id: str\n\n\nclass UpdateAlarmRequest(BaseModel):\n    instance: Optional[str] = None\n    device: Optional[str] = None\n    description: Optional[str] = None\n    alarmStartedAt: Optional[str] = None\n    alarmClearedAfter: Optional[str] = None\n    severity: Optional[str] = None\n\n\nclass DeviceInfo(BaseModel):\n    id: str\n    name: str\n    type: str\n    status: str\n    lastSeen: str\n    dataSource: Optional[str] = None\n    location: Optional[str] = None\n    recordCount: Optional[int] = None\n    client_id: str\n\n\nclass CreateDeviceRequest(BaseModel):\n    name: str\n    type: str\n    status: str\n    lastSeen: str\n    dataSource: Optional[str] = None\n    location: Optional[str] = None\n    recordCount: Optional[int] = None\n    client_id: str\n\n\nclass UpdateDeviceRequest(BaseModel):\n    name: Optional[str] = None\n    type: Optional[str] = None\n    status: Optional[str] = None\n    lastSeen: Optional[str] = None\n    dataSource: Optional[str] = None\n    location: Optional[str] = None\n    recordCount: Optional[int] = None\n\n\nclass DataSource(BaseModel):\n    id: str\n    title: str\n    url: str\n    type: str\n    active: bool = False\n\n\nclass CreateDataSourceRequest(BaseModel):\n    title: str\n    url: str\n    type: str\n    client_id: str\n\n\nclass UpdateDataSourceRequest(BaseModel):\n    title: Optional[str] = None\n    url: Optional[str] = None\n    type: Optional[str] = None\n    active: Optional[bool] = None\n","size_bytes":3284},"backend/app/view_tokens.py":{"content":"\"\"\"\nView Token Management for Nigzsu Analytics API\nTemporary access tokens for client dashboard viewing\n\"\"\"\n\nimport uuid\nimport logging\nfrom datetime import datetime, timedelta\nfrom typing import Dict, Optional, Any\n\nlogger = logging.getLogger(__name__)\n\nview_tokens: Dict[str, Dict[str, Any]] = {}\n\n\ndef create_view_token(client_id: str) -> Dict[str, Any]:\n    \"\"\"Create a view token for a client\"\"\"\n    token = str(uuid.uuid4())\n    expires_at = datetime.now() + timedelta(hours=24)\n    \n    view_tokens[token] = {\n        'client_id': client_id,\n        'expires_at': expires_at,\n        'used_count': 0\n    }\n    \n    logger.info(f\"Created view token for client: {client_id}\")\n    return {\n        'token': token,\n        'expires_at': expires_at.isoformat(),\n        'client_id': client_id\n    }\n\n\ndef validate_view_token(token: str) -> Optional[Dict[str, Any]]:\n    \"\"\"Validate a view token and return client info if valid\"\"\"\n    clean_expired_tokens()\n    \n    if token not in view_tokens:\n        return None\n    \n    token_data = view_tokens[token]\n    \n    if datetime.now() > token_data['expires_at']:\n        del view_tokens[token]\n        return None\n    \n    token_data['used_count'] += 1\n    \n    if token_data['used_count'] > 999999:\n        del view_tokens[token]\n        return None\n    \n    return token_data\n\n\ndef clean_expired_tokens():\n    \"\"\"Remove expired tokens from storage\"\"\"\n    now = datetime.now()\n    expired = [token for token, data in view_tokens.items() if now > data['expires_at']]\n    for token in expired:\n        del view_tokens[token]\n    if expired:\n        logger.info(f\"Cleaned {len(expired)} expired tokens\")\n","size_bytes":1652},"backend/fastapi_app.py":{"content":"\"\"\"\nNigzsu FastAPI Application\nModern Business Intelligence Dashboard with Smart Data Processing\n\"\"\"\n\nimport os\nimport json\nimport uuid\nimport base64\nimport logging\nimport pandas as pd\nfrom datetime import datetime\nfrom typing import Optional, Dict, List, Any\nfrom fastapi import FastAPI, HTTPException, Depends, status, Request\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.responses import JSONResponse\n\nfrom backend.app.models import (\n    LoginRequest,\n    LoginResponse,\n    ChartDataResponse,\n    DataIntelligence,\n    CreateUserRequest,\n    UpdateUserRequest,\n    CreateViewTokenRequest,\n    ViewTokenResponse,\n    AlarmEvent,\n    CreateAlarmRequest,\n    UpdateAlarmRequest,\n    DeviceInfo,\n    CreateDeviceRequest,\n    UpdateDeviceRequest,\n    RegisterInterestRequest,\n    RegisterInterestResponse\n)\nfrom backend.app.auth import (\n    hash_password,\n    verify_password,\n    authenticate_user,\n    security\n)\nfrom backend.app.database import (\n    load_users,\n    save_users,\n    load_alarm_logs,\n    save_alarm_logs,\n    load_device_lists,\n    save_device_lists,\n    get_active_table_name\n)\nfrom backend.app.config import (\n    get_allowed_origins,\n    USERS_FILE,\n    ALARM_LOGS_FILE,\n    DEVICE_LISTS_FILE,\n    INTEREST_SUBMISSIONS_FILE,\n    GCS_BUCKET\n)\nfrom backend.app.view_tokens import (\n    create_view_token,\n    validate_view_token,\n    view_tokens\n)\nfrom backend.app.data_processor import DataProcessor\nfrom backend.app.cloudsql import cloudsql_connection\nfrom sqlalchemy import text\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\napp = FastAPI(\n    title=\"Nigzsu Analytics API\",\n    description=\"Intelligent CCTV data analytics with auto-scaling insights\",\n    version=\"2.0.0\"\n)\n\nALLOWED_ORIGINS = get_allowed_origins()\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=ALLOWED_ORIGINS,\n    allow_credentials=True,\n    allow_methods=[\"GET\", \"POST\", \"PUT\", \"DELETE\", \"OPTIONS\"],\n    allow_headers=[\"Content-Type\", \"Authorization\", \"X-Requested-With\", \"Accept\"],\n)\n\n\n@app.get(\"/\")\nasync def root():\n    \"\"\"API health check\"\"\"\n    return {\"message\": \"Nigzsu Analytics API v2.0\", \"status\": \"healthy\"}\n\n\n@app.post(\"/api/register-interest\", response_model=RegisterInterestResponse)\nasync def register_interest(submission: RegisterInterestRequest):\n    \"\"\"Register interest form submission endpoint\"\"\"\n    try:\n        if os.path.exists(INTEREST_SUBMISSIONS_FILE):\n            with open(INTEREST_SUBMISSIONS_FILE, 'r') as f:\n                submissions = json.load(f)\n        else:\n            submissions = []\n        \n        submission_id = str(uuid.uuid4())\n        submission_data = {\n            'id': submission_id,\n            'name': submission.name,\n            'email': submission.email,\n            'company': submission.company,\n            'phone': submission.phone,\n            'business_type': submission.business_type,\n            'message': submission.message,\n            'submitted_at': datetime.now().isoformat()\n        }\n        \n        submissions.append(submission_data)\n        \n        os.makedirs(os.path.dirname(INTEREST_SUBMISSIONS_FILE), exist_ok=True)\n        with open(INTEREST_SUBMISSIONS_FILE, 'w') as f:\n            json.dump(submissions, f, indent=2)\n        \n        logger.info(f\"New interest submission from {submission.email} at {submission.company}\")\n        \n        return RegisterInterestResponse(\n            message=\"Thank you for your interest! We'll be in touch soon.\",\n            submission_id=submission_id\n        )\n        \n    except Exception as e:\n        logger.error(f\"Interest submission error: {e}\")\n        raise HTTPException(status_code=500, detail=\"Unable to process submission\")\n\n\n@app.post(\"/api/login\", response_model=LoginResponse)\nasync def login(login_request: LoginRequest):\n    \"\"\"Authentication endpoint for user login\"\"\"\n    try:\n        users = load_users()\n        username = login_request.username\n        password = login_request.password\n        \n        if username not in users:\n            raise HTTPException(status_code=401, detail=\"Invalid username or password\")\n        \n        user_data = users[username]\n        if not verify_password(password, user_data['password']):\n            raise HTTPException(status_code=401, detail=\"Invalid username or password\")\n        \n        users[username]['last_login'] = datetime.now().isoformat()\n        save_users(users)\n        \n        safe_user = {\n            'username': username,\n            'role': user_data['role'],\n            'name': user_data['name'],\n            'table_name': user_data.get('table_name', '')\n        }\n        \n        return LoginResponse(\n            user=safe_user,\n            message=\"Login successful\"\n        )\n        \n    except HTTPException:\n        raise\n    except Exception as e:\n        logger.error(f\"Login error: {e}\")\n        raise HTTPException(status_code=500, detail=\"Internal server error\")\n\n\n@app.post(\"/api/admin/create-view-token\", response_model=ViewTokenResponse)\nasync def create_admin_view_token(\n    token_request: CreateViewTokenRequest,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Create a temporary view token for a client (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    if token_request.client_id not in users:\n        raise HTTPException(status_code=404, detail=\"Client not found\")\n    \n    if users[token_request.client_id]['role'] != 'client':\n        raise HTTPException(status_code=400, detail=\"Can only create view tokens for client users\")\n    \n    token_data = create_view_token(token_request.client_id)\n    \n    return ViewTokenResponse(**token_data)\n\n\n@app.get(\"/api/view-dashboard/{token}\")\nasync def get_view_dashboard_info(token: str):\n    \"\"\"Validate view token and return client information\"\"\"\n    token_data = validate_view_token(token)\n    \n    if not token_data:\n        raise HTTPException(status_code=401, detail=\"Invalid or expired token\")\n    \n    users = load_users()\n    client_id = token_data['client_id']\n    \n    if client_id not in users:\n        raise HTTPException(status_code=404, detail=\"Client not found\")\n    \n    client_data = users[client_id]\n    \n    return {\n        'client_id': client_id,\n        'name': client_data['name'],\n        'table_name': client_data.get('table_name', ''),\n        'token_valid': True\n    }\n\n\ndef _authenticate_chart_data_request(request: Request, view_token: Optional[str]) -> str:\n    \"\"\"Helper function to authenticate chart data requests (view token or Basic auth)\"\"\"\n    if view_token:\n        token_data = validate_view_token(view_token)\n        if not token_data:\n            raise HTTPException(status_code=401, detail=\"Invalid or expired view token\")\n        \n        users = load_users()\n        client_id = token_data['client_id']\n        \n        if client_id not in users:\n            raise HTTPException(status_code=404, detail=\"Client not found\")\n        \n        table_name = get_active_table_name(client_id, users)\n        if not table_name:\n            raise HTTPException(status_code=400, detail=\"No table configured for this client\")\n        return table_name\n    \n    else:\n        auth_header = request.headers.get('Authorization')\n        if not auth_header or not auth_header.startswith('Basic '):\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Authentication required\"\n            )\n        \n        try:\n            decoded = base64.b64decode(auth_header.split(' ')[1]).decode('utf-8')\n            username, password = decoded.split(':', 1)\n            \n            users = load_users()\n            if username not in users or not verify_password(password, users[username]['password']):\n                raise HTTPException(\n                    status_code=status.HTTP_401_UNAUTHORIZED,\n                    detail=\"Invalid credentials\"\n                )\n            \n            table_name = get_active_table_name(username, users)\n            if not table_name:\n                raise HTTPException(status_code=400, detail=\"No table configured for this user\")\n            return table_name\n        except HTTPException:\n            raise\n        except Exception as e:\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Invalid credentials\"\n            )\n\n\n@app.get(\"/api/chart-data\", response_model=ChartDataResponse)\nasync def get_chart_data(\n    request: Request,\n    start_date: Optional[str] = None,\n    end_date: Optional[str] = None,\n    gender: Optional[str] = None,\n    age_group: Optional[str] = None,\n    event: Optional[str] = None,\n    view_token: Optional[str] = None\n):\n    \"\"\"\n    Get intelligent chart data using SQL aggregation - much faster than loading all rows\n    Supports both authenticated users and view tokens\n    \"\"\"\n    try:\n        table_name = _authenticate_chart_data_request(request, view_token)\n        \n        filters = {\n            'start_date': start_date,\n            'end_date': end_date,\n            'gender': gender,\n            'age_group': age_group,\n            'event': event\n        }\n        \n        # Get aggregated data from SQL\n        agg_data = DataProcessor.get_aggregated_analytics(table_name, filters)\n        \n        stats = agg_data['stats'].iloc[0] if len(agg_data['stats']) > 0 else None\n        total_records = int(stats['total_records']) if stats is not None else 0\n        \n        # Build demographics from aggregated data\n        gender_counts = {}\n        age_counts = {}\n        for _, row in agg_data['demographics'].iterrows():\n            gender_counts[row['sex']] = gender_counts.get(row['sex'], 0) + int(row['count'])\n            age_counts[row['age_bucket']] = age_counts.get(row['age_bucket'], 0) + int(row['count'])\n        \n        # Build hourly distribution\n        hourly_dist = {int(row['hour']): int(row['count']) for _, row in agg_data['hourly'].iterrows()}\n        peak_hour = max(hourly_dist.items(), key=lambda x: x[1])[0] if hourly_dist else 12\n        peak_hours = sorted(hourly_dist.items(), key=lambda x: x[1], reverse=True)[:3]\n        peak_hours_list = [int(h[0]) for h in peak_hours]\n        \n        # Calculate date span\n        date_span_days = 0\n        if stats is not None and stats['min_timestamp'] and stats['max_timestamp']:\n            date_span_days = (stats['max_timestamp'] - stats['min_timestamp']).days\n        \n        optimal_granularity = \"hourly\"\n        if date_span_days > 30:\n            optimal_granularity = \"weekly\"\n        elif date_span_days > 7:\n            optimal_granularity = \"daily\"\n        \n        # Get dwell time\n        avg_dwell = 0\n        if len(agg_data['dwell']) > 0 and agg_data['dwell'].iloc[0]['avg_dwell_minutes']:\n            avg_dwell = float(agg_data['dwell'].iloc[0]['avg_dwell_minutes'])\n        \n        # Use actual event records from database (limited to 10k for performance)\n        chart_data = []\n        for _, row in agg_data['records'].iterrows():\n            timestamp = pd.to_datetime(row['timestamp'])\n            chart_data.append({\n                'timestamp': timestamp.isoformat(),\n                'hour': timestamp.hour,\n                'date': timestamp.date().isoformat(),\n                'event': 'entry' if row['event'] == 1 else 'exit',\n                'track_number': row['track_id'],\n                'sex': row['sex'],\n                'age_estimate': row['age_bucket'],\n                'day_of_week': timestamp.strftime('%A'),\n                'index': 0\n            })\n        \n        summary = {\n            'total_records': total_records,\n            'date_range': {\n                'start': stats['min_timestamp'].isoformat() if stats is not None and stats['min_timestamp'] else None,\n                'end': stats['max_timestamp'].isoformat() if stats is not None and stats['max_timestamp'] else None\n            },\n            'demographics': {\n                'gender': gender_counts,\n                'age_groups': age_counts\n            }\n        }\n        \n        intelligence = {\n            'total_records': total_records,\n            'date_span_days': date_span_days,\n            'latest_timestamp': stats['max_timestamp'] if stats is not None else None,\n            'optimal_granularity': optimal_granularity,\n            'peak_hours': peak_hours_list,\n            'demographics_breakdown': {\n                'gender': gender_counts,\n                'age_groups': age_counts,\n                'events': {'entry': int(stats['entries']) if stats is not None else 0, 'exit': int(stats['exits']) if stats is not None else 0}\n            },\n            'temporal_patterns': {\n                'hourly_distribution': hourly_dist,\n                'daily_distribution': {},\n                'peak_times': {\n                    'hour': peak_hour,\n                    'count': hourly_dist.get(peak_hour, 0)\n                }\n            },\n            'avg_dwell_minutes': avg_dwell\n        }\n        \n        return ChartDataResponse(\n            data=chart_data,\n            summary=summary,\n            intelligence=intelligence\n        )\n        \n    except HTTPException:\n        raise\n    except Exception as e:\n        logger.error(f\"Chart data error: {e}\", exc_info=True)\n        raise HTTPException(status_code=500, detail=f\"Failed to process chart data: {str(e)}\")\n\n\n@app.get(\"/api/search-events\")\nasync def search_events(\n    request: Request,\n    start_date: Optional[str] = None,\n    end_date: Optional[str] = None,\n    event_type: Optional[str] = None,\n    sex: Optional[str] = None,\n    age: Optional[str] = None,\n    track_id: Optional[str] = None,\n    page: int = 1,\n    per_page: int = 20,\n    view_token: Optional[str] = None\n):\n    \"\"\"\n    Search events with filters and pagination - queries database directly for full dataset access\n    \"\"\"\n    try:\n        table_name = _authenticate_chart_data_request(request, view_token)\n        \n        params = {}\n        where_clauses = []\n        \n        # Build parameterized WHERE clauses\n        if start_date:\n            where_clauses.append(\"timestamp >= :start_date\")\n            params['start_date'] = start_date\n        if end_date:\n            where_clauses.append(\"timestamp <= :end_date\")\n            params['end_date'] = end_date\n        if event_type and event_type.lower() != 'all':\n            event_val = 1 if event_type.lower() == 'entry' else 0\n            where_clauses.append(\"event = :event\")\n            params['event'] = event_val\n        if sex and sex.lower() != 'all':\n            where_clauses.append(\"sex = :sex\")\n            params['sex'] = sex\n        if age and age.lower() != 'all':\n            where_clauses.append(\"age_bucket = :age\")\n            params['age'] = age\n        if track_id:\n            where_clauses.append(\"CAST(track_id AS TEXT) LIKE :track_id\")\n            params['track_id'] = f\"%{track_id}%\"\n        \n        where_sql = f\"WHERE {' AND '.join(where_clauses)}\" if where_clauses else \"\"\n        \n        # Calculate offset for pagination\n        offset = (page - 1) * per_page\n        \n        with cloudsql_connection.get_connection_context() as conn:\n            # Get total count\n            count_query = text(f\"\"\"\n                SELECT COUNT(*) as total\n                FROM {table_name}\n                {where_sql}\n            \"\"\")\n            count_result = pd.read_sql(count_query, conn, params=params)\n            total_count = int(count_result.iloc[0]['total'])\n            \n            # Get paginated results\n            search_query = text(f\"\"\"\n                SELECT \n                    track_id,\n                    event,\n                    timestamp,\n                    sex,\n                    age_bucket\n                FROM {table_name}\n                {where_sql}\n                ORDER BY timestamp DESC\n                LIMIT :limit OFFSET :offset\n            \"\"\")\n            params['limit'] = per_page\n            params['offset'] = offset\n            \n            results_df = pd.read_sql(search_query, conn, params=params)\n            \n            # Transform results to match frontend format\n            events = []\n            for _, row in results_df.iterrows():\n                timestamp = pd.to_datetime(row['timestamp'])\n                events.append({\n                    'track_number': row['track_id'],\n                    'event': 'entry' if row['event'] == 1 else 'exit',\n                    'timestamp': timestamp.isoformat(),\n                    'sex': row['sex'],\n                    'age_estimate': row['age_bucket']\n                })\n            \n            return {\n                'events': events,\n                'total': total_count,\n                'page': page,\n                'per_page': per_page,\n                'total_pages': (total_count + per_page - 1) // per_page\n            }\n            \n    except HTTPException:\n        raise\n    except Exception as e:\n        logger.error(f\"Event search error: {e}\", exc_info=True)\n        raise HTTPException(status_code=500, detail=f\"Failed to search events: {str(e)}\")\n\n\n@app.get(\"/api/admin/users\")\nasync def get_users(user: dict = Depends(authenticate_user)):\n    \"\"\"Get all users (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    safe_users = []\n    for username, user_data in users.items():\n        safe_users.append({\n            'username': username,\n            'name': user_data['name'],\n            'role': user_data['role'],\n            'table_name': user_data.get('table_name', ''),\n            'last_login': user_data.get('last_login'),\n            'data_sources': user_data.get('data_sources', [])\n        })\n    \n    return {'users': safe_users}\n\n\n@app.post(\"/api/admin/users\")\nasync def create_user(\n    create_request: CreateUserRequest,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Create a new user (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    if create_request.username in users:\n        raise HTTPException(status_code=400, detail=\"Username already exists\")\n    \n    users[create_request.username] = {\n        'password': hash_password(create_request.password),\n        'name': create_request.name,\n        'role': create_request.role,\n        'table_name': create_request.table_name or '',\n        'last_login': None,\n        'data_sources': []\n    }\n    \n    save_users(users)\n    \n    logger.info(f\"Admin created user: {create_request.username}\")\n    return {'success': True, 'message': f'User {create_request.username} created successfully'}\n\n\n@app.put(\"/api/admin/users/{username}\")\nasync def update_user(\n    username: str,\n    update_request: UpdateUserRequest,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Update an existing user (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    if username not in users:\n        raise HTTPException(status_code=404, detail=\"User not found\")\n    \n    if update_request.name is not None:\n        users[username]['name'] = update_request.name\n    if update_request.password is not None:\n        users[username]['password'] = hash_password(update_request.password)\n    if update_request.role is not None:\n        users[username]['role'] = update_request.role\n    if update_request.table_name is not None:\n        users[username]['table_name'] = update_request.table_name\n    \n    save_users(users)\n    \n    logger.info(f\"Admin updated user: {username}\")\n    return {'success': True, 'message': f'User {username} updated successfully'}\n\n\n@app.delete(\"/api/admin/users/{username}\")\nasync def delete_user(\n    username: str,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Delete a user (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    if username == user['username']:\n        raise HTTPException(status_code=400, detail=\"Cannot delete your own account\")\n    \n    users = load_users()\n    \n    if username not in users:\n        raise HTTPException(status_code=404, detail=\"User not found\")\n    \n    del users[username]\n    save_users(users)\n    \n    logger.info(f\"Admin deleted user: {username}\")\n    return {'success': True, 'message': f'User {username} deleted successfully'}\n\n\n@app.get(\"/api/admin/data-sources/{client_id}\")\nasync def get_data_sources(\n    client_id: str,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Get data sources for a client (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    if client_id not in users:\n        raise HTTPException(status_code=404, detail=\"Client not found\")\n    \n    if users[client_id]['role'] != 'client':\n        raise HTTPException(status_code=400, detail=\"User is not a client\")\n    \n    data_sources = users[client_id].get('data_sources', [])\n    \n    return {'data_sources': data_sources, 'client_id': client_id}\n\n\n@app.post(\"/api/admin/data-sources/{client_id}\")\nasync def add_data_source(\n    client_id: str,\n    request: Dict[str, Any],\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Add a data source for a client (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    if client_id not in users:\n        raise HTTPException(status_code=404, detail=\"Client not found\")\n    \n    if users[client_id]['role'] != 'client':\n        raise HTTPException(status_code=400, detail=\"User is not a client\")\n    \n    title = request.get('title', '').strip()\n    url = request.get('url', '').strip()\n    source_type = request.get('type', 'Camera')\n    \n    if not title:\n        raise HTTPException(status_code=400, detail=\"Title is required\")\n    if not url:\n        raise HTTPException(status_code=400, detail=\"URL is required\")\n    if not (url.startswith('http://') or url.startswith('https://')):\n        raise HTTPException(status_code=400, detail=\"URL must start with http:// or https://\")\n    \n    if 'data_sources' not in users[client_id]:\n        users[client_id]['data_sources'] = []\n    \n    existing_sources = users[client_id]['data_sources']\n    source_id = f\"source_{len(existing_sources) + 1}\"\n    \n    is_first_source = len(existing_sources) == 0\n    new_source = {\n        'id': source_id,\n        'title': title,\n        'url': url,\n        'type': source_type,\n        'active': is_first_source\n    }\n    \n    users[client_id]['data_sources'].append(new_source)\n    save_users(users)\n    \n    logger.info(f\"Admin added data source {source_id} for client {client_id}\")\n    return {'success': True, 'message': 'Data source added successfully', 'source': new_source}\n\n\n@app.put(\"/api/admin/data-sources/{client_id}/{source_id}\")\nasync def update_data_source(\n    client_id: str,\n    source_id: str,\n    request: Dict[str, Any],\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Update a data source for a client (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    if client_id not in users:\n        raise HTTPException(status_code=404, detail=\"Client not found\")\n    \n    if users[client_id]['role'] != 'client':\n        raise HTTPException(status_code=400, detail=\"User is not a client\")\n    \n    data_sources = users[client_id].get('data_sources', [])\n    \n    if 'title' in request and not request['title'].strip():\n        raise HTTPException(status_code=400, detail=\"Title cannot be empty\")\n    if 'url' in request:\n        url = request['url'].strip()\n        if not url:\n            raise HTTPException(status_code=400, detail=\"URL cannot be empty\")\n        if not (url.startswith('http://') or url.startswith('https://')):\n            raise HTTPException(status_code=400, detail=\"URL must start with http:// or https://\")\n    if 'type' in request and request['type'] not in ['Camera', 'Sensor', 'Gateway']:\n        raise HTTPException(status_code=400, detail=\"Type must be Camera, Sensor, or Gateway\")\n    \n    source_found = False\n    for source in data_sources:\n        if source['id'] == source_id:\n            if 'title' in request:\n                source['title'] = request['title'].strip()\n            if 'url' in request:\n                source['url'] = request['url'].strip()\n            if 'type' in request:\n                source['type'] = request['type']\n            source_found = True\n            break\n    \n    if not source_found:\n        raise HTTPException(status_code=404, detail=\"Data source not found\")\n    \n    save_users(users)\n    \n    logger.info(f\"Admin updated data source {source_id} for client {client_id}\")\n    return {'success': True, 'message': 'Data source updated successfully'}\n\n\n@app.delete(\"/api/admin/data-sources/{client_id}/{source_id}\")\nasync def delete_data_source(\n    client_id: str,\n    source_id: str,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Delete a data source for a client (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    if client_id not in users:\n        raise HTTPException(status_code=404, detail=\"Client not found\")\n    \n    if users[client_id]['role'] != 'client':\n        raise HTTPException(status_code=400, detail=\"User is not a client\")\n    \n    data_sources = users[client_id].get('data_sources', [])\n    \n    was_active = False\n    for source in data_sources:\n        if source['id'] == source_id and source.get('active', False):\n            was_active = True\n            break\n    \n    initial_length = len(data_sources)\n    users[client_id]['data_sources'] = [s for s in data_sources if s['id'] != source_id]\n    \n    if len(users[client_id]['data_sources']) == initial_length:\n        raise HTTPException(status_code=404, detail=\"Data source not found\")\n    \n    for idx, source in enumerate(users[client_id]['data_sources']):\n        source['id'] = f\"source_{idx + 1}\"\n    \n    if was_active and len(users[client_id]['data_sources']) > 0:\n        users[client_id]['data_sources'][0]['active'] = True\n    \n    save_users(users)\n    \n    logger.info(f\"Admin deleted data source {source_id} for client {client_id}\")\n    return {'success': True, 'message': 'Data source deleted successfully'}\n\n\n@app.post(\"/api/admin/data-sources/{client_id}/{source_id}/set-active\")\nasync def set_active_data_source(\n    client_id: str,\n    source_id: str,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Set a data source as active for a client (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    users = load_users()\n    \n    if client_id not in users:\n        raise HTTPException(status_code=404, detail=\"Client not found\")\n    \n    if users[client_id]['role'] != 'client':\n        raise HTTPException(status_code=400, detail=\"User is not a client\")\n    \n    data_sources = users[client_id].get('data_sources', [])\n    \n    source_found = False\n    for source in data_sources:\n        if source['id'] == source_id:\n            source['active'] = True\n            source_found = True\n        else:\n            source['active'] = False\n    \n    if not source_found:\n        raise HTTPException(status_code=404, detail=\"Data source not found\")\n    \n    save_users(users)\n    \n    logger.info(f\"Admin set data source {source_id} as active for client {client_id}\")\n    return {'success': True, 'message': 'Data source activated successfully'}\n\n\n@app.get(\"/api/alarm-logs\")\nasync def get_alarm_logs(\n    request: Request,\n    view_token: Optional[str] = None,\n    client_id: Optional[str] = None\n):\n    \"\"\"Get alarm logs for a client (supports view tokens and authenticated users)\"\"\"\n    alarm_data = load_alarm_logs()\n    target_client = None\n    \n    if view_token:\n        token_data = validate_view_token(view_token)\n        if not token_data:\n            raise HTTPException(status_code=401, detail=\"Invalid or expired view token\")\n        target_client = token_data['client_id']\n    else:\n        auth_header = request.headers.get('Authorization')\n        if not auth_header or not auth_header.startswith('Basic '):\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Authentication required\"\n            )\n        \n        try:\n            decoded = base64.b64decode(auth_header.split(' ')[1]).decode('utf-8')\n            username, password = decoded.split(':', 1)\n            \n            users = load_users()\n            if username not in users or not verify_password(password, users[username]['password']):\n                raise HTTPException(\n                    status_code=status.HTTP_401_UNAUTHORIZED,\n                    detail=\"Invalid credentials\"\n                )\n            \n            user_role = users[username]['role']\n            if user_role == 'client':\n                target_client = username\n            elif user_role == 'admin' and client_id:\n                target_client = client_id\n            else:\n                target_client = username\n        except Exception as e:\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Invalid credentials\"\n            )\n    \n    alarms = alarm_data.get(target_client, [])\n    return {'alarms': alarms, 'client_id': target_client}\n\n\n@app.post(\"/api/admin/alarm-logs\")\nasync def create_alarm_log(\n    create_request: CreateAlarmRequest,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Create a new alarm log (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    alarm_data = load_alarm_logs()\n    \n    if create_request.client_id not in alarm_data:\n        alarm_data[create_request.client_id] = []\n    \n    new_alarm = {\n        'id': f\"alarm-{str(uuid.uuid4())[:8]}\",\n        'instance': create_request.instance,\n        'device': create_request.device,\n        'description': create_request.description,\n        'alarmStartedAt': create_request.alarmStartedAt,\n        'alarmClearedAfter': create_request.alarmClearedAfter,\n        'severity': create_request.severity,\n        'client_id': create_request.client_id\n    }\n    \n    alarm_data[create_request.client_id].append(new_alarm)\n    save_alarm_logs(alarm_data)\n    \n    logger.info(f\"Admin created alarm: {new_alarm['id']} for client: {create_request.client_id}\")\n    return {'success': True, 'alarm': new_alarm}\n\n\n@app.put(\"/api/admin/alarm-logs/{alarm_id}\")\nasync def update_alarm_log(\n    alarm_id: str,\n    update_request: UpdateAlarmRequest,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Update an existing alarm log (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    alarm_data = load_alarm_logs()\n    \n    for client_id, alarms in alarm_data.items():\n        for alarm in alarms:\n            if alarm['id'] == alarm_id:\n                if update_request.instance is not None:\n                    alarm['instance'] = update_request.instance\n                if update_request.device is not None:\n                    alarm['device'] = update_request.device\n                if update_request.description is not None:\n                    alarm['description'] = update_request.description\n                if update_request.alarmStartedAt is not None:\n                    alarm['alarmStartedAt'] = update_request.alarmStartedAt\n                if update_request.alarmClearedAfter is not None:\n                    alarm['alarmClearedAfter'] = update_request.alarmClearedAfter\n                if update_request.severity is not None:\n                    alarm['severity'] = update_request.severity\n                \n                save_alarm_logs(alarm_data)\n                logger.info(f\"Admin updated alarm: {alarm_id}\")\n                return {'success': True, 'alarm': alarm}\n    \n    raise HTTPException(status_code=404, detail=\"Alarm not found\")\n\n\n@app.delete(\"/api/admin/alarm-logs/{alarm_id}\")\nasync def delete_alarm_log(\n    alarm_id: str,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Delete an alarm log (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    alarm_data = load_alarm_logs()\n    \n    for client_id, alarms in alarm_data.items():\n        for i, alarm in enumerate(alarms):\n            if alarm['id'] == alarm_id:\n                deleted_alarm = alarms.pop(i)\n                save_alarm_logs(alarm_data)\n                logger.info(f\"Admin deleted alarm: {alarm_id}\")\n                return {'success': True, 'message': f'Alarm {alarm_id} deleted successfully'}\n    \n    raise HTTPException(status_code=404, detail=\"Alarm not found\")\n\n\n@app.get(\"/api/device-list\")\nasync def get_device_list(\n    request: Request,\n    view_token: Optional[str] = None,\n    client_id: Optional[str] = None\n):\n    \"\"\"Get device list for a client (supports view tokens and authenticated users)\"\"\"\n    device_data = load_device_lists()\n    target_client = None\n    \n    if view_token:\n        token_data = validate_view_token(view_token)\n        if not token_data:\n            raise HTTPException(status_code=401, detail=\"Invalid or expired view token\")\n        target_client = token_data['client_id']\n    else:\n        auth_header = request.headers.get('Authorization')\n        if not auth_header or not auth_header.startswith('Basic '):\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Authentication required\"\n            )\n        \n        try:\n            decoded = base64.b64decode(auth_header.split(' ')[1]).decode('utf-8')\n            username, password = decoded.split(':', 1)\n            \n            users = load_users()\n            if username not in users or not verify_password(password, users[username]['password']):\n                raise HTTPException(\n                    status_code=status.HTTP_401_UNAUTHORIZED,\n                    detail=\"Invalid credentials\"\n                )\n            \n            user_role = users[username]['role']\n            if user_role == 'client':\n                target_client = username\n            elif user_role == 'admin' and client_id:\n                target_client = client_id\n            else:\n                target_client = username\n        except Exception as e:\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Invalid credentials\"\n            )\n    \n    devices = device_data.get(target_client, [])\n    \n    users = load_users()\n    data_sources = []\n    if target_client and target_client in users:\n        data_sources = users[target_client].get('data_sources', [])\n    \n    return {'devices': devices, 'client_id': target_client, 'data_sources': data_sources}\n\n\n@app.post(\"/api/admin/device-list\")\nasync def create_device(\n    create_request: CreateDeviceRequest,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Create a new device (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    device_data = load_device_lists()\n    \n    if create_request.client_id not in device_data:\n        device_data[create_request.client_id] = []\n    \n    new_device = {\n        'id': f\"device-{str(uuid.uuid4())[:8]}\",\n        'name': create_request.name,\n        'type': create_request.type,\n        'status': create_request.status,\n        'lastSeen': create_request.lastSeen,\n        'dataSource': create_request.dataSource,\n        'location': create_request.location,\n        'recordCount': create_request.recordCount,\n        'client_id': create_request.client_id\n    }\n    \n    device_data[create_request.client_id].append(new_device)\n    save_device_lists(device_data)\n    \n    logger.info(f\"Admin created device: {new_device['id']} for client: {create_request.client_id}\")\n    return {'success': True, 'device': new_device}\n\n\n@app.put(\"/api/admin/device-list/{device_id}\")\nasync def update_device(\n    device_id: str,\n    update_request: UpdateDeviceRequest,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Update an existing device (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    device_data = load_device_lists()\n    \n    for client_id, devices in device_data.items():\n        for device in devices:\n            if device['id'] == device_id:\n                if update_request.name is not None:\n                    device['name'] = update_request.name\n                if update_request.type is not None:\n                    device['type'] = update_request.type\n                if update_request.status is not None:\n                    device['status'] = update_request.status\n                if update_request.lastSeen is not None:\n                    device['lastSeen'] = update_request.lastSeen\n                if update_request.dataSource is not None:\n                    device['dataSource'] = update_request.dataSource\n                if update_request.location is not None:\n                    device['location'] = update_request.location\n                if update_request.recordCount is not None:\n                    device['recordCount'] = update_request.recordCount\n                \n                save_device_lists(device_data)\n                logger.info(f\"Admin updated device: {device_id}\")\n                return {'success': True, 'device': device}\n    \n    raise HTTPException(status_code=404, detail=\"Device not found\")\n\n\n@app.delete(\"/api/admin/device-list/{device_id}\")\nasync def delete_device(\n    device_id: str,\n    user: dict = Depends(authenticate_user)\n):\n    \"\"\"Delete a device (admin only)\"\"\"\n    if user['role'] != 'admin':\n        raise HTTPException(status_code=403, detail=\"Admin access required\")\n    \n    device_data = load_device_lists()\n    \n    for client_id, devices in device_data.items():\n        for i, device in enumerate(devices):\n            if device['id'] == device_id:\n                deleted_device = devices.pop(i)\n                save_device_lists(device_data)\n                logger.info(f\"Admin deleted device: {device_id}\")\n                return {'success': True, 'message': f'Device {device_id} deleted successfully'}\n    \n    raise HTTPException(status_code=404, detail=\"Device not found\")\n\n\nif __name__ == \"__main__\":\n    import uvicorn\n    port = int(os.environ.get(\"PORT\", 8000))\n    uvicorn.run(app, host=\"0.0.0.0\", port=port)\n","size_bytes":39069},"README.md":{"content":"# Nigzsu Business Intelligence Dashboard\n\nA modern React and FastAPI business intelligence dashboard that converts CCTV-derived data into actionable insights. Features role-based access for administrators and clients with real-time analytics from Google Sheets CSV data.\n\n## 🏗️ Architecture\n\n**Frontend**: React SPA with TypeScript, ECharts/Recharts visualizations, React Router navigation, and professional dark theme  \n**Backend**: FastAPI REST API with modular design, HTTP Basic Auth, SHA-256 password hashing, and Pandas data processing  \n**Data**: Google Sheets CSV exports as primary data source, JSON file-based user storage  \n**Deployment**: Docker multi-stage builds with Nginx, optimized for Google Cloud Run\n\n## 📋 Prerequisites\n\n- **Python 3.11+** (for backend)\n- **Node.js 20+** (for frontend)\n- **Docker** (for containerized deployment)\n- **Google Cloud CLI** (for Cloud Run deployment)\n\n## 🚀 Local Development\n\n### Backend Setup\n\n1. **Navigate to backend directory**\n   ```bash\n   cd backend\n   ```\n\n2. **Install Python dependencies**\n   ```bash\n   pip install -r requirements.txt\n   ```\n\n3. **Run the FastAPI server**\n   ```bash\n   cd ..\n   python3 -m uvicorn backend.fastapi_app:app --host 0.0.0.0 --port 8000 --reload\n   ```\n\n   Backend API will be available at `http://localhost:8000`  \n   API documentation at `http://localhost:8000/docs`\n\n### Frontend Setup\n\n1. **Navigate to frontend directory**\n   ```bash\n   cd frontend\n   ```\n\n2. **Install Node dependencies**\n   ```bash\n   npm install\n   ```\n\n3. **Start the development server**\n   ```bash\n   HOST=0.0.0.0 npm start\n   ```\n\n   Frontend will be available at `http://localhost:5000`\n\n### Running Both Services\n\nFor development, run both commands in separate terminals:\n\n```bash\n# Terminal 1: Backend\npython3 -m uvicorn backend.fastapi_app:app --host 0.0.0.0 --port 8000 --reload\n\n# Terminal 2: Frontend  \ncd frontend && HOST=0.0.0.0 npm start\n```\n\n## 🐳 Docker Build & Testing\n\n### Build the Docker image\n\n```bash\ndocker build -t nigzsu-analytics .\n```\n\n### Run locally with Docker\n\n```bash\ndocker run -p 8080:8080 nigzsu-analytics\n```\n\nApplication will be available at `http://localhost:8080`\n\n### Verify the build\n\n```bash\n# Check container health\ncurl http://localhost:8080/health\n\n# Test API\ncurl http://localhost:8080/api/\n```\n\n## ☁️ Google Cloud Run Deployment\n\n### Prerequisites\n\n1. **Install Google Cloud CLI**\n   ```bash\n   curl https://sdk.cloud.google.com | bash\n   exec -l $SHELL\n   ```\n\n2. **Authenticate and configure**\n   ```bash\n   gcloud auth login\n   gcloud config set project YOUR_PROJECT_ID\n   ```\n\n### Deploy to Cloud Run\n\n**Option 1: Direct deployment from source**\n```bash\ngcloud run deploy nigzsu-analytics \\\n  --source . \\\n  --region us-central1 \\\n  --port 8080 \\\n  --allow-unauthenticated \\\n  --memory 1Gi \\\n  --cpu 1 \\\n  --max-instances 10\n```\n\n**Option 2: Build and deploy from Docker image**\n```bash\n# Build and push to Google Container Registry\ngcloud builds submit --tag gcr.io/YOUR_PROJECT_ID/nigzsu-analytics\n\n# Deploy the image\ngcloud run deploy nigzsu-analytics \\\n  --image gcr.io/YOUR_PROJECT_ID/nigzsu-analytics \\\n  --region us-central1 \\\n  --port 8080 \\\n  --allow-unauthenticated \\\n  --memory 1Gi \\\n  --cpu 1\n```\n\n### Environment Variables (Optional)\n\nSet environment variables during deployment if needed:\n\n```bash\ngcloud run deploy nigzsu-analytics \\\n  --source . \\\n  --region us-central1 \\\n  --set-env-vars=\"NODE_ENV=production\"\n```\n\n**Note:** The app uses Google Sheets CSV exports (via public URLs) for data and local JSON files for user storage. No cloud storage buckets are required.\n\n### Post-Deployment\n\nAfter deployment, Cloud Run will provide a URL like:\n```\nhttps://nigzsu-analytics-xxxxxx-uc.a.run.app\n```\n\nAccess your application at this URL.\n\n## 📁 Project Structure\n\n```\nnigzsu/\n├── backend/              # FastAPI backend\n│   ├── app/             # Core modules (auth, database, models)\n│   ├── data/            # JSON data files\n│   └── fastapi_app.py   # Main application entry\n├── frontend/            # React TypeScript frontend\n│   ├── src/            # Source code\n│   │   ├── components/ # Reusable components\n│   │   ├── pages/      # Page components\n│   │   └── styles/     # CSS styles\n│   └── package.json    # Frontend dependencies\n├── Dockerfile          # Multi-stage Docker build\n├── app.yaml           # Cloud Run configuration examples\n└── .gcloudignore     # Files to exclude from deployment\n```\n\n## 🔐 Default Credentials\n\n**Admin Account:**\n- Username: `admin`\n- Password: `admin123`\n\n**Client Account:**\n- Username: `client1`\n- Password: `client123`\n\n⚠️ **Change these credentials in production!**\n\n## 🔧 Configuration Files\n\n- **`backend/requirements.txt`** - Python dependencies\n- **`frontend/package.json`** - Node.js dependencies\n- **`frontend/.env`** - Development environment variables\n- **`frontend/.env.production`** - Production build configuration\n- **`Dockerfile`** - Container build instructions\n- **`.gcloudignore`** - Deployment exclusions\n\n## 📊 Key Features\n\n- **Role-Based Access Control** - Admin and client user roles\n- **Real-time Analytics** - Interactive charts and data visualizations\n- **Google Sheets Integration** - CSV data import from public URLs\n- **View Token System** - Secure data sharing with expiring tokens\n- **Export Functionality** - PDF, Excel, and CSV export options\n- **Advanced Filtering** - Date range and search capabilities\n- **Responsive Design** - Professional dark theme UI\n\n## 🛠️ Development Notes\n\n- Backend uses **Pandas** for CSV processing and data manipulation\n- Frontend uses **ECharts** and **Recharts** for data visualization\n- Authentication uses **SHA-256** password hashing\n- Production deployment uses **Nginx** as reverse proxy\n- Multi-stage Docker build optimizes image size\n- Cloud Run auto-scales based on traffic\n\n## 📝 License\n\nProprietary - All rights reserved\n","size_bytes":6014},"frontend/src/pages/LandingPage.tsx":{"content":"import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/LandingPage.css';\n\nconst LandingPage: React.FC = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    company: '',\n    phone: '',\n    business_type: '',\n    message: ''\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const [submitError, setSubmitError] = useState('');\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSubmitError('');\n\n    if (!formData.name.trim() || !formData.email.trim() || !formData.company.trim()) {\n      setSubmitError('Please fill in all required fields.');\n      return;\n    }\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(formData.email)) {\n      setSubmitError('Please enter a valid email address.');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch('/api/register-interest', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        setSubmitSuccess(true);\n        setFormData({\n          name: '',\n          email: '',\n          company: '',\n          phone: '',\n          business_type: '',\n          message: ''\n        });\n      } else {\n        setSubmitError('Unable to submit form. Please try again.');\n      }\n    } catch (err) {\n      setSubmitError('Connection error. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const scrollToForm = () => {\n    const formSection = document.getElementById('register-form');\n    if (formSection) {\n      formSection.scrollIntoView({ behavior: 'smooth' });\n    }\n  };\n\n  return (\n    <div className=\"landing-page\">\n      <nav className=\"landing-nav\">\n        <div className=\"nav-container\">\n          <div className=\"nav-logo\">\n            <img src=\"/company-logo.png\" alt=\"Nigzsu Logo\" className=\"logo-image\" />\n            <span className=\"logo-text\">Nigzsu</span>\n          </div>\n          <div className=\"nav-links\">\n            <a href=\"#features\">Features</a>\n            <a href=\"#solution\">Solution</a>\n            <button onClick={() => navigate('/login')} className=\"nav-login-btn\">\n              Login\n            </button>\n            <button onClick={scrollToForm} className=\"nav-cta-btn\">\n              Get Started\n            </button>\n          </div>\n        </div>\n      </nav>\n\n      <section className=\"hero-section\">\n        <div className=\"hero-content\">\n          <h1 className=\"hero-title\">\n            Transform Your CCTV Footage<br />\n            Into <span className=\"highlight\">Instant Business Insights</span>\n          </h1>\n          <p className=\"hero-subtitle\">\n            Your cameras capture everything. Now learn from it.<br />\n            Frictionless visual intelligence — hassle free, instant, and effortless.\n          </p>\n          <button onClick={scrollToForm} className=\"hero-cta-btn\">\n            Get Started\n            <span className=\"btn-arrow\">→</span>\n          </button>\n        </div>\n        <div className=\"hero-visual\">\n          <div className=\"visual-grid\">\n            <div className=\"visual-card\"></div>\n            <div className=\"visual-card\"></div>\n            <div className=\"visual-card\"></div>\n            <div className=\"visual-card\"></div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"problem-section\">\n        <div className=\"section-container\">\n          <h2 className=\"section-title\">You already have the cameras.</h2>\n          <p className=\"section-description\">\n            They're watching your customers, your staff, your space — every hour of every day.<br />\n            But right now, they're only protecting you from risk.<br />\n            They're not helping you run your business better.\n          </p>\n          <p className=\"section-description\" style={{ marginTop: '2rem' }}>\n            Nigzsu transforms your existing CCTV footage into real operational insight —<br />\n            showing you things like:\n          </p>\n          <div className=\"insights-list\">\n            <div className=\"insight-item\">\n              <span className=\"insight-bullet\">•</span>\n              <span className=\"insight-text\">When and where your business gets busiest</span>\n            </div>\n            <div className=\"insight-item\">\n              <span className=\"insight-bullet\">•</span>\n              <span className=\"insight-text\">How long customers wait to be served</span>\n            </div>\n            <div className=\"insight-item\">\n              <span className=\"insight-bullet\">•</span>\n              <span className=\"insight-text\">Which areas are underused or overstaffed</span>\n            </div>\n          </div>\n          <p className=\"section-description\" style={{ marginTop: '2rem', fontWeight: '600' }}>\n            No new hardware. No technical setup.<br />\n            Just plug in, and start seeing your business clearly.\n          </p>\n          <p className=\"section-description\" style={{ marginTop: '1.5rem', fontSize: '1.1rem' }}>\n            Your cameras can do more than watch — they can help you grow.\n          </p>\n        </div>\n      </section>\n\n      <section id=\"solution\" className=\"solution-section\">\n        <div className=\"section-container\">\n          <h2 className=\"section-title\">Meet Nigzsu</h2>\n          <p className=\"section-description\">\n            We transform raw CCTV footage into clear, actionable intelligence—without the hassle, \n            technical complexity, or cost.\n          </p>\n          <div className=\"solution-cards\">\n            <div className=\"solution-card\">\n              <div className=\"card-icon\">[Icon]</div>\n              <h3>Instant Clarity</h3>\n              <p>Real-time processing delivers insights immediately—no waiting, no complexity.</p>\n            </div>\n            <div className=\"solution-card\">\n              <div className=\"card-icon\">[Icon]</div>\n              <h3>Effortless Integration</h3>\n              <p>Secure API connects to your existing CCTV system. Zero setup costs, zero disruption.</p>\n            </div>\n            <div className=\"solution-card\">\n              <div className=\"card-icon\">[Icon]</div>\n              <h3>Customizable Dashboard</h3>\n              <p>Intuitive interface tailored to your business needs—no technical expertise required.</p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section id=\"features\" className=\"features-section\">\n        <div className=\"section-container\">\n          <h2 className=\"section-title\">Built For Business Owners</h2>\n          <div className=\"features-grid\">\n            <div className=\"feature-item\">\n              <div className=\"feature-icon\">[Check]</div>\n              <div className=\"feature-content\">\n                <h3>No Technical Expertise</h3>\n                <p>Designed for decision-makers who don't have time to waste learning complex systems.</p>\n              </div>\n            </div>\n            <div className=\"feature-item\">\n              <div className=\"feature-icon\">[Check]</div>\n              <div className=\"feature-content\">\n                <h3>1 Year Free Trial</h3>\n                <p>Register your interest now for a limited time and get a full year completely free. Zero hidden fees or subscription traps—ever.</p>\n              </div>\n            </div>\n            <div className=\"feature-item\">\n              <div className=\"feature-icon\">[Check]</div>\n              <div className=\"feature-content\">\n                <h3>Smarter Decisions</h3>\n                <p>Turn routine footage into strategic insights that optimize operations and improve forecasting.</p>\n              </div>\n            </div>\n            <div className=\"feature-item\">\n              <div className=\"feature-icon\">[Check]</div>\n              <div className=\"feature-content\">\n                <h3>Ready Out-of-the-Box</h3>\n                <p>Fits effortlessly into your existing workflows—start getting value on day one.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section id=\"register-form\" className=\"form-section\">\n        <div className=\"form-container\">\n          <h2 className=\"form-title\">Ready to Unlock Your Visual Data?</h2>\n          <p className=\"form-subtitle\">\n            Join our waitlist and be among the first to experience frictionless visual intelligence.\n          </p>\n\n          {submitSuccess ? (\n            <div className=\"success-message\">\n              <div className=\"success-icon\">[Check]</div>\n              <h3>Thank You!</h3>\n              <p>We've received your submission and will be in touch soon.</p>\n              <button onClick={() => setSubmitSuccess(false)} className=\"reset-form-btn\">\n                Submit Another\n              </button>\n            </div>\n          ) : (\n            <form onSubmit={handleSubmit} className=\"interest-form\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"name\">Full Name *</label>\n                  <input\n                    type=\"text\"\n                    id=\"name\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleInputChange}\n                    required\n                    placeholder=\"John Smith\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"email\">Email Address *</label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleInputChange}\n                    required\n                    placeholder=\"john@company.com\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"company\">Company Name *</label>\n                  <input\n                    type=\"text\"\n                    id=\"company\"\n                    name=\"company\"\n                    value={formData.company}\n                    onChange={handleInputChange}\n                    required\n                    placeholder=\"Your Company Ltd\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"phone\">Phone Number</label>\n                  <input\n                    type=\"tel\"\n                    id=\"phone\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleInputChange}\n                    placeholder=\"+44 20 1234 5678\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"business_type\">Business Type</label>\n                <select\n                  id=\"business_type\"\n                  name=\"business_type\"\n                  value={formData.business_type}\n                  onChange={handleInputChange}\n                >\n                  <option value=\"\">Select your industry...</option>\n                  <option value=\"retail\">Retail</option>\n                  <option value=\"hospitality\">Hospitality</option>\n                  <option value=\"logistics\">Logistics & Warehousing</option>\n                  <option value=\"manufacturing\">Manufacturing</option>\n                  <option value=\"healthcare\">Healthcare</option>\n                  <option value=\"education\">Education</option>\n                  <option value=\"other\">Other</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"message\">Tell us about your needs (optional)</label>\n                <textarea\n                  id=\"message\"\n                  name=\"message\"\n                  value={formData.message}\n                  onChange={handleInputChange}\n                  rows={4}\n                  placeholder=\"What challenges are you facing with your current CCTV system?\"\n                />\n              </div>\n\n              {submitError && (\n                <div className=\"error-message\">{submitError}</div>\n              )}\n\n              <button type=\"submit\" className=\"submit-btn\" disabled={isSubmitting}>\n                {isSubmitting ? 'Submitting...' : 'Register Interest'}\n              </button>\n            </form>\n          )}\n        </div>\n      </section>\n\n      <footer className=\"landing-footer\">\n        <div className=\"footer-container\">\n          <div className=\"footer-section\">\n            <div className=\"footer-logo\">\n              <img src=\"/company-logo.png\" alt=\"Nigzsu Logo\" className=\"footer-logo-image\" />\n              <span className=\"logo-text\">Nigzsu</span>\n            </div>\n            <p className=\"footer-tagline\">\n              Democratising visual intelligence for everyone\n            </p>\n          </div>\n          <div className=\"footer-section\">\n            <h4>Company</h4>\n            <ul>\n              <li><a href=\"#solution\">Solution</a></li>\n              <li><a href=\"#features\">Features</a></li>\n              <li><button onClick={() => navigate('/login')} className=\"footer-link-btn\">Login</button></li>\n            </ul>\n          </div>\n          <div className=\"footer-section\">\n            <h4>Contact</h4>\n            <p>United Kingdom</p>\n            <p>hello@nigzsu.com</p>\n          </div>\n        </div>\n        <div className=\"footer-bottom\">\n          <p>&copy; 2025 Nigzsu. All rights reserved.</p>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default LandingPage;\n","size_bytes":14155},"frontend/src/styles/LandingPage.css":{"content":".landing-page {\n  background: #0a0a0a;\n  color: #ffffff;\n  min-height: 100vh;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;\n}\n\n.landing-nav {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: rgba(10, 10, 10, 0.95);\n  backdrop-filter: blur(10px);\n  border-bottom: 1px solid rgba(0, 212, 255, 0.1);\n  z-index: 1000;\n  padding: 1rem 0;\n}\n\n.nav-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.nav-logo {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 1.5rem;\n  font-weight: 700;\n}\n\n.logo-icon {\n  color: #00d4ff;\n  font-size: 2rem;\n}\n\n.logo-image {\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n}\n\n.logo-text {\n  color: #ffffff;\n}\n\n.nav-links {\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n}\n\n.nav-links a {\n  color: #a0a0a0;\n  text-decoration: none;\n  font-size: 0.95rem;\n  transition: color 0.3s ease;\n}\n\n.nav-links a:hover {\n  color: #00d4ff;\n}\n\n.nav-login-btn {\n  background: transparent;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  color: #ffffff;\n  padding: 0.5rem 1.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.95rem;\n  transition: all 0.3s ease;\n}\n\n.nav-login-btn:hover {\n  border-color: #00d4ff;\n  color: #00d4ff;\n}\n\n.nav-cta-btn {\n  background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);\n  border: none;\n  color: #000000;\n  padding: 0.5rem 1.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.95rem;\n  font-weight: 600;\n  transition: all 0.3s ease;\n}\n\n.nav-cta-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 212, 255, 0.4);\n}\n\n.hero-section {\n  padding: 120px 2rem 80px;\n  max-width: 1200px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 4rem;\n  align-items: center;\n  min-height: 85vh;\n}\n\n.hero-content {\n  max-width: 600px;\n}\n\n.hero-title {\n  font-size: 3.5rem;\n  font-weight: 700;\n  line-height: 1.2;\n  margin-bottom: 1.5rem;\n  color: #ffffff;\n}\n\n.highlight {\n  background: linear-gradient(135deg, #00d4ff 0%, #00ffaa 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.hero-subtitle {\n  font-size: 1.25rem;\n  color: #a0a0a0;\n  line-height: 1.6;\n  margin-bottom: 2.5rem;\n}\n\n.hero-cta-btn {\n  background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);\n  border: none;\n  color: #000000;\n  padding: 1rem 2.5rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1.1rem;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.hero-cta-btn:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 8px 20px rgba(0, 212, 255, 0.5);\n}\n\n.btn-arrow {\n  font-size: 1.3rem;\n  transition: transform 0.3s ease;\n}\n\n.hero-cta-btn:hover .btn-arrow {\n  transform: translateX(5px);\n}\n\n.hero-visual {\n  position: relative;\n}\n\n.visual-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n\n.visual-card {\n  aspect-ratio: 1;\n  background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(0, 100, 150, 0.1) 100%);\n  border: 1px solid rgba(0, 212, 255, 0.2);\n  border-radius: 12px;\n  position: relative;\n  overflow: hidden;\n}\n\n.visual-card::before {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 60%;\n  height: 60%;\n  background: radial-gradient(circle, rgba(0, 212, 255, 0.3) 0%, transparent 70%);\n  transform: translate(-50%, -50%);\n  animation: pulse 3s ease-in-out infinite;\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }\n  50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }\n}\n\n.problem-section {\n  background: linear-gradient(180deg, #0a0a0a 0%, #0f0f0f 100%);\n  padding: 80px 2rem;\n  border-top: 1px solid rgba(0, 212, 255, 0.1);\n}\n\n.section-container {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.section-title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 1.5rem;\n  color: #ffffff;\n}\n\n.section-description {\n  font-size: 1.1rem;\n  color: #a0a0a0;\n  text-align: center;\n  max-width: 800px;\n  margin: 0 auto 3rem;\n  line-height: 1.6;\n}\n\n.problem-stats {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 2rem;\n  margin-top: 3rem;\n}\n\n.stat-card {\n  background: rgba(0, 212, 255, 0.05);\n  border: 1px solid rgba(0, 212, 255, 0.2);\n  border-radius: 12px;\n  padding: 2.5rem 2rem;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\n.stat-card:hover {\n  transform: translateY(-5px);\n  border-color: rgba(0, 212, 255, 0.5);\n  background: rgba(0, 212, 255, 0.08);\n}\n\n.stat-number {\n  font-size: 3.5rem;\n  font-weight: 700;\n  color: #00d4ff;\n  margin-bottom: 0.5rem;\n}\n\n.stat-label {\n  font-size: 1rem;\n  color: #c0c0c0;\n  line-height: 1.4;\n}\n\n.insights-list {\n  max-width: 700px;\n  margin: 2rem auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.insight-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n  background: rgba(0, 212, 255, 0.05);\n  border-left: 3px solid #00d4ff;\n  padding: 1.5rem;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.insight-item:hover {\n  background: rgba(0, 212, 255, 0.08);\n  transform: translateX(5px);\n}\n\n.insight-bullet {\n  color: #00d4ff;\n  font-weight: 700;\n  font-size: 1rem;\n  flex-shrink: 0;\n}\n\n.insight-text {\n  font-size: 1.1rem;\n  color: #ffffff;\n  line-height: 1.5;\n}\n\n.solution-section {\n  padding: 80px 2rem;\n  background: #0a0a0a;\n}\n\n.solution-cards {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 2rem;\n  margin-top: 3rem;\n}\n\n.solution-card {\n  background: linear-gradient(135deg, rgba(0, 212, 255, 0.05) 0%, rgba(0, 100, 150, 0.05) 100%);\n  border: 1px solid rgba(0, 212, 255, 0.15);\n  border-radius: 12px;\n  padding: 2.5rem 2rem;\n  transition: all 0.3s ease;\n}\n\n.solution-card:hover {\n  transform: translateY(-8px);\n  border-color: rgba(0, 212, 255, 0.4);\n  box-shadow: 0 12px 30px rgba(0, 212, 255, 0.2);\n}\n\n.card-icon {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n\n.solution-card h3 {\n  font-size: 1.4rem;\n  font-weight: 600;\n  margin-bottom: 1rem;\n  color: #ffffff;\n}\n\n.solution-card p {\n  color: #a0a0a0;\n  line-height: 1.6;\n}\n\n.features-section {\n  padding: 80px 2rem;\n  background: linear-gradient(180deg, #0a0a0a 0%, #0f0f0f 100%);\n  border-top: 1px solid rgba(0, 212, 255, 0.1);\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 2rem;\n  margin-top: 3rem;\n}\n\n.feature-item {\n  display: flex;\n  gap: 1.5rem;\n  align-items: flex-start;\n}\n\n.feature-icon {\n  width: 48px;\n  height: 48px;\n  background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: #000000;\n  flex-shrink: 0;\n}\n\n.feature-content h3 {\n  font-size: 1.3rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: #ffffff;\n}\n\n.feature-content p {\n  color: #a0a0a0;\n  line-height: 1.6;\n}\n\n.form-section {\n  padding: 80px 2rem;\n  background: #0a0a0a;\n}\n\n.form-container {\n  max-width: 700px;\n  margin: 0 auto;\n  background: linear-gradient(135deg, rgba(0, 212, 255, 0.08) 0%, rgba(0, 100, 150, 0.08) 100%);\n  border: 1px solid rgba(0, 212, 255, 0.2);\n  border-radius: 16px;\n  padding: 3rem;\n}\n\n.form-title {\n  font-size: 2.2rem;\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 1rem;\n  color: #ffffff;\n}\n\n.form-subtitle {\n  font-size: 1.1rem;\n  color: #a0a0a0;\n  text-align: center;\n  margin-bottom: 2.5rem;\n}\n\n.interest-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.5rem;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-group label {\n  font-size: 0.95rem;\n  font-weight: 500;\n  color: #c0c0c0;\n}\n\n.form-group input,\n.form-group select,\n.form-group textarea {\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 212, 255, 0.3);\n  border-radius: 8px;\n  padding: 0.9rem 1rem;\n  color: #ffffff;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n}\n\n.form-group input:focus,\n.form-group select:focus,\n.form-group textarea:focus {\n  outline: none;\n  border-color: #00d4ff;\n  box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);\n}\n\n.form-group input::placeholder,\n.form-group textarea::placeholder {\n  color: rgba(160, 160, 160, 0.6);\n}\n\n.submit-btn {\n  background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);\n  border: none;\n  color: #000000;\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1.1rem;\n  font-weight: 600;\n  margin-top: 1rem;\n  transition: all 0.3s ease;\n}\n\n.submit-btn:hover:not(:disabled) {\n  transform: translateY(-3px);\n  box-shadow: 0 8px 20px rgba(0, 212, 255, 0.4);\n}\n\n.submit-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.error-message {\n  background: rgba(255, 50, 50, 0.1);\n  border: 1px solid rgba(255, 50, 50, 0.3);\n  color: #ff6b6b;\n  padding: 1rem;\n  border-radius: 8px;\n  text-align: center;\n}\n\n.success-message {\n  text-align: center;\n  padding: 2rem;\n}\n\n.success-icon {\n  width: 80px;\n  height: 80px;\n  background: linear-gradient(135deg, #00d4ff 0%, #00ffaa 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 3rem;\n  font-weight: 700;\n  color: #000000;\n  margin: 0 auto 1.5rem;\n}\n\n.success-message h3 {\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 1rem;\n  color: #ffffff;\n}\n\n.success-message p {\n  font-size: 1.1rem;\n  color: #a0a0a0;\n  margin-bottom: 2rem;\n}\n\n.reset-form-btn {\n  background: transparent;\n  border: 1px solid rgba(0, 212, 255, 0.3);\n  color: #00d4ff;\n  padding: 0.75rem 2rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n}\n\n.reset-form-btn:hover {\n  background: rgba(0, 212, 255, 0.1);\n  border-color: #00d4ff;\n}\n\n.landing-footer {\n  background: #050505;\n  border-top: 1px solid rgba(0, 212, 255, 0.1);\n  padding: 3rem 2rem 1.5rem;\n}\n\n.footer-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 2fr 1fr 1fr;\n  gap: 3rem;\n  margin-bottom: 2rem;\n}\n\n.footer-logo {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 1.5rem;\n  font-weight: 700;\n  margin-bottom: 1rem;\n}\n\n.footer-logo-image {\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n}\n\n.footer-tagline {\n  color: #a0a0a0;\n  font-size: 0.95rem;\n}\n\n.footer-section h4 {\n  font-size: 1.1rem;\n  font-weight: 600;\n  margin-bottom: 1rem;\n  color: #ffffff;\n}\n\n.footer-section ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.footer-section ul li a {\n  color: #a0a0a0;\n  text-decoration: none;\n  transition: color 0.3s ease;\n  font-size: 0.95rem;\n}\n\n.footer-section ul li a:hover {\n  color: #00d4ff;\n}\n\n.footer-link-btn {\n  background: none;\n  border: none;\n  color: #a0a0a0;\n  padding: 0;\n  cursor: pointer;\n  font-size: 0.95rem;\n  text-align: left;\n  transition: color 0.3s ease;\n}\n\n.footer-link-btn:hover {\n  color: #00d4ff;\n}\n\n.footer-section p {\n  color: #a0a0a0;\n  margin-bottom: 0.5rem;\n  font-size: 0.95rem;\n}\n\n.footer-bottom {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding-top: 2rem;\n  border-top: 1px solid rgba(255, 255, 255, 0.05);\n  text-align: center;\n}\n\n.footer-bottom p {\n  color: #666;\n  font-size: 0.9rem;\n}\n\n@media (max-width: 968px) {\n  .hero-section {\n    grid-template-columns: 1fr;\n    gap: 3rem;\n  }\n\n  .hero-title {\n    font-size: 2.5rem;\n  }\n\n  .problem-stats,\n  .solution-cards {\n    grid-template-columns: 1fr;\n  }\n\n  .features-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .form-row {\n    grid-template-columns: 1fr;\n  }\n\n  .footer-container {\n    grid-template-columns: 1fr;\n  }\n\n  .nav-links {\n    gap: 1rem;\n  }\n\n  .nav-links a {\n    display: none;\n  }\n}\n","size_bytes":11849},"backend/app/cloudsql.py":{"content":"\"\"\"\nCloud SQL Connection Module for Nigzsu Analytics\nHandles secure connections to Google Cloud SQL PostgreSQL instances\n\"\"\"\n\nimport os\nimport json\nimport logging\nfrom typing import Optional\nfrom contextlib import contextmanager\nfrom google.cloud.sql.connector import Connector\nimport sqlalchemy\nfrom sqlalchemy import text\n\nlogger = logging.getLogger(__name__)\n\nINSTANCE_CONNECTION_NAME = \"nigzsu:europe-west2:nigzsutestdb\"\nDB_USER = \"postgres\"\nDB_NAME = \"postgres\"\n\n\nclass CloudSQLConnection:\n    \"\"\"Manages Cloud SQL connections using service account authentication\"\"\"\n    \n    def __init__(self):\n        self.connector = None\n        self._engine = None\n        self.credentials_path = None\n        self._initialize_connector()\n    \n    def _initialize_connector(self):\n        \"\"\"Initialize the Cloud SQL connector with service account credentials\"\"\"\n        try:\n            credentials_json = os.environ.get('GOOGLE_CLOUD_KEY')\n            if not credentials_json:\n                raise ValueError(\"GOOGLE_CLOUD_KEY environment variable not set\")\n            \n            credentials_dict = json.loads(credentials_json)\n            \n            import tempfile\n            with tempfile.NamedTemporaryFile(mode='w', suffix='.json', delete=False) as f:\n                f.write(credentials_json)\n                self.credentials_path = f.name\n            \n            os.environ['GOOGLE_APPLICATION_CREDENTIALS'] = self.credentials_path\n            \n            from google.oauth2 import service_account\n            credentials = service_account.Credentials.from_service_account_info(credentials_dict)\n            \n            self.connector = Connector(credentials=credentials)\n            logger.info(\"Cloud SQL Connector initialized successfully\")\n            \n        except Exception as e:\n            logger.error(f\"Failed to initialize Cloud SQL connector: {e}\")\n            raise\n    \n    def _get_connection(self):\n        \"\"\"Create a database connection using the Cloud SQL connector\"\"\"\n        try:\n            conn = self.connector.connect(\n                INSTANCE_CONNECTION_NAME,\n                \"pg8000\",\n                user=DB_USER,\n                password=os.environ.get('DB_PASS'),\n                db=DB_NAME\n            )\n            \n            logger.info(f\"Connected to Cloud SQL instance: {INSTANCE_CONNECTION_NAME}\")\n            return conn\n            \n        except Exception as e:\n            logger.error(f\"Failed to create Cloud SQL connection: {e}\")\n            raise\n    \n    def get_engine(self):\n        \"\"\"Get or create a SQLAlchemy engine for the Cloud SQL instance\"\"\"\n        if self._engine is None:\n            try:\n                self._engine = sqlalchemy.create_engine(\n                    \"postgresql+pg8000://\",\n                    creator=self._get_connection,\n                    pool_size=5,\n                    max_overflow=2,\n                    pool_timeout=30,\n                    pool_recycle=1800,\n                )\n                logger.info(\"SQLAlchemy engine created successfully\")\n            except Exception as e:\n                logger.error(f\"Failed to create SQLAlchemy engine: {e}\")\n                raise\n        \n        return self._engine\n    \n    @contextmanager\n    def get_connection_context(self):\n        \"\"\"Context manager for database connections\"\"\"\n        engine = self.get_engine()\n        connection = engine.connect()\n        try:\n            yield connection\n        finally:\n            connection.close()\n    \n    def execute_query(self, query: str, params: Optional[dict] = None):\n        \"\"\"Execute a SQL query and return results\"\"\"\n        try:\n            with self.get_connection_context() as conn:\n                result = conn.execute(text(query), params or {})\n                return result.fetchall()\n        except Exception as e:\n            logger.error(f\"Query execution failed: {e}\")\n            raise\n    \n    def close(self):\n        \"\"\"Close the connector and clean up resources\"\"\"\n        if self.connector:\n            self.connector.close()\n            logger.info(\"Cloud SQL connector closed\")\n        \n        if self.credentials_path and os.path.exists(self.credentials_path):\n            os.unlink(self.credentials_path)\n            logger.info(f\"Cleaned up credentials file: {self.credentials_path}\")\n\n\ncloudsql_connection = CloudSQLConnection()\n","size_bytes":4363}},"version":1}